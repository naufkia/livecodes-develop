"use strict";(()=>{var p=(s,t)=>({...t.customSettings[s]});var l="https://cdn.jsdelivr.net/npm/sql.js@1.6.2/dist/";self.createSqlCompiler=()=>{let s=self.initSqlJs({locateFile:t=>l+t});return async(t,{config:a})=>{let i=await s,d=p("sql",a),{dbURL:o,scriptURLs:c,params:m}=d,e;if(o)try{let r=await(await fetch(o)).arrayBuffer();e=new i.Database(new Uint8Array(r))}catch{console.warn("Could not load database file from url: "+o)}e=e||new i.Database,Array.isArray(c)&&(t=[...await Promise.all(c.map(r=>fetch(r).then(h=>h.text()).catch(console.warn)).filter(Boolean)),t].join("; "));try{let n=e.exec(t,{...m});return`${JSON.stringify({data:n},null,2)}`}catch(n){return`${JSON.stringify({error:n.message},null,2)}`}finally{e.close()}}};})();
//# sourceMappingURL=lang-sql-compiler.js.map
