{
  "version": 3,
  "sources": ["../../src/livecodes/editor/codemirror/codemirror.ts", "../../src/livecodes/UI/selectors.ts", "../../src/livecodes/editor/codemirror/basic-setup.ts", "../../src/livecodes/editor/codemirror/editor-languages.ts", "../../node_modules/@replit/codemirror-indentation-markers/dist/index.js", "../../node_modules/@replit/codemirror-vscode-keymap/dist/index.js", "../../node_modules/@replit/codemirror-css-color-picker/dist/index.js"],
  "sourcesContent": ["/* eslint-disable import/no-internal-modules */\n\n// these imports are marked as external and are mapped to ./codemirror-core\n// (see html/app.html and scripts/build.js)\n// to allow lazy loaded modules to import the same modules\nimport { Compartment, Extension, EditorState } from '@codemirror/state';\nimport { oneDark } from '@codemirror/theme-one-dark';\nimport { EditorView, KeyBinding, keymap, ViewUpdate } from '@codemirror/view';\nimport { indentWithTab, undo, redo } from '@codemirror/commands';\nimport {\n  defaultHighlightStyle,\n  syntaxHighlighting,\n  indentUnit,\n  LanguageSupport,\n  HighlightStyle,\n} from '@codemirror/language';\nimport { tags } from '@lezer/highlight';\n\n// these are imported normally\nimport type {\n  FormatFn,\n  Language,\n  CodeEditor,\n  EditorOptions,\n  Theme,\n  EditorPosition,\n  EditorConfig,\n} from '../../models';\nimport { getEditorModeNode } from '../../UI/selectors';\nimport { basicSetup, lineNumbers, closeBrackets } from './basic-setup';\nimport { editorLanguages } from './editor-languages';\nimport { colorPicker, indentationMarkers, vscodeKeymap } from './extras';\n\nexport const createEditor = async (options: EditorOptions): Promise<CodeEditor> => {\n  const { container, readonly, isEmbed, editorId, getFormatterConfig, getFontFamily } = options;\n  let editorSettings: EditorConfig = { ...options };\n  if (!container) throw new Error('editor container not found');\n\n  const getLanguageSupport = async (language: Language): Promise<LanguageSupport> =>\n    editorLanguages[language]?.() || (editorLanguages.html?.() as Promise<LanguageSupport>);\n\n  const mapLanguage = (lang: Language) => {\n    if (['vue', 'vue3', 'vue2'].includes(lang)) return 'vue';\n    return options.mapLanguage?.(lang) || lang;\n  };\n\n  let language = options.language;\n  let mappedLanguage = mapLanguage(language);\n  let mappedLanguageSupport = await getLanguageSupport(mappedLanguage);\n  let theme = options.theme;\n  const keyBindings: KeyBinding[] = [];\n\n  type Listener = (update: ViewUpdate) => void;\n  const listeners: Listener[] = [];\n  const notifyListeners = (update: ViewUpdate) => {\n    if (update.docChanged) {\n      listeners.forEach((fn) => fn(update));\n    }\n  };\n\n  let vim: (() => Extension) | undefined;\n  let emacs: (() => Extension) | undefined;\n  let emmet: Extension | undefined;\n\n  const loadExtensions = async (opt: EditorConfig) => {\n    const modules = {\n      vim: `./vendor/codemirror/${process.env.codemirrorVersion}/codemirror-vim.js`,\n      emacs: `./vendor/codemirror/${process.env.codemirrorVersion}/codemirror-emacs.js`,\n      emmet: `./vendor/codemirror/${process.env.codemirrorVersion}/codemirror-emmet.js`,\n    };\n    vim = opt.editorMode === 'vim' ? (await import(modules.vim)).vim : undefined;\n    emacs = opt.editorMode === 'emacs' ? (await import(modules.emacs)).emacs : undefined;\n    emmet = opt.emmet ? (await import(modules.emmet)).emmet : undefined;\n  };\n\n  await loadExtensions(options);\n  const languageExtension = new Compartment();\n  const keyBindingsExtension = new Compartment();\n  const themeExtension = new Compartment();\n  const readOnlyExtension = EditorView.editable.of(false);\n  const editorSettingsExtension = new Compartment();\n  const lineNumbersExtension = new Compartment();\n  const closeBracketsExtension = new Compartment();\n  const italicComments = HighlightStyle.define([{ tag: tags.comment, fontStyle: 'italic' }]);\n\n  const configureSettingsExtension = (settings: Partial<EditorConfig>) => {\n    const fontSize = (settings.fontSize ?? editorSettings.fontSize) || (isEmbed ? 12 : 14);\n    const fontFamily = getFontFamily(settings.fontFamily ?? editorSettings.fontFamily);\n    const tabSize = settings.tabSize ?? editorSettings.tabSize;\n    const useTabs = settings.useTabs ?? editorSettings.useTabs;\n    const wordWrap = settings.wordWrap ?? editorSettings.wordWrap;\n    const enableEmmet = settings.emmet ?? editorSettings.emmet;\n    const editorMode = settings.editorMode ?? editorSettings.editorMode;\n\n    return [\n      EditorState.tabSize.of(tabSize),\n      indentUnit.of(useTabs ? '\\t' : ' '.repeat(tabSize)),\n      ...(wordWrap ? [EditorView.lineWrapping] : []),\n      ...(editorMode === 'vim' && vim ? [vim()] : editorMode === 'emacs' && emacs ? [emacs()] : []),\n      ...(enableEmmet && emmet ? [emmet] : []),\n      EditorView.theme({\n        '&': {\n          height: '100%',\n          fontSize: fontSize + 'px',\n        },\n        '.cm-scroller': {\n          overflow: 'auto',\n          fontFamily,\n        },\n      }),\n    ];\n  };\n  const themes = {\n    dark: oneDark,\n    light: [syntaxHighlighting(defaultHighlightStyle)],\n  };\n\n  const getExtensions = () => {\n    const defaultOptions: Extension[] = [\n      languageExtension.of(mappedLanguageSupport),\n      EditorView.updateListener.of(notifyListeners),\n      themeExtension.of(themes[theme]),\n      syntaxHighlighting(italicComments),\n      editorSettingsExtension.of(configureSettingsExtension({})),\n      keyBindingsExtension.of(keymap.of(keyBindings)),\n      lineNumbersExtension.of(editorSettings.lineNumbers ? lineNumbers() : []),\n      closeBracketsExtension.of(editorSettings.closeBrackets ? closeBrackets() : []),\n      basicSetup,\n      readonly ? readOnlyExtension : [],\n      keymap.of([indentWithTab]),\n      keymap.of(vscodeKeymap),\n      indentationMarkers(),\n      colorPicker,\n    ];\n\n    const codeblockOptions = [readOnlyExtension, ...defaultOptions];\n\n    const compiledCodeOptions = [readOnlyExtension, ...defaultOptions];\n\n    const consoleOptions = [...defaultOptions];\n\n    return editorId === 'console'\n      ? consoleOptions\n      : editorId === 'compiled'\n      ? compiledCodeOptions\n      : options.mode === 'codeblock'\n      ? codeblockOptions\n      : defaultOptions;\n  };\n\n  const showEditorMode = async (mode: EditorConfig['editorMode']) => {\n    const editorModeNode = getEditorModeNode();\n    const setEditorModeText = (str: string) => {\n      if (!editorModeNode) return;\n      editorModeNode.textContent = str;\n    };\n    if (!mode) {\n      setEditorModeText('');\n    }\n    if (mode === 'vim') {\n      setEditorModeText('Vim');\n    }\n    if (mode === 'emacs') {\n      setEditorModeText('Emacs');\n    }\n  };\n\n  const view = new EditorView({\n    state: EditorState.create({\n      extensions: getExtensions(),\n      doc: options.value,\n    }),\n    parent: container,\n  });\n  showEditorMode(options.editorMode);\n\n  const getEditorId = () => editorId;\n  const getValue = () => view.state.doc.toString();\n  const setValue = (value = '', newState = true) => {\n    if (newState) {\n      view.setState(EditorState.create({ doc: value, extensions: getExtensions() }));\n    } else {\n      view.dispatch({\n        changes: {\n          from: 0,\n          to: view.state.doc.length,\n          insert: value,\n        },\n      });\n    }\n  };\n  const focus = () => view.focus();\n  const getLanguage = () => language;\n  const setLanguage = (lang: Language, value?: string) => {\n    language = lang;\n    mappedLanguage = mapLanguage(language);\n    getLanguageSupport(mappedLanguage).then((langSupport) => {\n      mappedLanguageSupport = langSupport;\n      view.dispatch({\n        effects: languageExtension.reconfigure(mappedLanguageSupport),\n      });\n    });\n    if (value != null) {\n      setValue(value);\n    }\n  };\n\n  const onContentChanged = (fn: Listener) => {\n    listeners.push(fn);\n  };\n\n  const keyCodes = {\n    CtrlEnter: 'Ctrl-Enter',\n    ShiftEnter: 'Shift-Enter',\n    Enter: 'Enter',\n    UpArrow: 'ArrowUp',\n    DownArrow: 'ArrowDown',\n    ShiftAltF: 'Shift-Alt-f',\n  };\n\n  const addKeyBinding = (_label: string, keyCode: any, callback: () => void) => {\n    keyBindings.push({\n      key: keyCode,\n      run() {\n        callback();\n        return true;\n      },\n    });\n    view.dispatch({\n      effects: keyBindingsExtension.reconfigure(keymap.of(keyBindings)),\n    });\n  };\n\n  let formatter: FormatFn | undefined;\n  const registerFormatter = (formatFn: FormatFn | undefined) => {\n    if (!formatFn) return;\n    formatter = formatFn;\n    addKeyBinding('format', keyCodes.ShiftAltF, async () => {\n      await format();\n      focus();\n    });\n  };\n\n  const format = async () => {\n    if (!formatter) return;\n    const offset = view.state.selection.main.to;\n    const oldValue = getValue();\n    const newValue = await formatter(oldValue, offset, getFormatterConfig());\n    setValue(newValue.formatted, false);\n    const newOffset = newValue.cursorOffset >= 0 ? newValue.cursorOffset : 0;\n    view.dispatch({ selection: { anchor: newOffset } });\n  };\n\n  const setTheme = (newTheme: Theme) => {\n    theme = newTheme;\n    view.dispatch({\n      effects: themeExtension.reconfigure(themes[theme]),\n    });\n  };\n\n  const changeSettings = (settings: EditorConfig) => {\n    editorSettings = { ...settings };\n    loadExtensions(editorSettings).then(() => {\n      view.dispatch({\n        effects: [\n          editorSettingsExtension.reconfigure(configureSettingsExtension(editorSettings)),\n          lineNumbersExtension.reconfigure(editorSettings.lineNumbers ? lineNumbers() : []),\n          closeBracketsExtension.reconfigure(editorSettings.closeBrackets ? closeBrackets() : []),\n        ],\n      });\n      showEditorMode(editorSettings.editorMode);\n    });\n  };\n\n  const editorUndo = () => {\n    undo({ state: view.state, dispatch: view.dispatch });\n  };\n\n  const editorRedo = () => {\n    redo({ state: view.state, dispatch: view.dispatch });\n  };\n  addKeyBinding('redo', 'Mod-Shift-z', editorRedo);\n\n  const getPosition = (): EditorPosition => {\n    const position = view.state.selection.asSingle().ranges[0].from;\n    const lineInfo = view.state.doc.lineAt(position);\n    const lineNumber = lineInfo.number;\n    const column = position - lineInfo.from + 1;\n    return { lineNumber, column };\n  };\n\n  const setPosition = ({ lineNumber, column = 0 }: EditorPosition) => {\n    const line = view.state.doc.lines > lineNumber ? lineNumber : view.state.doc.lines;\n    const lineInfo = view.state.doc.line(line);\n    const columnNumber = lineInfo.length > column ? column : lineInfo.length;\n    const position = lineInfo.from + columnNumber;\n    view.dispatch({\n      selection: { anchor: position },\n      effects: [EditorView.scrollIntoView(position, { x: 'center', y: 'center' })],\n    });\n  };\n\n  const destroy = () => {\n    listeners.length = 0;\n    keyBindings.length = 0;\n    view.destroy();\n    container.innerHTML = '';\n  };\n\n  return {\n    getValue,\n    setValue,\n    getLanguage,\n    setLanguage,\n    getEditorId,\n    focus,\n    getPosition,\n    setPosition,\n    onContentChanged,\n    keyCodes,\n    addKeyBinding,\n    changeSettings,\n    registerFormatter,\n    format,\n    isReadonly: readonly,\n    setTheme,\n    undo: editorUndo,\n    redo: editorRedo,\n    destroy,\n    codemirror: view,\n  };\n};\n", "export const getToolbarElement = () => document.querySelector('#toolbar') as HTMLElement;\nexport const getProjectTitleElement = () => document.querySelector('#project-title') as HTMLElement;\nexport const getEditorContainerElement = () =>\n  document.querySelector('#editor-container') as HTMLElement;\nexport const getEditorsElement = () => document.querySelector('#editors') as HTMLElement;\nexport const getMarkupElement = () => document.querySelector('#markup') as HTMLElement;\nexport const getStyleElement = () => document.querySelector('#style') as HTMLElement;\nexport const getScriptElement = () => document.querySelector('#script') as HTMLElement;\nexport const getOutputElement = () => document.querySelector('#output') as HTMLElement;\nexport const getResultElement = () => document.querySelector('#result') as HTMLElement;\nexport const getResultIFrameElement = () =>\n  document.querySelector('#result > iframe') as HTMLIFrameElement;\nexport const getGutterElement = () =>\n  document.querySelector('#editor-container .gutter') as HTMLElement;\nexport const getLogoLink = () => document.querySelector('#logo a') as HTMLAnchorElement;\nexport const getRunButton = () => document.querySelector('#run-button') as HTMLElement;\nexport const getCodeRunButton = () => document.querySelector('#code-run-button') as HTMLElement;\nexport const getEditorToolbar = () => document.querySelector('#editor-tools') as HTMLElement;\nexport const getCopyButton = () => document.querySelector('#editor-tools #copy-btn') as HTMLElement;\nexport const getUndoButton = () => document.querySelector('#editor-tools #undo-btn') as HTMLElement;\nexport const getRedoButton = () => document.querySelector('#editor-tools #redo-btn') as HTMLElement;\nexport const getFormatButton = () =>\n  document.querySelector('#editor-tools #format-btn') as HTMLElement;\nexport const getEditorModeNode = () => document.querySelector<HTMLElement>('#editor-mode');\nexport const getEditorStatus = () =>\n  document.querySelector('#editor-tools #editor-status') as HTMLElement;\nexport const getExternalResourcesBtn = () =>\n  document.querySelector('#editor-tools #external-resources-btn') as HTMLElement;\nexport const getExternalResourcesMark = () =>\n  document.querySelector('#editor-tools #external-resources-mark') as HTMLElement;\nexport const getResultButton = () => document.querySelector('#result-button') as HTMLElement;\nexport const getFullscreenButton = () =>\n  document.querySelector('#fullscreen-button') as HTMLElement;\nexport const getEditorTitles = () =>\n  document.querySelectorAll<HTMLElement>('.editor-title:not(.hidden)');\nexport const getEditorDivs = () => document.querySelectorAll<HTMLElement>('#editors > .editor');\nexport const getToolspaneElement = () =>\n  document.querySelector('#output #tools-pane') as HTMLElement;\nexport const getToolspaneBar = () =>\n  document.querySelector('#output #tools-pane-bar') as HTMLElement;\nexport const getToolspaneButtons = () =>\n  document.querySelector('#tools-pane-buttons') as HTMLElement;\nexport const getToolspaneTitles = () => document.querySelector<HTMLElement>('#tools-pane-titles');\nexport const getToolspaneLoader = () => document.querySelector<HTMLElement>('#tools-pane-loading');\nexport const getZoomButtonValue = () =>\n  document.querySelector<HTMLElement>('#zoom-button #zoom-value');\nexport const getModalSaveButton = () =>\n  document.querySelector('#modal #prompt-save-btn') as HTMLElement;\nexport const getModalDoNotSaveButton = () =>\n  document.querySelector('#modal #prompt-donot-save-btn') as HTMLElement;\nexport const getModalCancelButton = () =>\n  document.querySelector('#modal #prompt-cancel-btn') as HTMLElement;\n\nexport const getModalRecoverButton = () =>\n  document.querySelector('#modal #prompt-recover-btn') as HTMLElement;\nexport const getModalSavePreviousButton = () =>\n  document.querySelector('#modal #prompt-save-previous-btn') as HTMLElement;\nexport const getModalCancelRecoverButton = () =>\n  document.querySelector('#modal #prompt-cancel-recover-btn') as HTMLElement;\nexport const getModalUnsavedName = () =>\n  document.querySelector('#modal #unsaved-project-name') as HTMLElement;\nexport const getModalUnsavedLastModified = () =>\n  document.querySelector('#modal #unsaved-project-last-modified') as HTMLElement;\nexport const getModalDisableRecoverCheckbox = () =>\n  document.querySelector('#modal #disable-recover-checkbox') as HTMLInputElement;\n\nexport const getLanguageMenuLinks = () =>\n  document.querySelectorAll<HTMLElement>('#select-editor .language-item a');\n\nexport const getLanguageMenuButtons = () =>\n  document.querySelectorAll<HTMLElement>('#select-editor .language-menu-button');\n\nexport const getstyleMenu = () =>\n  document.querySelector<HTMLElement>('#style-selector .dropdown-menu');\n\nexport const getSettingToggles = () =>\n  document.querySelectorAll<HTMLInputElement>('#settings-menu input');\n\nexport const getCssPresetLinks = () =>\n  document.querySelectorAll<HTMLAnchorElement>('#css-preset-menu a');\n\nexport const getSettingsMenuScroller = () =>\n  document.querySelector<HTMLElement>('#settings-menu-container');\nexport const getSettingsButton = () => document.querySelector<HTMLElement>('#settings-button');\n\nexport const getExportJSONLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-json');\n\nexport const getExportResultLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-result');\n\nexport const getExportSourceLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-src');\n\nexport const getExportGithubGistLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-githubGist');\n\nexport const getExportCodepenLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-codepen');\n\nexport const getExportJsfiddleLink = () =>\n  document.querySelector<HTMLAnchorElement>('#export-menu #export-jsfiddle');\n\nexport const getLoginLink = () => document.querySelector<HTMLAnchorElement>('#login-link');\n\nexport const getLogoutLink = () => document.querySelector<HTMLAnchorElement>('#logout-link');\n\nexport const getNewLink = () => document.querySelector<HTMLAnchorElement>('#new-link');\n\nexport const getOpenLink = () => document.querySelector<HTMLAnchorElement>('#open-link');\n\nexport const getSaveLink = () => document.querySelector<HTMLAnchorElement>('#save-link');\n\nexport const getForkLink = () => document.querySelector<HTMLAnchorElement>('#fork-link');\n\nexport const getSaveAsTemplateLink = () =>\n  document.querySelector<HTMLAnchorElement>('#template-link');\n\nexport const getExternalResourcesLink = () =>\n  document.querySelector<HTMLAnchorElement>('#external-resources-link');\n\nexport const getCustomSettingsLink = () =>\n  document.querySelector<HTMLAnchorElement>('#custom-settings-link');\n\nexport const getShareLink = () => document.querySelector<HTMLAnchorElement>('#share-link');\n\nexport const getEmbedLink = () => document.querySelector<HTMLAnchorElement>('#embed-link');\n\nexport const getEditorSettingsLink = () =>\n  document.querySelector<HTMLAnchorElement>('#editor-settings-link');\n\nexport const getDeployLink = () => document.querySelector<HTMLAnchorElement>('#deploy-link');\n\nexport const getSyncLink = () => document.querySelector<HTMLAnchorElement>('#sync-link');\n\nexport const getImportLink = () => document.querySelector<HTMLAnchorElement>('#import-link');\n\nexport const getBackupLink = () => document.querySelector<HTMLAnchorElement>('#backup-link');\n\nexport const getBroadcastLink = () => document.querySelector<HTMLAnchorElement>('#broadcast-link');\n\nexport const getAutoupdateToggle = () =>\n  document.querySelector('#settings-menu input#autoupdate') as HTMLInputElement;\n\nexport const getDelayValue = () =>\n  document.querySelector('#settings-menu #delay-value') as HTMLElement;\n\nexport const getDelayRange = () =>\n  document.querySelector('#settings-menu input#delay-range') as HTMLInputElement;\n\nexport const getAutosaveToggle = () =>\n  document.querySelector('#settings-menu input#autosave') as HTMLInputElement;\n\nexport const getAutosyncToggle = () =>\n  document.querySelector('#settings-menu input#autosync') as HTMLInputElement;\n\nexport const getFormatOnsaveToggle = () =>\n  document.querySelector('#settings-menu input#formatOnsave') as HTMLInputElement;\n\nexport const getProcessorToggles = () =>\n  document.querySelectorAll<HTMLInputElement>('#style-selector input');\n\nexport const getEmmetToggle = () =>\n  document.querySelector('#settings-menu input#emmet') as HTMLInputElement;\n\nexport const getThemeToggle = () =>\n  document.querySelector('#settings-menu input#theme') as HTMLInputElement;\n\nexport const getRecoverToggle = () =>\n  document.querySelector('#settings-menu input#recover-unsaved') as HTMLInputElement;\n\nexport const getSpacingToggle = () =>\n  document.querySelector('#settings-menu input#show-spacing') as HTMLInputElement;\n\nexport const getCSSPresetLinks = () =>\n  document.querySelectorAll<HTMLAnchorElement>('#css-preset-menu a');\n\nexport const getProjectInfoLink = () =>\n  document.querySelector('#settings-menu #info-link') as HTMLInputElement;\n\nexport const getAssetsLink = () =>\n  document.querySelector('#settings-menu #assets-link') as HTMLInputElement;\n\nexport const getSnippetsLink = () =>\n  document.querySelector('#settings-menu #snippets-link') as HTMLInputElement;\n\nexport const getInfoTitleInput = () =>\n  document.querySelector('#info-container input#title-input') as HTMLInputElement;\n\nexport const getInfoDescription = () =>\n  document.querySelector('#info-container #description-textarea') as HTMLTextAreaElement;\n\nexport const getInfoTagsInput = () =>\n  document.querySelector('#info-container input#tags-input') as HTMLInputElement;\n\nexport const getSaveInfoButton = () =>\n  document.querySelector<HTMLElement>('#info-container #info-save-btn');\n\nexport const getExternalResourcesTextareas = () =>\n  document.querySelectorAll<HTMLTextAreaElement>('#resources-container textarea');\n\nexport const getLoadResourcesButton = () =>\n  document.querySelector<HTMLElement>('#resources-container #resources-load-btn');\n\nexport const getCustomSettingsEditor = () =>\n  document.querySelector<HTMLElement>('#custom-settings-container #custom-settings-editor');\n\nexport const getLoadCustomSettingsButton = () =>\n  document.querySelector<HTMLElement>('#custom-settings-container #custom-settings-load-btn');\n\nexport const getTestEditor = () =>\n  document.querySelector<HTMLElement>('#test-editor-container #test-editor');\n\nexport const getLoadTestsButton = () =>\n  document.querySelector<HTMLElement>('#test-editor-container #test-load-btn');\n\nexport const getEditTestsButton = () =>\n  document.querySelector<HTMLElement>('#test-container #edit-tests-btn');\n\nexport const getRunTestsButton = () =>\n  document.querySelector<HTMLElement>('#test-container #run-tests-btn');\n\nexport const getWatchTestsButton = () =>\n  document.querySelector<HTMLElement>('#test-container #watch-tests-btn');\n\nexport const getUrlImportForm = (importContainer: HTMLElement) =>\n  importContainer.querySelector<HTMLFormElement>('#url-import-form');\nexport const getUrlImportButton = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#url-import-btn') as HTMLButtonElement;\nexport const getUrlImportInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#code-url') as HTMLInputElement;\nexport const getCodeImportInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#local-code-input') as HTMLInputElement;\n\nexport const getImportJsonUrlForm = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#json-url-import-form') as HTMLInputElement;\nexport const getImportJsonUrlButton = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#json-url-import-btn') as HTMLInputElement;\nexport const getImportJsonUrlInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#json-url') as HTMLInputElement;\n\nexport const getBulkImportJsonUrlForm = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#bulk-json-url-import-form') as HTMLInputElement;\nexport const getBulkImportJsonUrlButton = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#bulk-json-url-import-btn') as HTMLInputElement;\nexport const getBulkImportJsonUrlInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#bulk-json-url') as HTMLInputElement;\nexport const getLinkToSavedProjects = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#link-to-saved-projects') as HTMLAnchorElement;\n\nexport const getImportFileInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#file-input') as HTMLInputElement;\n\nexport const getBulkImportFileInput = (importContainer: HTMLElement) =>\n  importContainer.querySelector('#bulk-file-input') as HTMLInputElement;\n\nexport const getNewRepoForm = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector<HTMLFormElement>('#new-repo-form');\nexport const getNewRepoButton = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-btn') as HTMLButtonElement;\nexport const getNewRepoNameInput = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-name') as HTMLInputElement;\nexport const getNewRepoNameError = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-name-error') as HTMLElement;\nexport const getNewRepoMessageInput = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-message') as HTMLInputElement;\nexport const getNewRepoCommitSource = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-source') as HTMLInputElement;\nexport const getNewRepoAutoSync = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#new-repo-autosync') as HTMLInputElement;\n\nexport const getExistingRepoForm = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector<HTMLFormElement>('#existing-repo-form');\nexport const getExistingRepoButton = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#existing-repo-btn') as HTMLButtonElement;\nexport const getExistingRepoNameInput = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#existing-repo-name') as HTMLInputElement;\nexport const getExistingRepoMessageInput = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#existing-repo-message') as HTMLInputElement;\nexport const getExistingRepoCommitSource = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#existing-repo-source') as HTMLInputElement;\nexport const getExistingRepoAutoSync = (deployContainer: HTMLElement) =>\n  deployContainer.querySelector('#existing-repo-autosync') as HTMLInputElement;\n\nexport const getStarterTemplatesTab = (templatesContainer: HTMLElement) =>\n  templatesContainer.querySelector<HTMLElement>(\n    '#templates-tabs [data-target=\"templates-starter\"]',\n  );\nexport const getStarterTemplatesList = (templatesContainer: HTMLElement) =>\n  templatesContainer.querySelector<HTMLElement>('#starter-templates-list');\nexport const getUserTemplatesScreen = (templatesContainer: HTMLElement) =>\n  templatesContainer.querySelector('#templates-user .modal-screen') as HTMLElement;\n\nexport const getBulkImportButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#bulk-import-button') as HTMLElement;\n\nexport const getExportAllButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#export-all-button') as HTMLElement;\n\nexport const getDeleteAllButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#delete-all-button') as HTMLElement;\n\nexport const getAddAssetButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#assets-add-asset-button') as HTMLElement;\n\nexport const getAssetsDeleteAllButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#assets-delete-all-button') as HTMLElement;\n\nexport const getAssetsButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#assets-button') as HTMLElement;\n\nexport const getAssetDataUrlFileInput = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#asset-data-url-file-input') as HTMLInputElement;\n\nexport const getAssetDataUrlOutput = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#data-url-output') as HTMLElement;\n\nexport const getAssetGHPagesFileInput = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#asset-gh-pages-file-input') as HTMLInputElement;\n\nexport const getAssetGHPagesFileInputLabel = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#asset-gh-pages-file-input-label') as HTMLElement;\n\nexport const getAssetGHPagesFileInputButton = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#asset-gh-pages-file-input-button') as HTMLElement;\n\nexport const getAssetGHPagesOutput = (listContainer: HTMLElement) =>\n  listContainer.querySelector('#gh-pages-output') as HTMLElement;\n\nexport const getSyncStatus = (syncContainer: HTMLElement | undefined) =>\n  (syncContainer || document).querySelector<HTMLElement>('#sync-status');\n\nexport const getStartSyncBtns = (syncContainer: HTMLElement | undefined) =>\n  (syncContainer || document).querySelectorAll<HTMLButtonElement>('.start-sync-btn');\n\nexport const getBackupForm = (backupContainer: HTMLElement) =>\n  backupContainer.querySelector('#backup-form') as HTMLFormElement;\n\nexport const getBackupBtn = (backupContainer: HTMLElement) =>\n  backupContainer.querySelector('#backup-btn') as HTMLButtonElement;\n\nexport const getBackupCheckedInputs = (backupContainer: HTMLElement) =>\n  backupContainer.querySelectorAll<HTMLInputElement>('#backup input[type=\"checkbox\"]:checked');\n\nexport const getAddSnippetButton = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#snippets-add-snippet-button') as HTMLElement;\n\nexport const getSnippetsDeleteAllButton = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#snippets-delete-all-button') as HTMLElement;\n\nexport const getSnippetLanguageSelect = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#language-select') as HTMLSelectElement;\n\nexport const getAddSnippetEditor = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#add-snippet-editor') as HTMLElement;\n\nexport const getSnippetTitleInput = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#add-snippet-title-input') as HTMLInputElement;\n\nexport const getSnippetDescriptionArea = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#add-snippet-description-textarea') as HTMLTextAreaElement;\n\nexport const getSaveSnippetBtn = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#add-snippet-save-btn') as HTMLButtonElement;\n\nexport const getSnippetsBtn = (snippetsContainer: HTMLElement) =>\n  snippetsContainer.querySelector('#snippets-button') as HTMLButtonElement;\n\nexport const getBroadcastStatusLabel = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-status') as HTMLElement;\n\nexport const getBroadcastForm = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-form') as HTMLFormElement;\n\nexport const getBroadcastServerUrlInput = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-server-url') as HTMLInputElement;\n\nexport const getBroadcastSourceCheckbox = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-source') as HTMLInputElement;\n\nexport const getBroadcastBtn = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-btn') as HTMLButtonElement;\n\nexport const getBroadcastChannelUrlSection = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-channel-url-section') as HTMLElement;\n\nexport const getBroadcastChannelUrl = (broadcastContainer: HTMLElement) =>\n  broadcastContainer.querySelector('#broadcast-channel-url') as HTMLAnchorElement;\n\nexport const getBroadcastStatusBtn = () =>\n  document.querySelector('#broadcast-status-btn') as HTMLElement | null;\n\nexport const getQrCodeContainer = () => document.querySelector('#qrcode-container') as HTMLElement;\n\nexport const getEditorSettingsFormatLink = (editorSettingsContainer: HTMLElement) =>\n  editorSettingsContainer.querySelector('#editor-settings-format-link') as HTMLAnchorElement;\n", "// based on https://github.com/codemirror/basic-setup/blob/main/src/codemirror.ts\n\nimport {\n  keymap,\n  highlightSpecialChars,\n  drawSelection,\n  highlightActiveLine,\n  dropCursor,\n  rectangularSelection,\n  crosshairCursor,\n  lineNumbers,\n  highlightActiveLineGutter,\n} from '@codemirror/view';\nimport { Extension, EditorState } from '@codemirror/state';\nimport {\n  defaultHighlightStyle,\n  syntaxHighlighting,\n  indentOnInput,\n  bracketMatching,\n  foldGutter,\n  foldKeymap,\n} from '@codemirror/language';\nimport { defaultKeymap, history, historyKeymap } from '@codemirror/commands';\nimport { searchKeymap, highlightSelectionMatches } from '@codemirror/search';\nimport {\n  autocompletion,\n  completionKeymap,\n  closeBrackets,\n  closeBracketsKeymap,\n} from '@codemirror/autocomplete';\nimport { lintKeymap } from '@codemirror/lint';\n\n// (The superfluous function calls around the list of extensions work\n// around current limitations in tree-shaking software.)\n\n/// This is an extension value that just pulls together a number of\n/// extensions that you might want in a basic editor. It is meant as a\n/// convenient helper to quickly set up CodeMirror without installing\n/// and importing a lot of separate packages.\n///\n/// Specifically, it includes...\n///\n///  - [the default command bindings](#commands.defaultKeymap)\n///  - [line numbers](#view.lineNumbers)\n///  - [special character highlighting](#view.highlightSpecialChars)\n///  - [the undo history](#commands.history)\n///  - [a fold gutter](#language.foldGutter)\n///  - [custom selection drawing](#view.drawSelection)\n///  - [drop cursor](#view.dropCursor)\n///  - [multiple selections](#state.EditorState^allowMultipleSelections)\n///  - [reindentation on input](#language.indentOnInput)\n///  - [the default highlight style](#language.defaultHighlightStyle) (as fallback)\n///  - [bracket matching](#language.bracketMatching)\n///  - [bracket closing](#autocomplete.closeBrackets)\n///  - [autocompletion](#autocomplete.autocompletion)\n///  - [rectangular selection](#view.rectangularSelection) and [crosshair cursor](#view.crosshairCursor)\n///  - [active line highlighting](#view.highlightActiveLine)\n///  - [active line gutter highlighting](#view.highlightActiveLineGutter)\n///  - [selection match highlighting](#search.highlightSelectionMatches)\n///  - [search](#search.searchKeymap)\n///  - [linting](#lint.lintKeymap)\n///\n/// (You'll probably want to add some language package to your setup\n/// too.)\n///\n/// This extension does not allow customization. The idea is that,\n/// once you decide you want to configure your editor more precisely,\n/// you take this package's source (which is just a bunch of imports\n/// and an array literal), copy it into your own code, and adjust it\n/// as desired.\nexport const basicSetup: Extension = (() => [\n  // lineNumbers(),\n  highlightActiveLineGutter(),\n  highlightSpecialChars(),\n  history(),\n  foldGutter(),\n  drawSelection(),\n  dropCursor(),\n  EditorState.allowMultipleSelections.of(true),\n  indentOnInput(),\n  syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n  bracketMatching(),\n  // closeBrackets(),\n  autocompletion(),\n  rectangularSelection(),\n  crosshairCursor(),\n  highlightActiveLine(),\n  highlightSelectionMatches(),\n  keymap.of([\n    ...closeBracketsKeymap,\n    ...defaultKeymap,\n    ...searchKeymap,\n    ...historyKeymap,\n    ...foldKeymap,\n    ...completionKeymap,\n    ...lintKeymap,\n  ]),\n])();\n\n/// A minimal set of extensions to create a functional editor. Only\n/// includes [the default keymap](#commands.defaultKeymap), [undo\n/// history](#commands.history), [special character\n/// highlighting](#view.highlightSpecialChars), [custom selection\n/// drawing](#view.drawSelection), and [default highlight\n/// style](#language.defaultHighlightStyle).\nexport const minimalSetup: Extension = (() => [\n  highlightSpecialChars(),\n  history(),\n  drawSelection(),\n  syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n  keymap.of([...defaultKeymap, ...historyKeymap]),\n])();\n\nexport { EditorView } from '@codemirror/view';\nexport { lineNumbers, closeBrackets };\n", "import { LanguageSupport, StreamLanguage, StreamParser } from '@codemirror/language';\n\nimport type { Language } from '../../models';\n\nconst legacy = (parser: StreamParser<unknown>) =>\n  new LanguageSupport(StreamLanguage.define(parser));\n\nconst getPath = (mod: string) => `./vendor/codemirror/${process.env.codemirrorVersion}/${mod}`;\n\nconst moduleUrls = {\n  core: getPath('codemirror-core.js'),\n  vue: getPath('codemirror-lang-vue.js'),\n  json: getPath('codemirror-lang-json.js'),\n  markdown: getPath('codemirror-lang-markdown.js'),\n  python: getPath('codemirror-lang-python.js'),\n  php: getPath('codemirror-lang-php.js'),\n  cpp: getPath('codemirror-lang-cpp.js'),\n  sql: getPath('codemirror-lang-sql.js'),\n  wast: getPath('codemirror-lang-wast.js'),\n  scss: getPath('codemirror-lang-scss.js'),\n  coffeescript: getPath('codemirror-lang-coffeescript.js'),\n  livescript: getPath('codemirror-lang-livescript.js'),\n  ruby: getPath('codemirror-lang-ruby.js'),\n  go: getPath('codemirror-lang-go.js'),\n  perl: getPath('codemirror-lang-perl.js'),\n  lua: getPath('codemirror-lang-lua.js'),\n  julia: getPath('codemirror-lang-julia.js'),\n  scheme: getPath('codemirror-lang-scheme.js'),\n  tcl: getPath('codemirror-lang-tcl.js'),\n  less: getPath('codemirror-lang-less.js'),\n  stylus: getPath('codemirror-lang-stylus.js'),\n};\n\nexport const editorLanguages: Partial<{ [key in Language]: () => Promise<LanguageSupport> }> = {\n  html: async () => (await import(moduleUrls.core)).html(),\n  css: async () => (await import(moduleUrls.core)).css(),\n  javascript: async () => (await import(moduleUrls.core)).javascript(),\n  typescript: async () => (await import(moduleUrls.core)).javascript({ typescript: true }),\n  jsx: async () => (await import(moduleUrls.core)).javascript({ jsx: true }),\n  tsx: async () => (await import(moduleUrls.core)).javascript({ jsx: true, typescript: true }),\n  vue: async () => (await import(moduleUrls.vue)).vue(),\n  json: async () => (await import(moduleUrls.json)).json(),\n  markdown: async () => (await import(moduleUrls.markdown)).markdown(),\n  python: async () => (await import(moduleUrls.python)).python(),\n  php: async () => (await import(moduleUrls.php)).php(),\n  cpp: async () => (await import(moduleUrls.cpp)).cpp(),\n  sql: async () => (await import(moduleUrls.sql)).sql(),\n  wat: async () => (await import(moduleUrls.wast)).wast(),\n  scss: async () => legacy((await import(moduleUrls.scss)).sCSS),\n  coffeescript: async () => legacy((await import(moduleUrls.coffeescript)).coffeeScript),\n  livescript: async () => legacy((await import(moduleUrls.livescript)).liveScript),\n  ruby: async () => legacy((await import(moduleUrls.ruby)).ruby),\n  go: async () => legacy((await import(moduleUrls.go)).go),\n  perl: async () => legacy((await import(moduleUrls.perl)).perl),\n  lua: async () => legacy((await import(moduleUrls.lua)).lua),\n  julia: async () => legacy((await import(moduleUrls.julia)).julia),\n  scheme: async () => legacy((await import(moduleUrls.scheme)).scheme),\n  tcl: async () => legacy((await import(moduleUrls.tcl)).tcl),\n  less: async () => legacy((await import(moduleUrls.less)).less),\n  stylus: async () => legacy((await import(moduleUrls.stylus)).stylus),\n};\n", "import { Decoration, EditorView, ViewPlugin, WidgetType } from '@codemirror/view';\nimport { getIndentUnit } from '@codemirror/language';\nimport { RangeSet } from '@codemirror/state';\n\nconst indentationMark = /*@__PURE__*/Decoration.mark({\n    class: 'cm-indentation-marker',\n    tagName: 'span',\n});\nconst activeIndentationMark = /*@__PURE__*/Decoration.mark({\n    class: 'cm-indentation-marker active',\n    tagName: 'span',\n});\n/**\n * Widget used to simulate N indentation markers on empty lines.\n */\nclass IndentationWidget extends WidgetType {\n    constructor(numIndent, indentSize, activeIndent) {\n        super();\n        this.numIndent = numIndent;\n        this.indentSize = indentSize;\n        this.activeIndent = activeIndent;\n    }\n    eq(other) {\n        return (this.numIndent === other.numIndent &&\n            this.indentSize === other.indentSize &&\n            this.activeIndent === other.activeIndent);\n    }\n    toDOM(view) {\n        const indentSize = getIndentUnit(view.state);\n        const wrapper = document.createElement('span');\n        wrapper.style.top = '0';\n        wrapper.style.left = '4px';\n        wrapper.style.position = 'absolute';\n        wrapper.style.pointerEvents = 'none';\n        for (let indent = 0; indent < this.numIndent; indent++) {\n            const element = document.createElement('span');\n            element.className = 'cm-indentation-marker';\n            element.classList.toggle('active', indent === this.activeIndent);\n            element.innerHTML = ' '.repeat(indentSize);\n            wrapper.appendChild(element);\n        }\n        return wrapper;\n    }\n}\n/**\n * Returns the number of indentation markers a non-empty line should have\n * based on the text in the line and the size of the indent.\n */\nfunction getNumIndentMarkersForNonEmptyLine(text, indentSize, onIndentMarker) {\n    let numIndents = 0;\n    let numConsecutiveSpaces = 0;\n    let prevChar = null;\n    for (let char = 0; char < text.length; char++) {\n        // Bail if we encounter a non-whitespace character\n        if (text[char] !== ' ' && text[char] !== '\\t') {\n            // We still increment the indentation level if we would\n            // have added a marker here had this been a space or tab.\n            if (numConsecutiveSpaces % indentSize === 0 && char !== 0) {\n                numIndents++;\n            }\n            return numIndents;\n        }\n        // Every tab and N space has an indentation marker\n        const shouldAddIndent = prevChar === '\\t' || numConsecutiveSpaces % indentSize === 0;\n        if (shouldAddIndent) {\n            numIndents++;\n            if (onIndentMarker) {\n                onIndentMarker(char);\n            }\n        }\n        if (text[char] === ' ') {\n            numConsecutiveSpaces++;\n        }\n        else {\n            numConsecutiveSpaces = 0;\n        }\n        prevChar = text[char];\n    }\n    return numIndents;\n}\n/**\n * Returns the number of indent markers an empty line should have\n * based on the number of indent markers of the previous\n * and next non-empty lines.\n */\nfunction getNumIndentMarkersForEmptyLine(prev, next) {\n    const min = Math.min(prev, next);\n    const max = Math.max(prev, next);\n    // If only one side is non-zero, we add one marker\n    // until the next non-empty line.\n    if (min === 0 && max > 0) {\n        return 1;\n    }\n    // If they're equal and nonzero then\n    // take one less than the minimum\n    if (min === max && min > 0) {\n        return min - 1;\n    }\n    // Else, default to the minimum of the two\n    return min;\n}\n/**\n * Returns the next non-empty line and its indent level.\n */\nfunction findNextNonEmptyLineAndIndentLevel(doc, startLine, indentSize) {\n    const numLines = doc.lines;\n    let lineNo = startLine;\n    while (lineNo <= numLines) {\n        const { text } = doc.line(lineNo);\n        if (text.trim().length === 0) {\n            lineNo++;\n            continue;\n        }\n        const indent = getNumIndentMarkersForNonEmptyLine(text, indentSize);\n        return [lineNo, indent];\n    }\n    // Reached the end of the doc\n    return [numLines + 1, 0];\n}\n/**\n * Adds indentation markers to all lines within view.\n */\nfunction addIndentationMarkers(view) {\n    const indentSize = getIndentUnit(view.state);\n    const indentSizeMap = new Map();\n    const decorations = [];\n    for (const { from, to } of view.visibleRanges) {\n        let pos = from;\n        let prevIndentMarkers = 0;\n        let nextIndentMarkers = 0;\n        let nextNonEmptyLine = 0;\n        while (pos <= to) {\n            const line = view.state.doc.lineAt(pos);\n            const { text } = line;\n            // If a line is empty, we match the indentation according\n            // to a heuristic based on the indentations of the\n            // previous and next non-empty lines.\n            if (text.trim().length === 0) {\n                // To retrieve the next non-empty indentation level,\n                // we perform a lookahead and cache the result.\n                if (nextNonEmptyLine < line.number) {\n                    const [nextLine, nextIndent] = findNextNonEmptyLineAndIndentLevel(view.state.doc, line.number + 1, indentSize);\n                    nextNonEmptyLine = nextLine;\n                    nextIndentMarkers = nextIndent;\n                }\n                const numIndentMarkers = getNumIndentMarkersForEmptyLine(prevIndentMarkers, nextIndentMarkers);\n                // Add the indent widget and move on to next line\n                indentSizeMap.set(line.number, numIndentMarkers);\n                decorations.push({\n                    from: pos,\n                    to: pos,\n                    lineNumber: line.number,\n                    create: (activeIndentIndex) => Decoration.widget({\n                        widget: new IndentationWidget(numIndentMarkers, indentSize, activeIndentIndex),\n                    }),\n                });\n            }\n            else {\n                const indices = [];\n                prevIndentMarkers = getNumIndentMarkersForNonEmptyLine(text, indentSize, (char) => indices.push(char));\n                indentSizeMap.set(line.number, indices.length);\n                decorations.push(...indices.map((char, i) => ({\n                    from: line.from + char,\n                    to: line.from + char + 1,\n                    lineNumber: line.number,\n                    create: (activeIndentIndex) => activeIndentIndex === i\n                        ? activeIndentationMark\n                        : indentationMark,\n                })));\n            }\n            // Move on to the next line\n            pos = line.to + 1;\n        }\n    }\n    const activeBlockRange = getLinesWithActiveIndentMarker(view.state, indentSizeMap);\n    return RangeSet.of(Array.from(decorations).map(({ lineNumber, from, to, create }) => {\n        const activeIndent = lineNumber >= activeBlockRange.start &&\n            lineNumber <= activeBlockRange.end\n            ? activeBlockRange.activeIndent - 1\n            : undefined;\n        return { from, to, value: create(activeIndent) };\n    }), true);\n}\n/**\n * Returns a range of lines with an active indent marker.\n */\nfunction getLinesWithActiveIndentMarker(state, indentMap) {\n    const currentLine = state.doc.lineAt(state.selection.main.head);\n    let currentIndent = indentMap.get(currentLine.number);\n    let currentLineNo = currentLine.number;\n    // Check if the current line is starting a new block, if yes, we want to\n    // start from inside the block.\n    const nextIndent = indentMap.get(currentLineNo + 1);\n    if (nextIndent && currentIndent != null && nextIndent > currentIndent) {\n        currentIndent = nextIndent;\n        currentLineNo++;\n    }\n    // Idem but if the current line is ending a block\n    const prevIndent = indentMap.get(currentLineNo - 1);\n    if (prevIndent && currentIndent != null && prevIndent > currentIndent) {\n        currentIndent = prevIndent;\n        currentLineNo--;\n    }\n    if (!currentIndent) {\n        return { start: -1, end: -1, activeIndent: NaN };\n    }\n    let start;\n    let end;\n    for (start = currentLineNo; start >= 0; start--) {\n        const indent = indentMap.get(start - 1);\n        if (!indent || indent < currentIndent) {\n            break;\n        }\n    }\n    for (end = currentLineNo;; end++) {\n        const indent = indentMap.get(end + 1);\n        if (!indent || indent < currentIndent) {\n            break;\n        }\n    }\n    return { start, end, activeIndent: currentIndent };\n}\nfunction indentationMarkerViewPlugin() {\n    return ViewPlugin.define((view) => ({\n        decorations: addIndentationMarkers(view),\n        update(update) {\n            if (update.docChanged ||\n                update.viewportChanged ||\n                update.selectionSet) {\n                this.decorations = addIndentationMarkers(update.view);\n            }\n        },\n    }), {\n        decorations: (v) => v.decorations,\n    });\n}\nconst indentationMarkerBaseTheme = /*@__PURE__*/EditorView.baseTheme({\n    '.cm-line': {\n        position: 'relative',\n    },\n    '.cm-indentation-marker': {\n        display: 'inline-block',\n    },\n    '&light .cm-indentation-marker': {\n        background: 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") left repeat-y',\n    },\n    '&light .cm-indentation-marker.active': {\n        background: 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEX///+goKD0a5EfAAAADElEQVR4nGNgYGgAAACEAIHJde6SAAAAAElFTkSuQmCC) left repeat-y',\n    },\n    '&dark .cm-indentation-marker': {\n        background: 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) left repeat-y',\n    },\n    '&dark .cm-indentation-marker.active': {\n        background: 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAACFhYWZv3sFAAAAAnRSTlMA/1uRIrUAAAAMSURBVHicY2BgaAAAAIQAgcl17pIAAAAASUVORK5CYII=) left repeat-y',\n    },\n});\nfunction indentationMarkers() {\n    return [indentationMarkerViewPlugin(), indentationMarkerBaseTheme];\n}\n\nexport { indentationMarkers };\n", "import { insertNewlineAndIndent, cursorCharLeft, selectCharLeft, cursorGroupLeft, selectGroupLeft, cursorCharRight, selectCharRight, cursorGroupRight, selectGroupRight, cursorLineUp, selectLineUp, cursorLineDown, selectLineDown, cursorLineBoundaryBackward, selectLineBoundaryBackward, cursorDocStart, selectDocStart, cursorPageUp, selectPageUp, cursorPageDown, selectPageDown, cursorLineBoundaryForward, selectLineBoundaryForward, cursorDocEnd, selectDocEnd, selectAll, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteToLineStart, deleteToLineEnd, cursorLineStart, selectLineStart, cursorLineEnd, selectLineEnd, splitLine, transposeChars, deleteLine, moveLineDown, moveLineUp, copyLineDown, copyLineUp, selectLine, cursorMatchingBracket, indentMore, indentLess, lineComment, lineUncomment, toggleComment, toggleBlockComment, undo, redo, undoSelection } from '@codemirror/commands';\nimport { openSearchPanel, closeSearchPanel, selectMatches, replaceAll, gotoLine, selectNextOccurrence, selectSelectionMatches } from '@codemirror/search';\nimport { foldCode, unfoldCode, foldAll, unfoldAll } from '@codemirror/language';\nimport { startCompletion, closeCompletion, moveCompletionSelection, acceptCompletion, deleteBracketPair } from '@codemirror/autocomplete';\nimport { openLintPanel, nextDiagnostic } from '@codemirror/lint';\nimport { EditorSelection } from '@codemirror/state';\n\nconst createAddCursor = (direction) => (view) => {\n    const forward = direction === 'down';\n    const selection = view.state.selection;\n    for (const r of selection.ranges) {\n        selection.addRange(view.moveVertically(r, forward));\n    }\n    view.dispatch({ selection });\n    return true;\n};\nconst addCursorUp = /*@__PURE__*/createAddCursor('up');\nconst addCursorDown = /*@__PURE__*/createAddCursor('down');\nconst addCursorAtEachSelectionLine = (view) => {\n    for (const r of view.state.selection.ranges) {\n        if (r.empty) {\n            continue;\n        }\n        for (let pos = r.from; pos <= r.to;) {\n            const line = view.state.doc.lineAt(pos);\n            const anchor = Math.min(line.to, r.to);\n            {\n                EditorSelection.single(anchor);\n            }\n            pos = line.to + 1;\n        }\n    }\n    {\n        return false;\n    }\n};\n\nconst vscodeKeymap = [\n    { key: 'Ctrl-Space', run: startCompletion },\n    { key: 'Escape', run: closeCompletion },\n    { key: 'ArrowDown', run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: 'ArrowUp', run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: 'PageDown', run: /*@__PURE__*/moveCompletionSelection(true, 'page') },\n    { key: 'PageUp', run: /*@__PURE__*/moveCompletionSelection(false, 'page') },\n    { key: 'Enter', run: acceptCompletion },\n    { key: 'Tab', run: acceptCompletion },\n    { key: 'Mod-f', run: openSearchPanel, scope: 'editor search-panel' },\n    { key: 'Escape', run: closeSearchPanel, scope: 'editor search-panel' },\n    { key: 'Alt-Enter', run: selectMatches, scope: 'editor search-panel' },\n    { key: 'Mod-Alt-Enter', run: replaceAll, scope: 'editor search-panel' },\n    { key: 'Ctrl-g', run: gotoLine },\n    { key: 'Mod-d', run: selectNextOccurrence, preventDefault: true },\n    { key: 'Shift-Mod-l', run: selectSelectionMatches },\n    // Enter and shift enter handled within the search panel plugin\n    { key: 'Enter', run: insertNewlineAndIndent, shift: insertNewlineAndIndent },\n    {\n        key: 'ArrowLeft',\n        run: cursorCharLeft,\n        shift: selectCharLeft,\n        preventDefault: true,\n    },\n    {\n        key: 'Mod-ArrowLeft',\n        mac: 'Alt-ArrowLeft',\n        run: cursorGroupLeft,\n        shift: selectGroupLeft,\n    },\n    {\n        key: 'ArrowRight',\n        run: cursorCharRight,\n        shift: selectCharRight,\n        preventDefault: true,\n    },\n    {\n        key: 'Mod-ArrowRight',\n        mac: 'Alt-ArrowRight',\n        run: cursorGroupRight,\n        shift: selectGroupRight,\n    },\n    {\n        key: 'ArrowUp',\n        run: cursorLineUp,\n        shift: selectLineUp,\n        preventDefault: true,\n    },\n    {\n        key: 'ArrowDown',\n        run: cursorLineDown,\n        shift: selectLineDown,\n        preventDefault: true,\n    },\n    {\n        key: 'Home',\n        run: cursorLineBoundaryBackward,\n        shift: selectLineBoundaryBackward,\n    },\n    {\n        mac: 'Cmd-ArrowLeft',\n        run: cursorLineBoundaryBackward,\n        shift: selectLineBoundaryBackward,\n    },\n    { key: 'Mod-Home', run: cursorDocStart, shift: selectDocStart },\n    { mac: 'Cmd-ArrowUp', run: cursorDocStart, shift: selectDocStart },\n    { key: 'PageUp', run: cursorPageUp, shift: selectPageUp },\n    { mac: 'Ctrl-ArrowUp', run: cursorPageUp, shift: selectPageUp },\n    { key: 'PageDown', run: cursorPageDown, shift: selectPageDown },\n    { mac: 'Ctrl-ArrowDown', run: cursorPageDown, shift: selectPageDown },\n    {\n        key: 'End',\n        run: cursorLineBoundaryForward,\n        shift: selectLineBoundaryForward,\n    },\n    {\n        mac: 'Cmd-ArrowRight',\n        run: cursorLineBoundaryForward,\n        shift: selectLineBoundaryForward,\n    },\n    {\n        key: 'Mod-Alt-ArrowUp',\n        linux: 'Shift-Alt-ArrowUp',\n        run: addCursorUp,\n        preventDefault: true,\n    },\n    {\n        key: 'Mod-Alt-ArrowDown',\n        linux: 'Shift-Alt-ArrowDown',\n        run: addCursorDown,\n        preventDefault: true,\n    },\n    {\n        key: 'Shift-Alt-i',\n        run: addCursorAtEachSelectionLine,\n    },\n    { key: 'Mod-End', run: cursorDocEnd, shift: selectDocEnd },\n    { mac: 'Cmd-ArrowDown', run: cursorDocEnd, shift: selectDocEnd },\n    { key: 'Mod-a', run: selectAll },\n    { key: 'Backspace', run: deleteBracketPair },\n    { key: 'Backspace', run: deleteCharBackward, shift: deleteCharBackward },\n    { key: 'Delete', run: deleteCharForward },\n    { key: 'Mod-Backspace', mac: 'Alt-Backspace', run: deleteGroupBackward },\n    { key: 'Mod-Delete', mac: 'Alt-Delete', run: deleteGroupForward },\n    { mac: 'Mod-Backspace', run: deleteToLineStart },\n    { mac: 'Mod-Delete', run: deleteToLineEnd },\n    {\n        mac: 'Ctrl-b',\n        run: cursorCharLeft,\n        shift: selectCharLeft,\n        preventDefault: true,\n    },\n    { mac: 'Ctrl-f', run: cursorCharRight, shift: selectCharRight },\n    { mac: 'Ctrl-p', run: cursorLineUp, shift: selectLineUp },\n    { mac: 'Ctrl-n', run: cursorLineDown, shift: selectLineDown },\n    { mac: 'Ctrl-a', run: cursorLineStart, shift: selectLineStart },\n    { mac: 'Ctrl-e', run: cursorLineEnd, shift: selectLineEnd },\n    { mac: 'Ctrl-d', run: deleteCharForward },\n    { mac: 'Ctrl-h', run: deleteCharBackward },\n    { mac: 'Ctrl-k', run: deleteToLineEnd },\n    { mac: 'Ctrl-Alt-h', run: deleteGroupBackward },\n    { mac: 'Ctrl-o', run: splitLine },\n    { mac: 'Ctrl-t', run: transposeChars },\n    { mac: 'Ctrl-v', run: cursorPageDown },\n    { mac: 'Alt-v', run: cursorPageUp },\n    { key: 'Shift-Mod-k', run: deleteLine },\n    { key: 'Alt-ArrowDown', run: moveLineDown },\n    { key: 'Alt-ArrowUp', run: moveLineUp },\n    { win: 'Shift-Alt-ArrowDown', mac: 'Shift-Alt-ArrowDown', run: copyLineDown },\n    { win: 'Shift-Alt-ArrowUp', mac: 'Shift-Alt-ArrowUp', run: copyLineUp },\n    { key: 'Mod-l', run: selectLine, preventDefault: true },\n    { key: 'Shift-Mod-\\\\', run: cursorMatchingBracket },\n    { key: 'Tab', run: indentMore, shift: indentLess, preventDefault: true },\n    { key: 'Mod-[', run: indentLess },\n    { key: 'Mod-]', run: indentMore },\n    { key: 'Ctrl-Shift-[', mac: 'Cmd-Alt-[', run: foldCode },\n    { key: 'Ctrl-Shift-]', mac: 'Cmd-Alt-]', run: unfoldCode },\n    { key: 'Mod-k Mod-0', run: foldAll },\n    { key: 'Mod-k Mod-j', run: unfoldAll },\n    { key: 'Mod-k Mod-c', run: lineComment },\n    { key: 'Mod-k Mod-u', run: lineUncomment },\n    { key: 'Mod-/', run: toggleComment },\n    { key: 'Shift-Alt-a', run: toggleBlockComment },\n    { key: 'Mod-z', run: undo, preventDefault: true },\n    { key: 'Mod-y', run: redo, preventDefault: true },\n    { key: 'Mod-Shift-z', run: redo, preventDefault: true },\n    { key: 'Mod-u', run: undoSelection, preventDefault: true },\n    { key: 'Mod-Shift-m', run: openLintPanel },\n    { key: 'F8', run: nextDiagnostic }, // Shift should go back, but previousDiagnostic is not implemented\n];\n\nexport { vscodeKeymap };\n", "import { EditorView, ViewPlugin, Decoration, WidgetType } from '@codemirror/view';\nimport { syntaxTree } from '@codemirror/language';\n\nconst namedColors = /*@__PURE__*/new Map([\n    ['aliceblue', '#f0f8ff'],\n    ['antiquewhite', '#faebd7'],\n    ['aqua', '#00ffff'],\n    ['aquamarine', '#7fffd4'],\n    ['azure', '#f0ffff'],\n    ['beige', '#f5f5dc'],\n    ['bisque', '#ffe4c4'],\n    ['black', '#000000'],\n    ['blanchedalmond', '#ffebcd'],\n    ['blue', '#0000ff'],\n    ['blueviolet', '#8a2be2'],\n    ['brown', '#a52a2a'],\n    ['burlywood', '#deb887'],\n    ['cadetblue', '#5f9ea0'],\n    ['chartreuse', '#7fff00'],\n    ['chocolate', '#d2691e'],\n    ['coral', '#ff7f50'],\n    ['cornflowerblue', '#6495ed'],\n    ['cornsilk', '#fff8dc'],\n    ['crimson', '#dc143c'],\n    ['cyan', '#00ffff'],\n    ['darkblue', '#00008b'],\n    ['darkcyan', '#008b8b'],\n    ['darkgoldenrod', '#b8860b'],\n    ['darkgray', '#a9a9a9'],\n    ['darkgreen', '#006400'],\n    ['darkgrey', '#a9a9a9'],\n    ['darkkhaki', '#bdb76b'],\n    ['darkmagenta', '#8b008b'],\n    ['darkolivegreen', '#556b2f'],\n    ['darkorange', '#ff8c00'],\n    ['darkorchid', '#9932cc'],\n    ['darkred', '#8b0000'],\n    ['darksalmon', '#e9967a'],\n    ['darkseagreen', '#8fbc8f'],\n    ['darkslateblue', '#483d8b'],\n    ['darkslategray', '#2f4f4f'],\n    ['darkslategrey', '#2f4f4f'],\n    ['darkturquoise', '#00ced1'],\n    ['darkviolet', '#9400d3'],\n    ['deeppink', '#ff1493'],\n    ['deepskyblue', '#00bfff'],\n    ['dimgray', '#696969'],\n    ['dimgrey', '#696969'],\n    ['dodgerblue', '#1e90ff'],\n    ['firebrick', '#b22222'],\n    ['floralwhite', '#fffaf0'],\n    ['forestgreen', '#228b22'],\n    ['fuchsia', '#ff00ff'],\n    ['gainsboro', '#dcdcdc'],\n    ['ghostwhite', '#f8f8ff'],\n    ['goldenrod', '#daa520'],\n    ['gold', '#ffd700'],\n    ['gray', '#808080'],\n    ['green', '#008000'],\n    ['greenyellow', '#adff2f'],\n    ['grey', '#808080'],\n    ['honeydew', '#f0fff0'],\n    ['hotpink', '#ff69b4'],\n    ['indianred', '#cd5c5c'],\n    ['indigo', '#4b0082'],\n    ['ivory', '#fffff0'],\n    ['khaki', '#f0e68c'],\n    ['lavenderblush', '#fff0f5'],\n    ['lavender', '#e6e6fa'],\n    ['lawngreen', '#7cfc00'],\n    ['lemonchiffon', '#fffacd'],\n    ['lightblue', '#add8e6'],\n    ['lightcoral', '#f08080'],\n    ['lightcyan', '#e0ffff'],\n    ['lightgoldenrodyellow', '#fafad2'],\n    ['lightgray', '#d3d3d3'],\n    ['lightgreen', '#90ee90'],\n    ['lightgrey', '#d3d3d3'],\n    ['lightpink', '#ffb6c1'],\n    ['lightsalmon', '#ffa07a'],\n    ['lightseagreen', '#20b2aa'],\n    ['lightskyblue', '#87cefa'],\n    ['lightslategray', '#778899'],\n    ['lightslategrey', '#778899'],\n    ['lightsteelblue', '#b0c4de'],\n    ['lightyellow', '#ffffe0'],\n    ['lime', '#00ff00'],\n    ['limegreen', '#32cd32'],\n    ['linen', '#faf0e6'],\n    ['magenta', '#ff00ff'],\n    ['maroon', '#800000'],\n    ['mediumaquamarine', '#66cdaa'],\n    ['mediumblue', '#0000cd'],\n    ['mediumorchid', '#ba55d3'],\n    ['mediumpurple', '#9370db'],\n    ['mediumseagreen', '#3cb371'],\n    ['mediumslateblue', '#7b68ee'],\n    ['mediumspringgreen', '#00fa9a'],\n    ['mediumturquoise', '#48d1cc'],\n    ['mediumvioletred', '#c71585'],\n    ['midnightblue', '#191970'],\n    ['mintcream', '#f5fffa'],\n    ['mistyrose', '#ffe4e1'],\n    ['moccasin', '#ffe4b5'],\n    ['navajowhite', '#ffdead'],\n    ['navy', '#000080'],\n    ['oldlace', '#fdf5e6'],\n    ['olive', '#808000'],\n    ['olivedrab', '#6b8e23'],\n    ['orange', '#ffa500'],\n    ['orangered', '#ff4500'],\n    ['orchid', '#da70d6'],\n    ['palegoldenrod', '#eee8aa'],\n    ['palegreen', '#98fb98'],\n    ['paleturquoise', '#afeeee'],\n    ['palevioletred', '#db7093'],\n    ['papayawhip', '#ffefd5'],\n    ['peachpuff', '#ffdab9'],\n    ['peru', '#cd853f'],\n    ['pink', '#ffc0cb'],\n    ['plum', '#dda0dd'],\n    ['powderblue', '#b0e0e6'],\n    ['purple', '#800080'],\n    ['rebeccapurple', '#663399'],\n    ['red', '#ff0000'],\n    ['rosybrown', '#bc8f8f'],\n    ['royalblue', '#4169e1'],\n    ['saddlebrown', '#8b4513'],\n    ['salmon', '#fa8072'],\n    ['sandybrown', '#f4a460'],\n    ['seagreen', '#2e8b57'],\n    ['seashell', '#fff5ee'],\n    ['sienna', '#a0522d'],\n    ['silver', '#c0c0c0'],\n    ['skyblue', '#87ceeb'],\n    ['slateblue', '#6a5acd'],\n    ['slategray', '#708090'],\n    ['slategrey', '#708090'],\n    ['snow', '#fffafa'],\n    ['springgreen', '#00ff7f'],\n    ['steelblue', '#4682b4'],\n    ['tan', '#d2b48c'],\n    ['teal', '#008080'],\n    ['thistle', '#d8bfd8'],\n    ['tomato', '#ff6347'],\n    ['turquoise', '#40e0d0'],\n    ['violet', '#ee82ee'],\n    ['wheat', '#f5deb3'],\n    ['white', '#ffffff'],\n    ['whitesmoke', '#f5f5f5'],\n    ['yellow', '#ffff00'],\n    ['yellowgreen', '#9acd32'],\n]);\n\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nconst pickerState = /*@__PURE__*/new WeakMap();\nvar ColorType = /*@__PURE__*/(function (ColorType) {\n    ColorType[\"rgb\"] = \"RGB\";\n    ColorType[\"hex\"] = \"HEX\";\n    ColorType[\"named\"] = \"NAMED\";\n    ColorType[\"hsl\"] = \"HSL\";\nreturn ColorType})(ColorType || (ColorType = {}));\nconst rgbCallExpRegex = /rgb\\(\\s*(\\d{1,3}%?)\\s*,?\\s*(\\d{1,3}%?)\\s*,?\\s*(\\d{1,3}%?)\\s*(,\\s*0?\\.\\d+)?\\)/;\nconst hslCallExpRegex = /hsl\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(,\\s*0?\\.\\d+)?\\)/;\nfunction colorPickersDecorations(view) {\n    const widgets = [];\n    for (const range of view.visibleRanges) {\n        syntaxTree(view.state).iterate({\n            from: range.from,\n            to: range.to,\n            enter: ({ type, from, to }) => {\n                if (type.name === 'CallExpression') {\n                    const callExp = view.state.doc.sliceString(from, to);\n                    if (callExp.startsWith('rgb')) {\n                        const match = rgbCallExpRegex.exec(callExp);\n                        if (!match) {\n                            return;\n                        }\n                        const [_, r, g, b, a] = match;\n                        const color = rgbToHex(r, g, b);\n                        const widget = Decoration.widget({\n                            widget: new ColorPickerWidget({\n                                colorType: ColorType.rgb,\n                                color,\n                                from,\n                                to,\n                                alpha: a || '',\n                            }),\n                            side: 1,\n                        });\n                        widgets.push(widget.range(from));\n                        return;\n                    }\n                    if (callExp.startsWith('hsl')) {\n                        const match = hslCallExpRegex.exec(callExp);\n                        if (!match) {\n                            return;\n                        }\n                        const [_, h, s, l, a] = match;\n                        const color = hslToHex(h, s, l);\n                        const widget = Decoration.widget({\n                            widget: new ColorPickerWidget({\n                                colorType: ColorType.hsl,\n                                color,\n                                from,\n                                to,\n                                alpha: a || '',\n                            }),\n                            side: 1,\n                        });\n                        widgets.push(widget.range(from));\n                        return;\n                    }\n                }\n                if (type.name === 'ColorLiteral') {\n                    const [color, alpha] = toFullHex(view.state.doc.sliceString(from, to));\n                    const widget = Decoration.widget({\n                        widget: new ColorPickerWidget({\n                            colorType: ColorType.hex,\n                            color,\n                            from,\n                            to,\n                            alpha,\n                        }),\n                        side: 1,\n                    });\n                    widgets.push(widget.range(from));\n                }\n                if (type.name === 'ValueName') {\n                    const colorName = view.state.doc.sliceString(from, to);\n                    if (namedColors.has(colorName)) {\n                        const color = namedColors.get(colorName);\n                        const widget = Decoration.widget({\n                            widget: new ColorPickerWidget({\n                                colorType: ColorType.named,\n                                color,\n                                from,\n                                to,\n                                alpha: '',\n                            }),\n                            side: 1,\n                        });\n                        widgets.push(widget.range(from));\n                    }\n                }\n            },\n        });\n    }\n    return Decoration.set(widgets);\n}\nfunction toFullHex(color) {\n    if (color.length === 4) {\n        // 3-char hex\n        return [\n            `#${color[1].repeat(2)}${color[2].repeat(2)}${color[3].repeat(2)}`,\n            '',\n        ];\n    }\n    if (color.length === 5) {\n        // 4-char hex (alpha)\n        return [\n            `#${color[1].repeat(2)}${color[2].repeat(2)}${color[3].repeat(2)}`,\n            color[4].repeat(2),\n        ];\n    }\n    if (color.length === 9) {\n        // 8-char hex (alpha)\n        return [`#${color.slice(1, -2)}`, color.slice(-2)];\n    }\n    return [color, ''];\n}\nfunction rgbComponentToHex(component) {\n    let numericValue;\n    if (component.endsWith('%')) {\n        // 0-100%\n        const percent = Number(component.slice(0, -1));\n        numericValue = Math.round((percent / 100) * 255.0);\n    }\n    else {\n        numericValue = Number(component); // assume 0-255\n    }\n    return decimalToHex(numericValue);\n}\nfunction decimalToHex(decimal) {\n    const hex = decimal.toString(16);\n    return hex.length == 1 ? '0' + hex : hex;\n}\nfunction hexToRGBComponents(hex) {\n    const r = hex.slice(1, 3);\n    const g = hex.slice(3, 5);\n    const b = hex.slice(5, 7);\n    return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)];\n}\nfunction rgbToHex(r, g, b) {\n    return `#${rgbComponentToHex(r)}${rgbComponentToHex(g)}${rgbComponentToHex(b)}`;\n}\nfunction hslToHex(h, s, l) {\n    const sFloat = Number(s) / 100;\n    const lFloat = Number(l) / 100;\n    const [r, g, b] = hslToRGB(Number(h), sFloat, lFloat);\n    return `#${decimalToHex(r)}${decimalToHex(g)}${decimalToHex(b)}`;\n}\nfunction hslToRGB(hue, saturation, luminance) {\n    // If there is no Saturation it means that it\u2019s a shade of grey.\n    // So in that case we just need to convert the Luminance and set R,G and B to that level.\n    if (saturation === 0) {\n        const value = Math.round(luminance * 255);\n        return [value, value, value];\n    }\n    let temp1;\n    // If Luminance is smaller then 0.5 (50%) then temporary_1 = Luminance x (1.0+Saturation)\n    if (luminance < 0.5) {\n        temp1 = luminance * (1.0 + saturation);\n    }\n    else {\n        // If Luminance is equal or larger then 0.5 (50%) then temporary_1 = Luminance + Saturation \u2013 Luminance x Saturation\n        temp1 = luminance + saturation - luminance * saturation;\n    }\n    // temporary_2 = 2 x Luminance \u2013 temporary _1\n    const temp2 = 2 * luminance - temp1;\n    // The next step is to convert the 360 degrees in a circle to 1 by dividing the angle by 360.\n    hue = hue / 360.0;\n    // And now we need another temporary variable for each color channel, temporary_R, temporary_G and temporary_B.\n    // All values need to be between 0 and 1. In our case all the values are between 0 and 1\n    const tempR = clamp(hue + 0.333);\n    const tempG = hue;\n    const tempB = clamp(hue - 0.333);\n    const red = hueToRGB(temp1, temp2, tempR);\n    const green = hueToRGB(temp1, temp2, tempG);\n    const blue = hueToRGB(temp1, temp2, tempB);\n    return [\n        Math.round(red * 255),\n        Math.round(green * 255),\n        Math.round(blue * 255),\n    ];\n}\n// If you get a negative value you need to add 1 to it.\n// If you get a value above 1 you need to subtract 1 from it.\nfunction clamp(num) {\n    if (num < 0) {\n        return num + 1;\n    }\n    if (num > 1) {\n        return num - 1;\n    }\n    return num;\n}\n/**\n * Now we need to do up to 3 tests to select the correct formula for each color channel. Let\u2019s start with Red.\n *\n * test 1 \u2013 If 6 x temporary_R is smaller then 1, Red = temporary_2 + (temporary_1 \u2013 temporary_2) x 6 x temporary_R\n * In the case the first test is larger then 1 check the following\n *\n * test 2 \u2013 If 2 x temporary_R is smaller then 1, Red = temporary_1\n * In the case the second test also is larger then 1 do the following\n *\n * test 3 \u2013 If 3 x temporary_R is smaller then 2, Red = temporary_2 + (temporary_1 \u2013 temporary_2) x (0.666 \u2013 temporary_R) x 6\n * In the case the third test also is larger then 2 you do the following\n *\n * Red = temporary_2\n */\nfunction hueToRGB(temp1, temp2, tempHue) {\n    if (6 * tempHue < 1) {\n        return temp2 + (temp1 - temp2) * 6 * tempHue;\n    }\n    if (2 * tempHue < 1) {\n        return temp1;\n    }\n    if (3 * tempHue < 2) {\n        return temp2 + (temp1 - temp2) * (0.666 - tempHue) * 6;\n    }\n    return temp2;\n}\n// https://www.niwa.nu/2013/05/math-behind-colorspace-conversions-rgb-hsl/\nfunction rgbToHSL(r, g, b) {\n    const redPercent = r / 255;\n    const greenPercent = g / 255;\n    const bluePercent = b / 255;\n    const min = Math.min(redPercent, greenPercent, bluePercent);\n    const max = Math.max(redPercent, greenPercent, bluePercent);\n    const luminance = (max + min) / 2;\n    // If the min and max value are the same, it means that there is no saturation. ...\n    // If there is no Saturation, we don\u2019t need to calculate the Hue. So we set it to 0 degrees.\n    if (max === min) {\n        return [0, 0, luminance];\n    }\n    let saturation;\n    // If Luminance is less or equal to 0.5, then Saturation = (max-min)/(max+min)\n    if (luminance <= 0.5) {\n        saturation = (max - min) / (max + min);\n    }\n    else {\n        // If Luminance is bigger then 0.5. then Saturation = ( max-min)/(2.0-max-min)\n        saturation = (max - min) / (2.0 - max - min);\n    }\n    let hue;\n    // If Red is max, then Hue = (G-B)/(max-min)\n    if (max === redPercent) {\n        hue = (greenPercent - bluePercent) / (max - min);\n    }\n    else if (greenPercent === max) {\n        // If Green is max, then Hue = 2.0 + (B-R)/(max-min)\n        hue = 2.0 + (bluePercent - redPercent) / (max - min);\n    }\n    else {\n        // If Blue is max, then Hue = 4.0 + (R-G)/(max-min)\n        hue = 4.0 + (redPercent - greenPercent) / (max - min);\n    }\n    hue = Math.round(hue * 60); // convert to degrees\n    // make hue positive angle/degrees\n    while (hue < 0) {\n        hue += 360;\n    }\n    return [hue, saturation, luminance];\n}\nconst wrapperClassName = 'cm-css-color-picker-wrapper';\nclass ColorPickerWidget extends WidgetType {\n    constructor(_a) {\n        var { color } = _a, state = __rest(_a, [\"color\"]);\n        super();\n        this.state = state;\n        this.color = color;\n    }\n    eq(other) {\n        return (other.state.colorType === this.state.colorType &&\n            other.color === this.color &&\n            other.state.from === this.state.from &&\n            other.state.to === this.state.to &&\n            other.state.alpha === this.state.alpha);\n    }\n    toDOM() {\n        const picker = document.createElement('input');\n        pickerState.set(picker, this.state);\n        picker.type = 'color';\n        picker.value = this.color;\n        const wrapper = document.createElement('span');\n        wrapper.appendChild(picker);\n        wrapper.className = wrapperClassName;\n        return wrapper;\n    }\n    ignoreEvent() {\n        return false;\n    }\n}\nconst colorPickerTheme = /*@__PURE__*/EditorView.baseTheme({\n    [`.${wrapperClassName}`]: {\n        display: 'inline-block',\n        outline: '1px solid #eee',\n        marginRight: '0.6ch',\n        height: '1em',\n        width: '1em',\n        transform: 'translateY(1px)',\n    },\n    [`.${wrapperClassName} input[type=\"color\"]`]: {\n        cursor: 'pointer',\n        height: '100%',\n        width: '100%',\n        padding: 0,\n        border: 'none',\n        '&::-webkit-color-swatch-wrapper': {\n            padding: 0,\n        },\n        '&::-webkit-color-swatch': {\n            border: 'none',\n        },\n        '&::-moz-color-swatch': {\n            border: 'none',\n        },\n    },\n});\nconst colorPickerViewPlugin = /*@__PURE__*/ViewPlugin.fromClass(class ColorPickerViewPlugin {\n    constructor(view) {\n        this.decorations = colorPickersDecorations(view);\n    }\n    update(update) {\n        if (update.docChanged || update.viewportChanged) {\n            this.decorations = colorPickersDecorations(update.view);\n        }\n    }\n}, {\n    decorations: (v) => v.decorations,\n    eventHandlers: {\n        change: (e, view) => {\n            const target = e.target;\n            if (target.nodeName !== 'INPUT' ||\n                !target.parentElement ||\n                !target.parentElement.classList.contains(wrapperClassName)) {\n                return false;\n            }\n            const data = pickerState.get(target);\n            let converted = target.value + data.alpha;\n            if (data.colorType === ColorType.rgb) {\n                converted = `rgb(${hexToRGBComponents(target.value).join(', ')}${data.alpha})`;\n            }\n            else if (data.colorType === ColorType.named) {\n                // If the hex is an exact match for another named color, prefer retaining name\n                for (const [key, value] of namedColors.entries()) {\n                    if (value === target.value)\n                        converted = key;\n                }\n            }\n            else if (data.colorType === ColorType.hsl) {\n                const [r, g, b] = hexToRGBComponents(target.value);\n                const [h, s, l] = rgbToHSL(r, g, b);\n                converted = `hsl(${h}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%${data.alpha})`;\n            }\n            view.dispatch({\n                changes: {\n                    from: data.from,\n                    to: data.to,\n                    insert: converted,\n                },\n            });\n            return true;\n        },\n    },\n});\nconst colorPicker = [colorPickerViewPlugin, colorPickerTheme];\n\nexport { colorPicker, wrapperClassName };\n"],
  "mappings": "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",
  "names": ["Compartment", "EditorState", "oneDark", "EditorView", "keymap", "indentWithTab", "undo", "redo", "defaultHighlightStyle", "syntaxHighlighting", "indentUnit", "HighlightStyle", "tags", "getEditorModeNode", "keymap", "highlightSpecialChars", "drawSelection", "highlightActiveLine", "dropCursor", "rectangularSelection", "crosshairCursor", "lineNumbers", "highlightActiveLineGutter", "EditorState", "defaultHighlightStyle", "syntaxHighlighting", "indentOnInput", "bracketMatching", "foldGutter", "foldKeymap", "defaultKeymap", "history", "historyKeymap", "searchKeymap", "highlightSelectionMatches", "autocompletion", "completionKeymap", "closeBrackets", "closeBracketsKeymap", "lintKeymap", "EditorView", "basicSetup", "minimalSetup", "LanguageSupport", "StreamLanguage", "legacy", "parser", "getPath", "mod", "moduleUrls", "editorLanguages", "Decoration", "EditorView", "ViewPlugin", "WidgetType", "getIndentUnit", "RangeSet", "indentationMark", "activeIndentationMark", "IndentationWidget", "numIndent", "indentSize", "activeIndent", "other", "view", "wrapper", "indent", "element", "getNumIndentMarkersForNonEmptyLine", "text", "onIndentMarker", "numIndents", "numConsecutiveSpaces", "prevChar", "char", "getNumIndentMarkersForEmptyLine", "prev", "next", "min", "max", "findNextNonEmptyLineAndIndentLevel", "doc", "startLine", "numLines", "lineNo", "addIndentationMarkers", "indentSizeMap", "decorations", "from", "to", "pos", "prevIndentMarkers", "nextIndentMarkers", "nextNonEmptyLine", "line", "nextLine", "nextIndent", "numIndentMarkers", "activeIndentIndex", "indices", "i", "activeBlockRange", "getLinesWithActiveIndentMarker", "lineNumber", "create", "state", "indentMap", "currentLine", "currentIndent", "currentLineNo", "prevIndent", "start", "end", "indentationMarkerViewPlugin", "update", "v", "indentationMarkerBaseTheme", "indentationMarkers", "insertNewlineAndIndent", "cursorCharLeft", "selectCharLeft", "cursorGroupLeft", "selectGroupLeft", "cursorCharRight", "selectCharRight", "cursorGroupRight", "selectGroupRight", "cursorLineUp", "selectLineUp", "cursorLineDown", "selectLineDown", "cursorLineBoundaryBackward", "selectLineBoundaryBackward", "cursorDocStart", "selectDocStart", "cursorPageUp", "selectPageUp", "cursorPageDown", "selectPageDown", "cursorLineBoundaryForward", "selectLineBoundaryForward", "cursorDocEnd", "selectDocEnd", "selectAll", "deleteCharBackward", "deleteCharForward", "deleteGroupBackward", "deleteGroupForward", "deleteToLineStart", "deleteToLineEnd", "cursorLineStart", "selectLineStart", "cursorLineEnd", "selectLineEnd", "splitLine", "transposeChars", "deleteLine", "moveLineDown", "moveLineUp", "copyLineDown", "copyLineUp", "selectLine", "cursorMatchingBracket", "indentMore", "indentLess", "lineComment", "lineUncomment", "toggleComment", "toggleBlockComment", "undo", "redo", "undoSelection", "openSearchPanel", "closeSearchPanel", "selectMatches", "replaceAll", "gotoLine", "selectNextOccurrence", "selectSelectionMatches", "foldCode", "unfoldCode", "foldAll", "unfoldAll", "startCompletion", "closeCompletion", "moveCompletionSelection", "acceptCompletion", "deleteBracketPair", "openLintPanel", "nextDiagnostic", "EditorSelection", "createAddCursor", "direction", "view", "forward", "selection", "addCursorUp", "addCursorDown", "addCursorAtEachSelectionLine", "r", "pos", "line", "anchor", "vscodeKeymap", "EditorView", "ViewPlugin", "Decoration", "WidgetType", "syntaxTree", "namedColors", "__rest", "s", "e", "t", "p", "i", "pickerState", "ColorType", "rgbCallExpRegex", "hslCallExpRegex", "colorPickersDecorations", "view", "widgets", "range", "type", "from", "to", "callExp", "match", "_", "r", "g", "b", "a", "color", "rgbToHex", "widget", "ColorPickerWidget", "h", "l", "hslToHex", "alpha", "toFullHex", "colorName", "rgbComponentToHex", "component", "numericValue", "percent", "decimalToHex", "decimal", "hex", "hexToRGBComponents", "sFloat", "lFloat", "hslToRGB", "hue", "saturation", "luminance", "value", "temp1", "temp2", "tempR", "clamp", "tempG", "tempB", "red", "hueToRGB", "green", "blue", "num", "tempHue", "rgbToHSL", "redPercent", "greenPercent", "bluePercent", "min", "max", "wrapperClassName", "_a", "state", "other", "picker", "wrapper", "colorPickerTheme", "colorPickerViewPlugin", "update", "v", "target", "data", "converted", "key", "colorPicker", "createEditor", "options", "container", "readonly", "isEmbed", "editorId", "getFormatterConfig", "getFontFamily", "editorSettings", "getLanguageSupport", "language", "editorLanguages", "mapLanguage", "lang", "mappedLanguage", "mappedLanguageSupport", "theme", "keyBindings", "listeners", "notifyListeners", "update", "fn", "vim", "emacs", "emmet", "loadExtensions", "opt", "modules", "languageExtension", "Compartment", "keyBindingsExtension", "themeExtension", "readOnlyExtension", "EditorView", "editorSettingsExtension", "lineNumbersExtension", "closeBracketsExtension", "italicComments", "HighlightStyle", "tags", "configureSettingsExtension", "settings", "fontSize", "fontFamily", "tabSize", "useTabs", "wordWrap", "enableEmmet", "editorMode", "EditorState", "indentUnit", "themes", "oneDark", "syntaxHighlighting", "defaultHighlightStyle", "getExtensions", "defaultOptions", "keymap", "lineNumbers", "closeBrackets", "basicSetup", "indentWithTab", "vscodeKeymap", "indentationMarkers", "colorPicker", "codeblockOptions", "compiledCodeOptions", "consoleOptions", "showEditorMode", "mode", "editorModeNode", "getEditorModeNode", "setEditorModeText", "str", "view", "getEditorId", "getValue", "setValue", "value", "newState", "focus", "getLanguage", "setLanguage", "langSupport", "onContentChanged", "keyCodes", "addKeyBinding", "_label", "keyCode", "callback", "formatter", "registerFormatter", "formatFn", "format", "offset", "oldValue", "newValue", "newOffset", "setTheme", "newTheme", "changeSettings", "editorUndo", "undo", "editorRedo", "redo", "position", "lineInfo", "lineNumber", "column", "line", "columnNumber"]
}
