var F0=Object.create;var su=Object.defineProperty;var z0=Object.getOwnPropertyDescriptor;var W0=Object.getOwnPropertyNames;var G0=Object.getPrototypeOf,V0=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var K0=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of W0(t))!V0.call(e,n)&&n!==s&&su(e,n,{get:()=>t[n],enumerable:!(r=z0(t,n))||r.enumerable});return e};var ru=(e,t,s)=>(s=e!=null?F0(G0(e)):{},K0(t||!e||!e.__esModule?su(s,"default",{value:e,enumerable:!0}):s,e));var of=y((WR,Qr)=>{var nf=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function n(o,a){if(!r[o]){r[o]={};for(var l=0;l<o.length;l++)r[o][o.charAt(l)]=l}return r[o][a]}var i={compressToBase64:function(o){if(o==null)return"";var a=i._compress(o,6,function(l){return t.charAt(l)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(o){return o==null?"":o==""?null:i._decompress(o.length,32,function(a){return n(t,o.charAt(a))})},compressToUTF16:function(o){return o==null?"":i._compress(o,15,function(a){return e(a+32)})+" "},decompressFromUTF16:function(o){return o==null?"":o==""?null:i._decompress(o.length,16384,function(a){return o.charCodeAt(a)-32})},compressToUint8Array:function(o){for(var a=i.compress(o),l=new Uint8Array(a.length*2),c=0,p=a.length;c<p;c++){var d=a.charCodeAt(c);l[c*2]=d>>>8,l[c*2+1]=d%256}return l},decompressFromUint8Array:function(o){if(o==null)return i.decompress(o);for(var a=new Array(o.length/2),l=0,c=a.length;l<c;l++)a[l]=o[l*2]*256+o[l*2+1];var p=[];return a.forEach(function(d){p.push(e(d))}),i.decompress(p.join(""))},compressToEncodedURIComponent:function(o){return o==null?"":i._compress(o,6,function(a){return s.charAt(a)})},decompressFromEncodedURIComponent:function(o){return o==null?"":o==""?null:(o=o.replace(/ /g,"+"),i._decompress(o.length,32,function(a){return n(s,o.charAt(a))}))},compress:function(o){return i._compress(o,16,function(a){return e(a)})},_compress:function(o,a,l){if(o==null)return"";var c,p,d={},_={},b="",f="",u="",m=2,h=3,v=2,x=[],w=0,g=0,L;for(L=0;L<o.length;L+=1)if(b=o.charAt(L),Object.prototype.hasOwnProperty.call(d,b)||(d[b]=h++,_[b]=!0),f=u+b,Object.prototype.hasOwnProperty.call(d,f))u=f;else{if(Object.prototype.hasOwnProperty.call(_,u)){if(u.charCodeAt(0)<256){for(c=0;c<v;c++)w=w<<1,g==a-1?(g=0,x.push(l(w)),w=0):g++;for(p=u.charCodeAt(0),c=0;c<8;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1}else{for(p=1,c=0;c<v;c++)w=w<<1|p,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=0;for(p=u.charCodeAt(0),c=0;c<16;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1}m--,m==0&&(m=Math.pow(2,v),v++),delete _[u]}else for(p=d[u],c=0;c<v;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1;m--,m==0&&(m=Math.pow(2,v),v++),d[f]=h++,u=String(b)}if(u!==""){if(Object.prototype.hasOwnProperty.call(_,u)){if(u.charCodeAt(0)<256){for(c=0;c<v;c++)w=w<<1,g==a-1?(g=0,x.push(l(w)),w=0):g++;for(p=u.charCodeAt(0),c=0;c<8;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1}else{for(p=1,c=0;c<v;c++)w=w<<1|p,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=0;for(p=u.charCodeAt(0),c=0;c<16;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1}m--,m==0&&(m=Math.pow(2,v),v++),delete _[u]}else for(p=d[u],c=0;c<v;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1;m--,m==0&&(m=Math.pow(2,v),v++)}for(p=2,c=0;c<v;c++)w=w<<1|p&1,g==a-1?(g=0,x.push(l(w)),w=0):g++,p=p>>1;for(;;)if(w=w<<1,g==a-1){x.push(l(w));break}else g++;return x.join("")},decompress:function(o){return o==null?"":o==""?null:i._decompress(o.length,32768,function(a){return o.charCodeAt(a)})},_decompress:function(o,a,l){var c=[],p,d=4,_=4,b=3,f="",u=[],m,h,v,x,w,g,L,S={val:l(0),position:a,index:1};for(m=0;m<3;m+=1)c[m]=m;for(v=0,w=Math.pow(2,2),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;switch(p=v){case 0:for(v=0,w=Math.pow(2,8),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;L=e(v);break;case 1:for(v=0,w=Math.pow(2,16),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;L=e(v);break;case 2:return""}for(c[3]=L,h=L,u.push(L);;){if(S.index>o)return"";for(v=0,w=Math.pow(2,b),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;switch(L=v){case 0:for(v=0,w=Math.pow(2,8),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;c[_++]=e(v),L=_-1,d--;break;case 1:for(v=0,w=Math.pow(2,16),g=1;g!=w;)x=S.val&S.position,S.position>>=1,S.position==0&&(S.position=a,S.val=l(S.index++)),v|=(x>0?1:0)*g,g<<=1;c[_++]=e(v),L=_-1,d--;break;case 2:return u.join("")}if(d==0&&(d=Math.pow(2,b),b++),c[L])f=c[L];else if(L===_)f=h+h.charAt(0);else return null;u.push(f),c[_++]=h+f.charAt(0),d--,h=f,d==0&&(d=Math.pow(2,b),b++)}}};return i}();typeof define=="function"&&define.amd?define(function(){return nf}):typeof Qr<"u"&&Qr!=null&&(Qr.exports=nf)});var ws=y((no,Jm)=>{var yx=Object.prototype.hasOwnProperty;no=function(e,t){return yx.call(e,t)};Jm.exports=no});var je=y((dn,Xm)=>{var vx=ws();Object.keys?dn=Object.keys:dn=function(e){var t=[];for(var s in e)vx(e,s)&&t.push(s);return t};Xm.exports=dn});var mn=y((fn,Ym)=>{var bx=je();fn=function(e){return xx.test(e)?e.replace(Ex,Sx):e};var Qm=fn.map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Zm="(?:"+bx(Qm).join("|")+")",xx=new RegExp(Zm),Ex=new RegExp(Zm,"g"),Sx=function(e){return Qm[e]};Ym.exports=fn});var tt=y((io,eh)=>{io=function(e){return e==null?"":e.toString()};eh.exports=io});var sh=y((oo,th)=>{oo=function(e,t,s){return Array.prototype.indexOf.call(e,t,s)};th.exports=oo});var ut=y((ao,rh)=>{var Lx=Object.prototype.toString;ao=function(e){return Lx.call(e)};rh.exports=ao});var ne=y((lo,nh)=>{var Tx=ut();lo=function(e){return Tx(e)==="[object String]"};nh.exports=lo});var jt=y((co,ih)=>{var Cx=ut();co=function(e){return Cx(e)==="[object Number]"};ih.exports=co});var De=y((uo,oh)=>{var kx=ut();uo=function(e){var t=kx(e);return t==="[object Function]"||t==="[object GeneratorFunction]"||t==="[object AsyncFunction]"};oh.exports=uo});var Ut=y((po,ah)=>{var Mx=jt(),jx=De(),Ux=Math.pow(2,53)-1;po=function(e){if(!e)return!1;var t=e.length;return Mx(t)&&t>=0&&t<=Ux&&!jx(e)};ah.exports=po});var Be=y((fo,lh)=>{fo=function(e){return e===void 0};lh.exports=fo});var ho=y((mo,ch)=>{var qx=Be();mo=function(e,t,s){if(qx(t))return e;switch(s??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)}}return function(){return e.apply(t,arguments)}};ch.exports=mo});var J=y((go,uh)=>{var Ax=Ut(),Ox=je(),Px=ho();go=function(e,t,s){t=Px(t,s);var r,n;if(Ax(e))for(r=0,n=e.length;r<n;r++)t(e[r],r,e);else{var i=Ox(e);for(r=0,n=i.length;r<n;r++)t(e[i[r]],i[r],e)}return e};uh.exports=go});var dh=y((_o,ph)=>{var Ix=J();_o=function(e){var t=[];return Ix(e,function(s){t.push(s)}),t};ph.exports=_o});var pt=y((yo,fh)=>{var Rx=sh(),Hx=ne(),Bx=Ut(),$x=dh();yo=function(e,t){return Hx(e)?e.indexOf(t)>-1:(Bx(e)||(e=$x(e)),Rx(e,t)>=0)};fh.exports=yo});var Wt=y((vo,mh)=>{vo=function(e,t){return e.indexOf(t)===0};mh.exports=vo});var wo=y((bo,hh)=>{var Nx=tt();bo=function(e){return Nx(e).replace(Dx,function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var Dx=/["'\\\n\r\u2028\u2029]/g;hh.exports=bo});var Eo=y((xo,gh)=>{xo=function(e,t){var s=e.length-t.length;return s>=0&&e.indexOf(t,s)===s};gh.exports=xo});var Fe=y((hn,_h)=>{var Fx=ut();Array.isArray?hn=Array.isArray:hn=function(e){return Fx(e)==="[object Array]"};_h.exports=hn});var vh=y((So,yh)=>{var zx=ut();So=function(e){return zx(e)==="[object Arguments]"};yh.exports=So});var gn=y((Lo,bh)=>{var Wx=Ut(),Gx=Fe(),Vx=ne(),Kx=vh(),Jx=je();Lo=function(e){return e==null?!0:Wx(e)&&(Gx(e)||Vx(e)||Kx(e))?e.length===0:Jx(e).length===0};bh.exports=Lo});var tr=y((To,wh)=>{To=function(e){return e.length<1?e:e[0].toUpperCase()+e.slice(1)};wh.exports=To});var Co=y(xs=>{"use strict";var Xx=xs&&xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xs,"__esModule",{value:!0});xs.getObjType=void 0;var Qx=Xx(tr());function Zx(e){return e.constructor&&e.constructor.name?e.constructor.name:Qx.default({}.toString.call(e).replace(/(\[object )|]/g,""))}xs.getObjType=Zx});var Ue=y((ko,xh)=>{ko=function(e){var t=typeof e;return!!e&&(t==="function"||t==="object")};xh.exports=ko});var _n=y((Mo,Sh)=>{var Yx=Be(),Eh=J();Mo=function(e,t){return function(s){return Eh(arguments,function(r,n){if(n!==0){var i=e(r);Eh(i,function(o){(!t||Yx(s[o]))&&(s[o]=r[o])})}}),s}};Sh.exports=Mo});var Th=y((jo,Lh)=>{var eE=je(),tE=_n();jo=tE(eE);Lh.exports=jo});var kh=y((Uo,Ch)=>{var sE=je();Uo=function(e,t){var s=sE(t),r=s.length;if(e==null)return!r;e=Object(e);for(var n=0;n<r;n++){var i=s[n];if(t[i]!==e[i]||!(i in e))return!1}return!0};Ch.exports=Uo});var jh=y((qo,Mh)=>{var rE=Th(),nE=kh();qo=function(e){return e=rE({},e),function(t){return nE(t,e)}};Mh.exports=qo});var qh=y((Ao,Uh)=>{Ao=function(e){return e};Uh.exports=Ao});var yn=y((Oo,Ah)=>{var iE=ws(),oE=Fe();Oo=function(e,t){if(oE(e))return e;if(t&&iE(t,e))return[e];var s=[];return e.replace(aE,function(r,n,i,o){s.push(i?o.replace(lE,"$1"):n||r)}),s};var aE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lE=/\\(\\)?/g;Ah.exports=Oo});var Io=y((Po,Oh)=>{var cE=Be(),uE=yn();Po=function(e,t){t=uE(t,e);var s;for(s=t.shift();!cE(s);){if(e=e[s],e==null)return;s=t.shift()}return e};Oh.exports=Po});var Ih=y((Ro,Ph)=>{var pE=Fe(),dE=Io();Ro=function(e){return pE(e)?function(t){return dE(t,e)}:fE(e)};function fE(e){return function(t){return t?.[e]}}Ph.exports=Ro});var sr=y((Ho,Rh)=>{var mE=De(),hE=Ue(),gE=Fe(),_E=ho(),yE=jh(),vE=qh(),bE=Ih();Ho=function(e,t,s){return e==null?vE:mE(e)?_E(e,t,s):hE(e)&&!gE(e)?yE(e):bE(e)};Rh.exports=Ho});var Es=y((Bo,Hh)=>{var wE=sr(),xE=je(),EE=Ut();Bo=function(e,t,s){t=wE(t,s);for(var r=!EE(e)&&xE(e),n=(r||e).length,i=Array(n),o=0;o<n;o++){var a=r?r[o]:o;i[o]=t(e[a],a,e)}return i};Hh.exports=Bo});var $h=y(($o,Bh)=>{var SE=/^\s+/;$o=function(e,t){if(t==null)return e.trimLeft?e.trimLeft():e.replace(SE,"");for(var s=0,r=e.length,n=t.length,i=!0,o,a;i&&s<r;)for(i=!1,o=-1,a=e.charAt(s);++o<n;)if(a===t[o]){i=!0,s++;break}return s>=r?"":e.substr(s,r)};Bh.exports=$o});var Dh=y((No,Nh)=>{No=function(e,t){if(t==null){if(e.trimRight)return e.trimRight();t=` \r
	\f\v`}for(var s=e.length-1,r=t.length,n=!0,i,o;n&&s>=0;)for(n=!1,i=-1,o=e.charAt(s);++i<r;)if(o===t[i]){n=!0,s--;break}return s>=0?e.substring(0,s+1):""};Nh.exports=No});var Gt=y((Do,Fh)=>{var LE=$h(),TE=Dh();Do=function(e,t){return t==null&&e.trim?e.trim():LE(TE(e,t),t)};Fh.exports=Do});var zo=y((Fo,zh)=>{Fo=typeof window=="object"&&typeof document=="object"&&document.nodeType===9;zh.exports=Fo});var vn=y((Wo,Wh)=>{var CE=zo();Wo=CE?window:global;Wh.exports=Wo});var bn=y((Go,Gh)=>{Go=function(e){var t=e?e.length:0;if(t)return e[t-1]};Gh.exports=Go});var Kh=y((Vo,Vh)=>{var kE=J(),ME=Be(),jE=De();Vo=function(e,t){ME(t)&&(t=!0);var s=jE(t),r={};return kE(e,function(n){r[n]=s?t(n):t}),r};Vh.exports=Vo});var Vt=y((Ko,Jh)=>{var UE=tt();Ko=function(e){return UE(e).toLocaleLowerCase()};Jh.exports=Ko});var eg=y((Jo,Yh)=>{var wn=bn(),qE=Kh(),xn=Wt(),Xh=Vt();Jo=function(e,t){for(var s=[],r,n=e;e;){if(r=!0,!wn(s)||!PE[wn(s)]){if(xn(e,"<!--")){var i=e.indexOf("-->");i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),r=!1)}else if(xn(e,"<!")){var o=e.match(AE);o&&(t.text&&t.text(e.substring(0,o[0].length)),e=e.substring(o[0].length),r=!1)}else if(xn(e,"</")){var a=e.match(Qh);a&&(e=e.substring(a[0].length),a[0].replace(Qh,f),r=!1)}else if(xn(e,"<")){var l=e.match(Zh);l&&(e=e.substring(l[0].length),l[0].replace(Zh,b),r=!1)}if(r){var c=e.indexOf("<"),p=c<0?e:e.substring(0,c);e=c<0?"":e.substring(c),t.text&&t.text(p)}}else{var d=new RegExp("</".concat(wn(s),"[^>]*>")).exec(e);if(d){var _=e.substring(0,d.index);e=e.substring(d.index+d[0].length),_&&t.text&&t.text(_)}f("",wn(s))}if(n===e)throw Error("Parse Error: "+e);n=e}f();function b(u,m,h,v){if(m=Xh(m),v=!!v,v||s.push(m),t.start){var x={};h.replace(OE,function(w,g,L,S,R){x[g]=L||S||R||""}),t.start(m,x,v)}}function f(u,m){m=Xh(m);var h;if(!m)h=0;else for(h=s.length-1;h>=0&&s[h]!==m;h--);if(h>=0){for(var v=s.length-1;v>=h;v--)t.end&&t.end(s[v]);s.length=h}}};var AE=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,Qh=/^<\/([-A-Za-z0-9_]+)[^>]*>/,Zh=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,OE=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,PE=qE("script,style".split(","));Yh.exports=Jo});var En=y((Xo,rg)=>{var IE=Ue(),RE=De(),tg=Object.getPrototypeOf,sg={}.constructor;Xo=function(e){if(IE(e)){if(tg)return tg(e);var t=e.__proto__;if(t||t===null)return t;if(RE(e.constructor))return e.constructor.prototype;if(e instanceof sg)return sg.prototype}};rg.exports=Xo});var rr=y((Qo,ng)=>{var HE=sr(),BE=J();Qo=function(e,t,s){var r=[];return t=HE(t,s),BE(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r};ng.exports=Qo});var Sn=y((Zo,ig)=>{var $E=rr();Zo=function(e,t){return t=t||NE,$E(e,function(s,r,n){for(var i=n.length;++r<i;)if(t(s,n[r]))return!1;return!0})};function NE(e,t){return e===t}ig.exports=Zo});var nr=y((ea,lg)=>{var og=je(),DE=En(),FE=Sn(),Yo=Object.getOwnPropertyNames,ag=Object.getOwnPropertySymbols;ea=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.prototype,r=s===void 0?!0:s,n=t.unenumerable,i=n===void 0?!1:n,o=t.symbol,a=o===void 0?!1:o,l=[];if((i||a)&&Yo){var c=og;i&&Yo&&(c=Yo);do l=l.concat(c(e)),a&&ag&&(l=l.concat(ag(e)));while(r&&(e=DE(e))&&e!==Object.prototype);l=FE(l)}else if(r)for(var p in e)l.push(p);else l=og(e);return l};lg.exports=ea});var Kt=y((ta,cg)=>{var zE=_n(),WE=nr();ta=zE(WE);cg.exports=ta});var dt=y((sa,ug)=>{var GE=Ut(),VE=Es(),KE=Fe(),JE=ne();sa=function(e){return e?KE(e)?e:GE(e)&&!JE(e)?VE(e):[e]:[]};ug.exports=sa});var na=y((ra,dg)=>{var XE=Ue();ra=function(e){if(!XE(e))return{};if(pg)return pg(e);function t(){}return t.prototype=e,new t};var pg=Object.create;dg.exports=ra});var mg=y((ia,fg)=>{var QE=na();ia=function(e,t){e.prototype=QE(t.prototype)};fg.exports=ia});var aa=y((oa,hg)=>{var ZE=De();oa=typeof wx<"u"&&ZE(wx.openLocation);hg.exports=oa});var Ss=y((Ln,bg)=>{var gg=Kt(),_g=dt(),yg=mg(),YE=Io(),eS=aa();Ln=function(e,t){return tS.extend(e,t)};function vg(e,t,s){s=s||{};var r=t.className||YE(t,"initialize.name")||"";delete t.className;var n=function(){var i=_g(arguments);return this.initialize?this.initialize.apply(this,i)||this:this};if(!eS)try{n=new Function("toArr","return function "+r+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(_g)}catch{}return yg(n,e),n.prototype.constructor=n,n.extend=function(i,o){return vg(n,i,o)},n.inherits=function(i){yg(n,i)},n.methods=function(i){return gg(n.prototype,i),n},n.statics=function(i){return gg(n,i),n},n.methods(t).statics(s),n}var tS=Ln.Base=vg(Object,{className:"Base",callSuper:function(e,t,s){var r=e.prototype[t];return r.apply(this,s)},toString:function(){return this.constructor.name}});bg.exports=Ln});var xg=y((la,wg)=>{la=function(e){var t=e.length,s=Array(t);t--;for(var r=0;r<=t;r++)s[t-r]=e[r];return s};wg.exports=la});var ua=y((ca,Eg)=>{var sS=Ss(),rS=xg();ca=sS({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(e){return this._items.push(e),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(e,t){t=arguments.length>1?t:this;for(var s=this._items,r=this.size-1,n=0;r>=0;r--,n++)e.call(t,s[r],n,this)},toArr:function(){return rS(this._items)}});Eg.exports=ca});var Lg=y((pa,Sg)=>{var nS=sr(),iS=je();pa=function(e,t,s){t=nS(t,s);for(var r=iS(e),n=r.length,i={},o=0;o<n;o++){var a=r[o];i[a]=t(e[a],a,e)}return i};Sg.exports=pa});var Mg=y((fa,kg)=>{var oS=eg(),aS=ua(),Cg=Fe(),Tg=J(),lS=ne(),cS=Lg();function uS(e){var t=[],s=new aS;return oS(e,{start:function(r,n){n=cS(n,function(i){return pS(i)}),s.push({tag:r,attrs:n})},end:function(){var r=s.pop();if(!s.size){t.push(r);return}var n=s.peek();Cg(n.content)||(n.content=[]),n.content.push(r)},comment:function(r){var n="<!--".concat(r,"-->"),i=s.peek();if(!i){t.push(n);return}i.content||(i.content=[]),i.content.push(n)},text:function(r){var n=s.peek();if(!n){t.push(r);return}n.content||(n.content=[]),n.content.push(r)}}),t}function da(e){var t="";return Cg(e)?Tg(e,function(s){return t+=da(s)}):lS(e)?t=e:(t+="<".concat(e.tag),Tg(e.attrs,function(s,r){return t+=" ".concat(r,'="').concat(dS(s),'"')}),t+=">",e.content&&(t+=da(e.content)),t+="</".concat(e.tag,">")),t}var pS=function(e){return e.replace(/&quot;/g,'"')},dS=function(e){return e.replace(/"/g,"&quot;")};fa={parse:uS,stringify:da};kg.exports=fa});var Ls=y((ma,Ug)=>{var fS=jt(),jg=Ue(),mS=De(),hS=ne();ma=function(e){if(fS(e))return e;if(jg(e)){var t=mS(e.valueOf)?e.valueOf():e;e=jg(t)?t+"":t}return hS(e)?+e:e===0?e:+e};Ug.exports=ma});var Cn=y(pe=>{"use strict";var Jt=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});pe.pxToNum=pe.executeAfterTransition=pe.hasVerticalScrollbar=pe.measuredScrollbarWidth=pe.eventClient=pe.drag=pe.classPrefix=void 0;var gS=Jt(Es()),_S=Jt(Gt()),yS=Jt(vn()),qg=Jt(Mg()),vS=Jt(jt()),bS=Jt(pt()),wS=Jt(Ls());function xS(e){let t=`luna-${e}-`;function s(r){return gS.default(_S.default(r).split(/\s+/),n=>bS.default(n,t)?n:n.replace(/[\w-]+/,i=>`${t}${i}`)).join(" ")}return function(r){if(/<[^>]*>/g.test(r))try{let n=qg.default.parse(r);return Ag(n,i=>{i.attrs&&i.attrs.class&&(i.attrs.class=s(i.attrs.class))}),qg.default.stringify(n)}catch{return s(r)}return s(r)}}pe.classPrefix=xS;function Ag(e,t){for(let s=0,r=e.length;s<r;s++){let n=e[s];t(n),n.content&&Ag(n.content,t)}}var ES="ontouchstart"in yS.default,SS={start:"touchstart",move:"touchmove",end:"touchend"},LS={start:"mousedown",move:"mousemove",end:"mouseup"};function TS(e){return ES?SS[e]:LS[e]}pe.drag=TS;function CS(e,t){let s=e==="x"?"clientX":"clientY";return t[s]?t[s]:t.changedTouches?t.changedTouches[0][s]:0}pe.eventClient=CS;var Tn;function kS(){if(vS.default(Tn))return Tn;if(!document)return 16;let e=document.createElement("div"),t=document.createElement("div");return e.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),t.setAttribute("style","height: 200px"),e.appendChild(t),document.body.appendChild(e),Tn=e.offsetWidth-e.clientWidth,document.body.removeChild(e),Tn}pe.measuredScrollbarWidth=kS;function MS(e){return e.scrollHeight>e.offsetHeight}pe.hasVerticalScrollbar=MS;function jS(e,t){let s=r=>{r.target===e&&(e.removeEventListener("transitionend",s),t())};e.addEventListener("transitionend",s)}pe.executeAfterTransition=jS;function US(e){return wS.default(e.replace("px",""))}pe.pxToNum=US});var Rg=y(ir=>{"use strict";var qt=ir&&ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ir,"__esModule",{value:!0});var qS=qt(mn()),AS=qt(tt()),OS=qt(pt()),PS=qt(Wt()),IS=qt(wo()),Og=qt(J()),RS=qt(Eo()),HS=qt(gn()),Pg=Co(),BS=Cn(),Ts=BS.classPrefix("console");function ga(e,{topObj:t,level:s=0,getterVal:r=!1,unenumerable:n=!0}={}){let i="",o="",l=[],c=[],p="",_;t=t||e;let b={getterVal:r,unenumerable:n,level:s+1},f=s===0,u=`<span class="${Ts("key")}">`,m=`<span class="${Ts("number")}">`,h=`<span class="${Ts("null")}">`,v=`<span class="${Ts("string")}">`,x=`<span class="${Ts("boolean")}">`,w=`<span class="${Ts("special")}">`,g=H=>qS.default(H).replace(/\\n/g,"\u21B5").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,""),L="</span>",S=H=>u+g(H)+L,R=H=>m+H+L,$=H=>v+H+L,ot=H=>x+H+L,Oe=H=>h+H+L;function Se(H){return H=AS.default(H),OS.default($S,H)||PS.default(H,"Array[")?w+g(H)+L:v+g(`"${H}"`)+L}function V(H){if(_>5){p=", \u2026";return}let ue=S(ha(H));if(!r){let ve=Object.getOwnPropertyDescriptor(e,H);if(ve&&ve.get){l.push(`${ue}: ${Se("(...)")}`),_++;return}}l.push(`${ue}: ${ga(t[H],b)}`),_++}try{o={}.toString.call(e)}catch{o="[object Object]"}let ye=o=="[object String]",j=o=="[object Array]",B=o=="[object Object]",K=o=="[object Number]",oe=o=="[object RegExp]",Ke=o=="[object Symbol]",at=o=="[object Function]",ke=o=="[object Boolean]";if(ye)i=Se(ha(e));else if(oe)i=$(ha(e.toString()));else if(at)i=Se("\u0192");else if(j)if(f){i="[";let H=e.length,ue="";H>100&&(H=100,ue=", \u2026");for(let ve=0;ve<H;ve++)l.push(`${ga(e[ve],b)}`);i+=l.join(", ")+ue+"]"}else i=`Array(${e.length})`;else if(B)Ig(e)&&(e=Object.getPrototypeOf(e)),c=n?Object.getOwnPropertyNames(e):Object.keys(e),f?(_=1,i="{",Og.default(c,V),i+=l.join(", ")+p+"}"):(i=Pg.getObjType(e),i==="Object"&&(i="{\u2026}"));else if(K)i=e+"",RS.default(i,"Infinity")||i==="NaN"?i=`"${i}"`:i=R(i);else if(ke)i=ot(e?"true":"false");else if(e===null)i=Oe("null");else if(Ke)i=Se("Symbol");else if(e===void 0)i=Se("undefined");else try{Ig(e)&&(e=Object.getPrototypeOf(e)),f?(_=1,i="{",c=n?Object.getOwnPropertyNames(e):Object.keys(e),Og.default(c,V),i+=l.join(", ")+p+"}"):(i=Pg.getObjType(e),i==="Object"&&(i="{\u2026}"))}catch{i=Se(e)}return i}ir.default=ga;var $S=["(...)","undefined","Symbol","Object","\u0192"];function Ig(e){let t=HS.default(Object.getOwnPropertyNames(e)),s=Object.getPrototypeOf(e);return t&&s&&s!==Object.prototype}function ha(e){return IS.default(e).replace(/\\'/g,"'").replace(/\t/g,"\\t")}});var Bg=y((_a,Hg)=>{_a=function(e,t,s){var r=e.length;t==null?t=0:t<0?t=Math.max(r+t,0):t=Math.min(t,r),s==null?s=r:s<0?s=Math.max(r+s,0):s=Math.min(s,r);for(var n=[];t<s;)n.push(e[t++]);return n};Hg.exports=_a});var kn=y((ya,$g)=>{ya=function(e,t){return t=t==null?e.length-1:+t,function(){var s=Math.max(arguments.length-t,0),r=new Array(s),n;for(n=0;n<s;n++)r[n]=arguments[n+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=new Array(t+1);for(n=0;n<t;n++)i[n]=arguments[n];return i[t]=r,e.apply(this,i)}};$g.exports=ya});var Dg=y((va,Ng)=>{var NS=kn(),DS=dt();va=NS(function(e,t){return function(){var s=[];return s=s.concat(t),s=s.concat(DS(arguments)),e.apply(this,s)}});Ng.exports=va});var zg=y((ba,Fg)=>{ba=function(e,t){var s;return function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=null),s}};Fg.exports=ba});var Gg=y((wa,Wg)=>{var FS=Dg(),zS=zg();wa=FS(zS,2);Wg.exports=wa});var Ea=y((xa,Vg)=>{var WS=Ue(),GS=Fe(),VS=Kt();xa=function(e){return WS(e)?GS(e)?e.slice():VS({},e):e};Vg.exports=xa});var or=y((Mn,Xg)=>{var KS=Ss(),Kg=ws(),Jg=J(),JS=Bg(),XS=Gg(),QS=Ea();Mn=KS({initialize:function(){this._events=this._events||{}},on:function(e,t){return this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){var s=this._events;if(Kg(s,e)){var r=s[e].indexOf(t);return r>-1&&s[e].splice(r,1),this}},once:function(e,t){return this.on(e,XS(t)),this},emit:function(e){var t=this;if(Kg(this._events,e)){var s=JS(arguments,1),r=QS(this._events[e]);return Jg(r,function(n){return n.apply(t,s)},this),this}},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this}},{mixin:function(e){Jg(["on","off","once","emit","removeAllListeners"],function(t){e[t]=Mn.prototype[t]}),e._events=e._events||{}}});Xg.exports=Mn});var La=y((Sa,Qg)=>{Sa=function(e){return e===!0||e===!1};Qg.exports=Sa});var Yg=y((Ta,Zg)=>{Ta=function(e){return e==null};Zg.exports=Ta});var ka=y((Ca,e_)=>{var ZS=Yg();Ca=function(e){if(ZS(e))return"";try{return YS.call(e)}catch{}try{return e+""}catch{}return""};var YS=Function.prototype.toString;e_.exports=Ca});var ja=y((Ma,s_)=>{var eL=Ue(),t_=De();Ma=function(e){return eL(e)&&t_(e.then)&&t_(e.catch)};s_.exports=Ma});var qa=y((Ua,r_)=>{var tL=jt();Ua=function(e){return tL(e)&&e!==+e};r_.exports=Ua});var i_=y((Aa,n_)=>{var sL=De();Aa=function(e){return e==null?!1:e._isBuffer?!0:e.constructor&&sL(e.constructor.isBuffer)&&e.constructor.isBuffer(e)};n_.exports=Aa});var Pa=y((Oa,o_)=>{var rL=ut(),nL=qa(),iL=Vt(),oL=i_();Oa=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s;return e===null&&(s="Null"),e===void 0&&(s="Undefined"),nL(e)&&(s="NaN"),oL(e)&&(s="Buffer"),s||(s=rL(e).match(aL),s&&(s=s[1])),s?t?iL(s):s:""};var aL=/^\[object\s+(.*?)]$/;o_.exports=Oa});var l_=y((Ia,a_)=>{var lL=kn();Ia=lL(function(e,t){for(var s=e.length,r=0,n=t.length;r<n;r++)for(var i=t[r],o=0,a=i.length;o<a;o++)e[s++]=i[o];return e.length=s,e});a_.exports=Ia});var Ra=y((ar,c_)=>{var cL=Ss(),uL=ne(),pL=J(),dL=l_();ar=cL({className:"Select",initialize:function(e){if(this.length=0,!e)return this;if(uL(e))return fL.find(e);e.nodeType&&(this[0]=e,this.length=1)},find:function(e){var t=new ar;return this.each(function(){dL(t,this.querySelectorAll(e))}),t},each:function(e){return pL(this,function(t,s){e.call(t,s,t)}),this}});var fL=new ar(document);c_.exports=ar});var st=y((Ha,u_)=>{var mL=ne(),hL=dt(),gL=Ra();Ha=function(e){return hL(mL(e)?new gL(e):e)};u_.exports=Ha});var d_=y((Ba,p_)=>{var _L=st();Ba=function(e){e=_L(e);var t=e[0],s=t.getBoundingClientRect();return{left:s.left+window.pageXOffset,top:s.top+window.pageYOffset,width:Math.round(s.width),height:Math.round(s.height)}};p_.exports=Ba});var m_=y((Na,f_)=>{var yL=J(),vL=st();Na=function(e){e=vL(e),yL(e,function(t){bL(t)&&(t.style.display=wL(t.nodeName))})};function bL(e){return getComputedStyle(e,"").getPropertyValue("display")=="none"}var $a={};function wL(e){var t,s;return $a[e]||(t=document.createElement(e),document.documentElement.appendChild(t),s=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),s=="none"&&(s="block"),$a[e]=s),$a[e]}f_.exports=Na});var Fa=y((Da,h_)=>{var xL=/([A-Z])/g,EL=/[_.\- ]+/g,SL=/(^-)|(-$)/g;Da=function(e){return e=e.replace(xL,"-$1").toLowerCase().replace(EL,"-").replace(SL,""),e.split("-")};h_.exports=Da});var Wa=y((za,g_)=>{var LL=Fa();za=function(e){return LL(e).join("-")};g_.exports=za});var y_=y((Ga,__)=>{var TL=ws();Ga=function(e,t){var s=function(r){var n=s.cache,i=""+(t?t.apply(this,arguments):r);return TL(n,i)||(n[i]=e.apply(this,arguments)),n[i]};return s.cache={},s};__.exports=Ga});var b_=y((Va,v_)=>{var CL=Fa();Va=function(e){var t=CL(e),s=t[0];return t.shift(),t.forEach(kL,t),s+=t.join(""),s};function kL(e,t){this[t]=e.replace(/\w/,function(s){return s.toUpperCase()})}v_.exports=Va});var C_=y((lr,T_)=>{var S_=y_(),ML=b_(),jL=tr(),w_=ws(),UL=Wa();lr=S_(function(e){if(e=e.replace(L_,""),e=ML(e),w_(E_,e))return e;for(var t=x_.length;t--;){var s=x_[t]+jL(e);if(w_(E_,s))return s}return e});lr.dash=S_(function(e){var t=lr(e);return(L_.test(t)?"-":"")+UL(t)});var x_=["O","ms","Moz","Webkit"],L_=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,E_=document.createElement("p").style;T_.exports=lr});var Ja=y((Ka,j_)=>{var qL=ne(),AL=Ue(),OL=Wa(),PL=Be(),IL=pt(),RL=jt(),HL=st(),M_=C_(),k_=J();Ka=function(e,t,s){e=HL(e);var r=PL(s)&&qL(t);if(r)return BL(e[0],t);var n=t;AL(n)||(n={},n[t]=s),$L(e,n)};function BL(e,t){return e.style[M_(t)]||getComputedStyle(e,"").getPropertyValue(t)}function $L(e,t){k_(e,function(s){var r=";";k_(t,function(n,i){i=M_.dash(i),r+=i+":"+DL(i,n)+";"}),s.style.cssText+=r})}var NL=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];function DL(e,t){var s=RL(t)&&!IL(NL,OL(e));return s?t+"px":t}j_.exports=Ka});var Xa=y((Un,q_)=>{var FL=dt(),zL=Ue(),WL=ne(),jn=J(),GL=Be(),U_=st();Un=function(e,t,s){e=U_(e);var r=GL(s)&&WL(t);if(r)return VL(e[0],t);var n=t;zL(n)||(n={},n[t]=s),KL(e,n)};Un.remove=function(e,t){e=U_(e),t=FL(t),jn(e,function(s){jn(t,function(r){s.removeAttribute(r)})})};function VL(e,t){return e.getAttribute(t)}function KL(e,t){jn(e,function(s){jn(t,function(r,n){s.setAttribute(n,r)})})}q_.exports=Un});var O_=y((Za,A_)=>{var JL=Be(),XL=J(),QL=st();Za={html:Qa("innerHTML"),text:Qa("textContent"),val:Qa("value")};function Qa(e){return function(t,s){t=QL(t);var r=t[0];if(JL(s))return r?r[e]:"";r&&XL(t,function(n){n[e]=s})}}A_.exports=Za});var I_=y((Ya,P_)=>{var ZL=J(),YL=st();Ya=function(e){e=YL(e),ZL(e,function(t){var s=t.parentNode;s&&s.removeChild(t)})};P_.exports=Ya});var H_=y((el,R_)=>{var eT=Xa(),tT=ne(),sT=Ue(),rT=J(),C$=st();el=function(e,t,s){var r=t;return tT(t)&&(r="data-"+t),sT(t)&&(r={},rT(t,function(n,i){r["data-"+i]=n})),eT(e,r,s)};R_.exports=el});var $_=y((qn,B_)=>{var nT=Ss(),iT=pt();function tl(){return!0}function sl(){return!1}function oT(e){var t=this.events[e.type],s,r=aT.call(this,e,t);e=new qn.Event(e);for(var n=0,i,o,a;(o=r[n++])&&!e.isPropagationStopped();)for(e.curTarget=o.el,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)a=s.handler.apply(o.el,[e]),a===!1&&(e.preventDefault(),e.stopPropagation())}function aT(e,t){var s=e.target,r=[],n=t.delegateCount,i,o,a,l;if(s.nodeType)for(;s!==this;s=s.parentNode||this){for(o=[],l=0;l<n;l++)a=t[l],i=a.selector+" ",o[i]===void 0&&(o[i]=iT(this.querySelectorAll(i),s)),o[i]&&o.push(a);o.length&&r.push({el:s,handlers:o})}return n<t.length&&r.push({el:this,handlers:t.slice(n)}),r}qn={add:function(e,t,s,r){var n={selector:s,handler:r},i;e.events||(e.events={}),(i=e.events[t])||(i=e.events[t]=[],i.delegateCount=0,e.addEventListener(t,function(){oT.apply(e,arguments)},!1)),s?i.splice(i.delegateCount++,0,n):i.push(n)},remove:function(e,t,s,r){var n=e.events;if(!(!n||!n[t]))for(var i=n[t],o=i.length,a;o--;)a=i[o],(!s||a.selector==s)&&a.handler==r&&(i.splice(o,1),a.selector&&i.delegateCount--)},Event:nT({className:"Event",initialize:function(t){this.origEvent=t},isDefaultPrevented:sl,isPropagationStopped:sl,isImmediatePropagationStopped:sl,preventDefault:function(){var e=this.origEvent;this.isDefaultPrevented=tl,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.origEvent;this.isPropagationStopped=tl,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.origEvent;this.isImmediatePropagationStopped=tl,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}})};B_.exports=qn});var F_=y((rl,D_)=>{var lT=$_(),cT=Be(),uT=st(),pT=J();rl={on:N_("add"),off:N_("remove")};function N_(e){return function(t,s,r,n){t=uT(t),cT(n)&&(n=r,r=void 0),pT(t,function(i){lT[e](i,s,r,n)})}}D_.exports=rl});var W_=y((nl,z_)=>{var dT=sr(),fT=Ut(),mT=je();nl=function(e,t,s){t=dT(t,s);for(var r=!fT(e)&&mT(e),n=(r||e).length,i=0;i<n;i++){var o=r?r[i]:i;if(t(e[o],o,e))return!0}return!1};z_.exports=nl});var il=y((Xt,V_)=>{var hT=dt(),gT=W_(),An=st(),_T=ne(),cr=J();Xt={add:function(e,t){e=An(e);var s=G_(t);cr(e,function(r){var n=[];cr(s,function(i){Xt.has(r,i)||n.push(i)}),n.length!==0&&(r.className+=(r.className?" ":"")+n.join(" "))})},has:function(e,t){e=An(e);var s=new RegExp("(^|\\s)"+t+"(\\s|$)");return gT(e,function(r){return s.test(r.className)})},toggle:function(e,t){e=An(e),cr(e,function(s){if(!Xt.has(s,t))return Xt.add(s,t);Xt.remove(s,t)})},remove:function(e,t){e=An(e);var s=G_(t);cr(e,function(r){cr(s,function(n){r.classList.remove(n)})})}};function G_(e){return _T(e)?e.split(/\s+/):hT(e)}V_.exports=Xt});var J_=y((ol,K_)=>{var yT=J(),vT=st(),bT=ne();ol={before:On("beforebegin"),after:On("afterend"),append:On("beforeend"),prepend:On("afterbegin")};function On(e){return function(t,s){t=vT(t),yT(t,function(r){if(bT(s))r.insertAdjacentHTML(e,s);else{var n=r.parentNode;switch(e){case"beforebegin":n&&n.insertBefore(s,r);break;case"afterend":n&&n.insertBefore(s,r.nextSibling);break;case"beforeend":r.appendChild(s);break;case"afterbegin":r.prepend(s);break}}})}}K_.exports=ol});var ur=y((Qt,Y_)=>{var Z_=Ra(),wT=d_(),xT=m_(),ET=Ja(),X_=Xa(),al=O_(),ST=bn(),LT=I_(),TT=H_(),Q_=F_(),Pn=il(),In=J_(),Rn=Be(),CT=ne();Qt=function(e){return new Z_(e)};Z_.methods({offset:function(){return wT(this)},hide:function(){return this.css("display","none")},show:function(){return xT(this),this},first:function(){return Qt(this[0])},last:function(){return Qt(ST(this))},get:function(e){return this[e]},eq:function(e){return Qt(this[e])},on:function(e,t,s){return Q_.on(this,e,t,s),this},off:function(e,t,s){return Q_.off(this,e,t,s),this},html:function(e){var t=al.html(this,e);return Rn(e)?t:this},text:function(e){var t=al.text(this,e);return Rn(e)?t:this},val:function(e){var t=al.val(this,e);return Rn(e)?t:this},css:function(e,t){var s=ET(this,e,t);return ll(e,t)?s:this},attr:function(e,t){var s=X_(this,e,t);return ll(e,t)?s:this},data:function(e,t){var s=TT(this,e,t);return ll(e,t)?s:this},rmAttr:function(e){return X_.remove(this,e),this},remove:function(){return LT(this),this},addClass:function(e){return Pn.add(this,e),this},rmClass:function(e){return Pn.remove(this,e),this},toggleClass:function(e){return Pn.toggle(this,e),this},hasClass:function(e){return Pn.has(this,e)},parent:function(){return Qt(this[0].parentNode)},append:function(e){return In.append(this,e),this},prepend:function(e){return In.prepend(this,e),this},before:function(e){return In.before(this,e),this},after:function(e){return In.after(this,e),this}});var ll=function(e,t){return Rn(t)&&CT(e)};Y_.exports=Qt});var sy=y((cl,ty)=>{var kT=Fe();cl=function(e){return ey(e,[])};function ey(e,t){for(var s=e.length,r=-1,n;s--;)n=e[++r],kT(n)?ey(n,t):t.push(n);return t}ty.exports=cl});var pl=y((ul,ry)=>{var MT=kn(),jT=sy(),UT=rr(),qT=pt();ul=MT(function(e,t){return t=jT(t),UT(e,function(s){return!qT(t,s)})});ry.exports=ul});var fl=y((dl,ny)=>{dl=function(e,t){var s=[];t=t||1;for(var r=0,n=Math.ceil(e.length/t);r<n;r++){var i=r*t,o=i+t;s.push(e.slice(i,o))}return s};ny.exports=dl});var Hn=y((ml,iy)=>{ml=function(){};iy.exports=ml});var oy=y(pr=>{"use strict";var AT=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});var OT=AT(Kt()),hl=class{constructor(){this.id=0,this.visited=[]}set(t,s){let{visited:r,id:n}=this,i={id:n,val:t};return OT.default(i,s),r.push(i),this.id++,n}get(t){let{visited:s}=this;for(let r=0,n=s.length;r<n;r++){let i=s[r];if(t===i.val)return i}return!1}};pr.default=hl});var _l=y(ft=>{"use strict";var dr=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.sortObjName=ft.getFnAbstract=ft.encode=void 0;var gl=dr(tt()),PT=dr(Gt()),ay=dr(Ls()),Bn=dr(Wt()),IT=dr(mn());ft.encode=e=>IT.default(gl.default(e)).replace(/\n/g,"\u21B5").replace(/\f|\r|\t/g,"");function RT(e){return e.length>500&&(e=e.slice(0,500)+"..."),"\u0192 "+PT.default(BT(e).replace("function",""))}ft.getFnAbstract=RT;var HT=/function(.*?)\((.*?)\)/;function BT(e){let t=e.match(HT);return t?t[0]:e}function $T(e,t){e=gl.default(e),t=gl.default(t);let s=ay.default(e),r=ay.default(t);if(!isNaN(s)&&!isNaN(r))return s>r?1:s<r?-1:0;(Bn.default(e,"get ")||Bn.default(e,"set "))&&(e=e.slice(4)),(Bn.default(t,"get ")||Bn.default(t,"set "))&&(t=t.slice(4));let n=e.length,i=t.length,o=n>i?i:n;for(let a=0;a<o;a++){let l=e.charCodeAt(a),c=t.charCodeAt(a),p=NT(l,c);if(p!==0)return p}return n>i?1:n<i?-1:0}ft.sortObjName=$T;function NT(e,t){return e=ly(e),t=ly(t),e>t?1:e<t?-1:0}function ly(e){return e===95?123:e}});var vl=y((yl,cy)=>{var DT=0;yl=function(e){var t=++DT+"";return e?e+t:t};cy.exports=yl});var bl=y(Cs=>{"use strict";var uy=Cs&&Cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.classPrefix=void 0;var FT=uy(Es()),zT=uy(Gt());function WT(e){let t=`luna-${e}-`;return function(s){return FT.default(zT.default(s).split(/\s+/),r=>`${t}${r}`).join(" ")}}Cs.classPrefix=WT});var hy=y(Zt=>{"use strict";var qe=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getObjAbstract=void 0;var py=qe(ur()),GT=qe(Wt()),wl=qe(Ue()),dy=qe(vl()),VT=qe(tr()),KT=qe(Ls()),JT=qe(fl()),fr=qe(J()),XT=qe(qa()),QT=qe(jt()),ZT=qe(La()),YT=qe(ne()),e1=qe(je()),t1=qe(Vt()),s1=qe(or()),ks=_l(),r1=bl(),de=r1.classPrefix("object-viewer"),xl=class extends s1.default{constructor(t){super(),this.onItemClick=s=>{let{map:r}=this,n=py.default(s.curTarget),i=n.data("object-id"),o=n.find("span").eq(0);if(n.data("first-level")||(i&&(n.find("ul").html(this.objToHtml(r[i],!1)),n.rmAttr("data-object-id")),s.stopImmediatePropagation(),!o.hasClass(de("expanded"))))return;let a=n.find("ul").eq(0);o.hasClass(de("collapsed"))?(o.rmClass(de("collapsed")),a.show()):(o.addClass(de("collapsed")),a.hide()),this.emit("change")},this.$container=py.default(t),this.$container.addClass("luna-object-viewer"),this.bindEvent()}set(t){YT.default(t)&&(t=JSON.parse(t)),this.data={id:dy.default("json"),enumerable:{0:t}},this.map={},fy(this.map,this.data),this.appendTpl()}destroy(){this.$container.off("click","li",this.onItemClick),this.$container.rmClass("luna-object-viewer"),this.$container.html("")}objToHtml(t,s){let r="";return fr.default(["enumerable","unenumerable","symbol"],n=>{if(!t[n])return;let i=e1.default(t[n]);i.sort(ks.sortObjName);for(let o=0,a=i.length;o<a;o++){let l=i[o];r+=this.createEl(l,t[n][l],n,s)}}),t.proto&&(r===""?r=this.objToHtml(t.proto):r+=this.createEl("__proto__",t.proto,"proto")),r}createEl(t,s,r,n=!1){let i=typeof s;if(s===null)return`<li>${o(t)}<span class="${de("null")}">null</span></li>`;if(QT.default(s)||ZT.default(s))return`<li>${o(t)}<span class="${de(i)}">${ks.encode(s)}</span></li>`;if(s.type==="RegExp"&&(i="regexp"),s.type==="Number"&&(i="number"),s.type==="Number"||s.type==="RegExp")return`<li>${o(t)}<span class="${de(i)}">${ks.encode(s.value)}</span></li>`;if(s.type==="Undefined"||s.type==="Symbol")return`<li>${o(t)}<span class="${de("special")}">${t1.default(s.type)}</span></li>`;if(s==="(...)")return`<li>${o(t)}<span class="${de("special")}">${s}</span></li>`;if(wl.default(s)){let a=s.id,l=s.reference,c=my(s)||VT.default(i),p=n?"":`<span class="${de("expanded collapsed")}"><span class="${de("icon icon-caret-right")}"></span><span class="${de("icon icon-caret-down")}"></span></span>`,d=`<li ${n?'data-first-level="true"':""} ${'data-object-id="'+(l||a)+'"'}>${p}${o(t)}<span class="${de("open")}">${n?"":c}</span><ul class="${de(i)}" ${n?"":'style="display:none"'}>`;return n&&(d+=this.objToHtml(this.map[a])),d+`</ul><span class="${de("close")}"></span></li>`}function o(a){if(n||wl.default(s)&&s.jsonSplitArr)return"";let l=de("key");return(r==="unenumerable"||r==="proto"||r==="symbol")&&(l=de("key-lighter")),`<span class="${l}">${ks.encode(a)}</span>: `}return`<li>${o(t)}<span class="${de(typeof s)}">"${ks.encode(s)}"</span></li>`}appendTpl(){let t=this.map[this.data.id];this.$container.html(this.objToHtml(t,!0))}bindEvent(){this.$container.on("click","li",this.onItemClick)}};Zt.default=xl;function fy(e,t){let s=t.id;if(!s&&s!==0)return;if(t.type&&GT.default(t.type,"Array")&&t.enumerable){let i=i1(t,s,t.type);i.length>100&&(t=n1(i))}e[s]=t;let n=[];fr.default(["enumerable","unenumerable","symbol"],i=>{if(t[i])for(let o in t[i])n.push(t[i][o])}),t.proto&&n.push(t.proto);for(let i=0,o=n.length;i<o;i++){let a=n[i];wl.default(a)&&fy(e,a)}}function n1(e){let t=0,s={};fr.default(JT.default(e,100),n=>{let i={},o=t;i.type="["+o,i.enumerable={},fr.default(n,l=>{i.enumerable[t]=l,t+=1});let a=t-1;i.type+=(a-o>0?" \u2026 "+a:"")+"]",i.id=dy.default("json"),i.jsonSplitArr=!0,s[t]=i});let r={};return r.enumerable=s,r.id=e.id,r.type=e.type,e.unenumerable&&(r.unenumerable=e.unenumerable),e.symbol&&(r.symbol=e.symbol),e.proto&&(r.proto=e.proto),r}function i1(e,t,s){let r=[],n={};return fr.default(e.enumerable,(i,o)=>{let a=KT.default(o);XT.default(a)?n[o]=i:r[a]=i}),r.enumerable=n,r.type=s,r.id=t,e.unenumerable&&(r.unenumerable=e.unenumerable),e.symbol&&(r.symbol=e.symbol),e.proto&&(r.proto=e.proto),r}function my(e){let{type:t,value:s}=e;if(t)return t==="Function"?ks.getFnAbstract(s):t==="Array"&&e.unenumerable?`Array(${e.unenumerable.length})`:e.type}Zt.getObjAbstract=my});var xy=y((Ll,wy)=>{"use strict";var ie=Ll&&Ll.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},El,o1=ie(or()),a1=ie(En()),l1=ie(jt()),c1=ie(La()),u1=ie(Vt()),gy=ie(Ue()),p1=ie(Fe()),d1=ie(tr()),_y=ie(je()),Sl=ie(J()),f1=ie(ka()),m1=ie(ja()),h1=ie(Pa()),yy=ie(ur()),g1=ie(pl()),vy=ie(nr()),by=ie(rr()),_1=ie(fl()),y1=ie(tt()),v1=ie(Hn()),b1=ie(oy()),Ms=_l(),w1=ie(hy()),x1=bl(),fe=x1.classPrefix("object-viewer");function E1(e,t){if(t)return t==="Function"?Ms.getFnAbstract(f1.default(e)):t==="Array"?`Array(${e.length})`:t}wy.exports=(El=class extends o1.default{constructor(t,{unenumerable:s=!1,accessGetter:r=!1}={}){super(),this.onItemClick=n=>{let{map:i}=this,o=yy.default(n.curTarget),a=o.data("object-id"),l=o.find("span").eq(0);if(o.data("first-level")||(a&&(o.find("ul").html(this.objToHtml(i[a],!1)),o.rmAttr("data-object-id")),n.stopImmediatePropagation(),!l.hasClass(fe("expanded"))))return;let c=o.find("ul").eq(0);l.hasClass(fe("collapsed"))?(l.rmClass(fe("collapsed")),c.show()):(l.addClass(fe("collapsed")),c.hide()),this.emit("change")},this.$container=yy.default(t),this.$container.addClass("luna-object-viewer"),this.unenumerable=s,this.accessGetter=r,this.bindEvent()}set(t){this.data=[t],this.visitor=new b1.default,this.map={},this.appendTpl()}destroy(){this.$container.off("click","li",this.onItemClick),this.$container.rmClass("luna-object-viewer"),this.$container.html("")}objToHtml(t,s){let{visitor:r}=this,n=t,i=!1,o=r.get(t);o&&o.self&&(n=o.self);let a="",l=["enumerable"],c=_y.default(t),p=[],d=[],_=[],b={};if(this.unenumerable&&!s&&(l.push("unenumerable"),l.push("symbol"),p=g1.default(vy.default(t,{prototype:!1,unenumerable:!0}),c),d=by.default(vy.default(t,{prototype:!1,symbol:!0}),u=>typeof u=="symbol")),p1.default(t)&&t.length>100){l.unshift("virtual"),i=!0;let u=0,m={};Sl.default(_1.default(t,100),h=>{let v=Object.create(null),x=u,w="["+x;Sl.default(h,L=>{v[u]=L,m[u]=!0,u++});let g=u-1;w+=(g-x>0?" \u2026 "+g:"")+"]",b[w]=v}),_=_y.default(b),c=by.default(c,h=>!m[h])}Sl.default(l,u=>{let m=[];u==="symbol"?m=d:u==="unenumerable"?m=p:u==="virtual"?m=_:m=c,i||m.sort(Ms.sortObjName);for(let h=0,v=m.length;h<v;h++){let x=y1.default(m[h]),w="",g=Object.getOwnPropertyDescriptor(t,x),L=g&&g.get,S=g&&g.set;if(L&&!this.accessGetter)w="(...)";else try{u==="virtual"?w=b[x]:w=n[x],m1.default(w)&&w.catch(v1.default)}catch(R){w=R.message}a+=this.createEl(x,t,w,u,s),L&&(a+=this.createEl(`get ${x}`,t,g.get,u,s)),S&&(a+=this.createEl(`set ${x}`,t,g.set,u,s))}});let f=a1.default(t);if(!s&&f)if(a===""){let u=r.set(f,{self:t});this.map[u]=f,a=this.objToHtml(f)}else a+=this.createEl("__proto__",n||t,f,"proto");return a}createEl(t,s,r,n,i=!1){let{visitor:o}=this,a=typeof r,l=h1.default(r,!1);if(n==="virtual"&&(l=t),r===null)return`<li>${c(t)}<span class="${fe("null")}">null</span></li>`;if(l1.default(r)||c1.default(r))return`<li>${c(t)}<span class="${fe(a)}">${Ms.encode(r)}</span></li>`;if(l==="RegExp"&&(a="regexp"),l==="Number"&&(a="number"),l==="Number"||l==="RegExp")return`<li>${c(t)}<span class="${fe(a)}">${Ms.encode(r.value)}</span></li>`;if(l==="Undefined"||l==="Symbol")return`<li>${c(t)}<span class="${fe("special")}">${u1.default(l)}</span></li>`;if(r==="(...)")return`<li>${c(t)}<span class="${fe("special")}">${r}</span></li>`;if(gy.default(r)){let p=o.get(r),d;if(p)d=p.id;else{let u={};n==="proto"&&(u.self=s),d=o.set(r,u),this.map[d]=r}let _=E1(r,l)||d1.default(a),b=i?"":`<span class="${fe("expanded collapsed")}"><span class="${fe("icon icon-caret-right")}"></span><span class="${fe("icon icon-caret-down")}"></span></span>`,f=`<li ${i?'data-first-level="true"':""} ${'data-object-id="'+d+'"'}>${b}${c(t)}<span class="${fe("open")}">${i?"":_}</span><ul class="${fe(a)}" ${i?"":'style="display:none"'}>`;return i&&(f+=this.objToHtml(r)),f+`</ul><span class="${fe("close")}"></span></li>`}function c(p){if(i||gy.default(r)&&n==="virtual")return"";let d=fe("key");return(n==="unenumerable"||n==="proto"||n==="symbol")&&(d=fe("key-lighter")),`<span class="${d}">${Ms.encode(p)}</span>: `}return`<li>${c(t)}<span class="${fe(typeof r)}">"${Ms.encode(r)}"</span></li>`}appendTpl(){this.$container.html(this.objToHtml(this.data,!0))}bindEvent(){this.$container.on("click","li",this.onItemClick)}},El.Static=w1.default,El)});var Sy=y((Tl,Ey)=>{var S1=ut();Tl=function(e){return S1(e)==="[object Error]"};Ey.exports=Tl});var Ty=y((Cl,Ly)=>{Cl=function(e){var t=typeof e;return e==null||t!=="function"&&t!=="object"};Ly.exports=Cl});var Ml=y((kl,Cy)=>{var L1=_n(),T1=nr();kl=L1(T1,!0);Cy.exports=kl});var Ul=y((jl,ky)=>{jl=function(e){return!!(e&&e.nodeType===1)};ky.exports=jl});var jy=y((ql,My)=>{var C1=Ls();ql=function(e){return e?(e=C1(e),e-e%1):e===0?e:0};My.exports=ql});var qy=y((Al,Uy)=>{Al=function(e){return e===null};Uy.exports=Al});var Iy=y((Il,Py)=>{var Ay=Ul(),Ol=ne(),Pl=Wt(),k1=il(),M1=Ja(),Oy=J(),j1=De();Il=function(e,t){for(var s=arguments.length,r=new Array(s>2?s-2:0),n=2;n<s;n++)r[n-2]=arguments[n];(Ay(t)||Ol(t))&&(r.unshift(t),t=null),t||(t={});var i=U1(e),o=i.tagName,a=i.id,l=i.classes,c=document.createElement(o);return a&&c.setAttribute("id",a),k1.add(c,l),Oy(r,function(p){Ol(p)?c.appendChild(document.createTextNode(p)):Ay(p)&&c.appendChild(p)}),Oy(t,function(p,d){Ol(p)?c.setAttribute(d,p):j1(p)&&Pl(d,"on")?c.addEventListener(d.slice(2),p,!1):d==="style"&&M1(c,p)}),c};function U1(e){for(var t="div",s="",r=[],n=[],i="",o=0,a=e.length;o<a;o++){var l=e[o];l==="#"||l==="."?(n.push(i),i=l):i+=l}n.push(i);for(var c=0,p=n.length;c<p;c++)i=n[c],i&&(Pl(i,"#")?s=i.slice(1):Pl(i,".")?r.push(i.slice(1)):t=i);return{tagName:t,id:s,classes:r}}Py.exports=Il});var mr=y(($n,Ry)=>{Date.now?$n=Date.now:$n=function(){return new Date().getTime()};Ry.exports=$n});var By=y((Rl,Hy)=>{Rl=function(e){return typeof e=="symbol"};Hy.exports=Rl});var Ny=y((Hl,$y)=>{var q1=yn(),A1=Be(),O1=tt(),P1=By(),I1=ne();Hl=function(e,t,s){t=q1(t,e);var r=t.pop(),n;for(n=t.shift();!A1(n);){if(!I1(n)&&!P1(n)&&(n=O1(n)),n==="__proto__"||n==="constructor"||n==="prototype")return;e[n]||(e[n]={}),e=e[n],n=t.shift()}e[r]=s};$y.exports=Hl});var zy=y((Bl,Fy)=>{var R1=yn(),H1=ne(),B1=Ue(),$1=J();Bl=function(e,t,s){return H1(t)?Dy(e,t,s):B1(t)&&$1(t,function(r,n){Dy(e,n,r)}),e};function Dy(e,t,s){for(var r=R1(t,e),n=r.pop();t=r.shift();)e[t]||(e[t]={}),e=e[t];Object.defineProperty(e,n,s)}Fy.exports=Bl});var Gy=y(($l,Wy)=>{var N1=ne(),D1=Fe(),F1=pt(),z1=J();$l=function(e,t,s){if(N1(t)&&(t=[t]),D1(t)){var r=t;t=function(o,a){return F1(r,a)}}var n={},i=function(o,a){t(o,a)&&(n[a]=o)};return s&&(i=function(o,a){t(o,a)||(n[a]=o)}),z1(e,i),n};Wy.exports=$l});var rv=y((At,sv)=>{var W1=wo(),G1=Pa(),Us=tt(),Vy=Eo(),V1=ka(),Zy=je(),hr=J(),K1=Ss(),Yy=En(),J1=pl(),X1=Kt(),Q1=ja(),Z1=rr(),Ky=mr(),Jy=nr(),ev=pt(),Fl=Ue(),Y1=aa(),Xy=na(),eC=Wt(),tC=Ny(),sC=zy(),Qy=Gy(),rC=Ut();At=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.self,r=t.startTime,n=r===void 0?Ky():r,i=t.timeout,o=i===void 0?0:i,a=t.depth,l=a===void 0?0:a,c=t.curDepth,p=c===void 0?1:c,d=t.visitor,_=d===void 0?new nC:d,b=t.unenumerable,f=b===void 0?!1:b,u=t.symbol,m=u===void 0?!1:u,h=t.accessGetter,v=h===void 0?!1:h,x=t.ignore,w=x===void 0?[]:x,g="",L={visitor:_,unenumerable:f,symbol:m,accessGetter:v,depth:l,curDepth:p+1,timeout:o,startTime:n,ignore:w},S=G1(e,!1);if(S==="String")g=js(e);else if(S==="Number")g=Us(e),Vy(g,"Infinity")&&(g='{"value":"'.concat(g,'","type":"Number"}'));else if(S==="NaN")g='{"value":"NaN","type":"Number"}';else if(S==="Boolean")g=e?"true":"false";else if(S==="Null")g="null";else if(S==="Undefined")g='{"type":"Undefined"}';else if(S==="Symbol"){var R="Symbol";try{R=Us(e)}catch{}g='{"value":'.concat(js(R),',"type":"Symbol"}')}else{if(o&&Ky()-n>o)return js("Timeout");if(l&&p>l)return js("{...}");g="{";var $=[],ot=_.get(e),Oe;if(ot?(Oe=ot.id,$.push('"reference":'.concat(Oe))):(Oe=_.set(e),$.push('"id":'.concat(Oe))),$.push('"type":"'.concat(S,'"')),Vy(S,"Function")?$.push('"value":'.concat(js(V1(e)))):S==="RegExp"&&$.push('"value":'.concat(js(e))),!ot){var Se=Zy(e);if(Se.length&&$.push(Nl("enumerable",Se,s||e,L)),f){var V=J1(Jy(e,{prototype:!1,unenumerable:!0}),Se);V.length&&$.push(Nl("unenumerable",V,s||e,L))}if(m){var ye=Z1(Jy(e,{prototype:!1,symbol:!0}),function(K){return typeof K=="symbol"});ye.length&&$.push(Nl("symbol",ye,s||e,L))}var j=Yy(e);if(j&&!ev(w,j)){var B='"proto":'.concat(At(j,X1(L,{self:s||e})));$.push(B)}}g+=$.join(",")+"}"}return g};function Nl(e,t,s,r){var n=[];return hr(t,function(i){var o,a=Object.getOwnPropertyDescriptor(s,i),l=a&&a.get,c=a&&a.set;if(!r.accessGetter&&l)o="(...)";else try{if(o=s[i],ev(r.ignore,o))return;Q1(o)&&o.catch(function(){})}catch(p){o=p.message}n.push("".concat(Dl(i),":").concat(At(o,r))),l&&n.push("".concat(Dl("get "+Us(i)),":").concat(At(a.get,r))),c&&n.push("".concat(Dl("set "+Us(i)),":").concat(At(a.set,r)))}),'"'.concat(e,'":{')+n.join(",")+"}"}function Dl(e){return'"'.concat(tv(e),'"')}function js(e){return'"'.concat(tv(Us(e)),'"')}function tv(e){return W1(e).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var nC=K1({initialize:function(){this.id=1,this.visited=[]},set:function(e){var t=this.visited,s=this.id,r={id:s,val:e};return t.push(r),this.id++,s},get:function(e){for(var t=this.visited,s=0,r=t.length;s<r;s++){var n=t[s];if(e===n.val)return n}return!1}});At.parse=function(e){var t={},s=Yt(JSON.parse(e),{map:t});return iC(t),s};function iC(e){hr(e,function(t){for(var s=Zy(t),r=0,n=s.length;r<n;r++){var i=s[r];if(Fl(t[i])){var o=t[i].reference;o&&e[o]&&(t[i]=e[o])}}var a=Yy(t);a&&a.reference&&e[a.reference]&&Object.setPrototypeOf(t,e[a.reference])})}function Yt(e,t){var s=t.map;if(!Fl(e))return e;var r=e.id,n=e.type,i=e.value,o=e.proto,a=e.reference,l=e.enumerable,c=e.unenumerable;if(a)return e;if(n==="Number")return i==="Infinity"?Number.POSITIVE_INFINITY:i==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(n==="Undefined")return;var p;if(n==="Function")p=function(){},p.toString=function(){return i},o&&Object.setPrototypeOf(p,Yt(o,t));else if(n==="RegExp")p=aC(i);else if(n!=="Object"){var d;Y1?d=function(){}:d=new Function(n,""),o&&(d.prototype=Yt(o,t)),p=new d}else o?p=Xy(Yt(o,t)):p=Xy(null);var _={};if(l){var b;rC(l)&&(b=l.length,delete l.length),l=Qy(l,function(u,m){return!f(l,u,m)}),hr(l,function(u,m){var h=_[m]||{};h.get||(p[m]=Yt(u,t))}),b&&(p.length=b)}c&&(c=Qy(c,function(u,m){return!f(c,u,m)}),hr(c,function(u,m){var h=_[m]||{};if(!h.get)if(u=Yt(u,t),Fl(u)&&u.reference){var v=u.reference;u=function(){return s[v]},h.get=u}else h.value=u;h.enumerable=!1,_[m]=h})),sC(p,_);function f(u,m,h){h=Us(h);var v=!1;return hr(["get","set"],function(x){if(eC(h,x+" ")){var w=h.replace(x+" ","");u[w]&&(m=Yt(m,t),m==="Timeout"&&(m=oC),tC(_,[w,x],m),v=!0)}}),v}return s[r]=p,p}function oC(){return"Timeout"}function aC(e){var t=e.lastIndexOf("/");return new RegExp(e.slice(1,t),e.slice(t+1))}sv.exports=At});var ov=y((gr,iv)=>{typeof process=="object"&&process.nextTick?gr=process.nextTick:typeof setImmediate=="function"?gr=function(e){setImmediate(nv(e))}:gr=function(e){setTimeout(nv(e),0)};function nv(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}iv.exports=gr});var lv=y((zl,av)=>{var lC=Sn(),cC=Gt(),uC=Es(),pC=dt();zl=function(e){var t=pC(e.match(dC));return lC(uC(t,function(s){return cC(s)}))};var dC=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;av.exports=zl});var uv=y((Wl,cv)=>{Wl=function(e){return e.replace(/\W/g,"\\$&")};cv.exports=Wl});var dv=y((Gl,pv)=>{var fC=lv(),mC=J(),hC=uv();Gl=function(e,t){t=t||gC;var s=fC(e);return mC(s,function(r){e=e.replace(new RegExp(hC(r),"g"),t)}),e};function gC(e){return'<a href="'+e+'">'+e+"</a>"}pv.exports=Gl});var mv=y((Dn,fv)=>{var Nn=J(),_C=Ml();Dn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_C(s,yC),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=Ot[t];var r=0,n=[];Nn(t,function(o){o.language&&(e=e.replace(o.re,function(a,l){return l?(n[r++]=Dn(l,o.language,s),a.replace(l,"___subtmpl"+(r-1)+"___")):a}))}),Nn(t,function(o,a){Ot[o.language]||(e=e.replace(o.re,"___"+a+"___$1___end"+a+"___"))});var i=[];return e=e.replace(/___(?!subtmpl)\w+?___/g,function(o){var a=o.substr(3,3)==="end",l=(a?o.substr(6):o.substr(3)).replace(/_/g,""),c=i.length>0?i[i.length-1]:null;return!a&&(c==null||l==c||c!=null&&t[c]&&t[c].embed!=null&&t[c].embed.indexOf(l)>-1)?(i.push(l),o):a&&l==c?(i.pop(),o):""}),Nn(t,function(o,a){var l=s[o.style]?' style="'.concat(s[o.style],'"'):"";e=e.replace(new RegExp("___end"+a+"___","g"),"</span>").replace(new RegExp("___"+a+"___","g"),'<span class="'.concat(o.style,'"').concat(l,">"))}),Nn(t,function(o){o.language&&(e=e.replace(/___subtmpl\d+___/g,function(a){var l=parseInt(a.replace(/___subtmpl(\d+)___/,"$1"),10);return n[l]}))}),e};var yC={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},Ot={};Ot.js={comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}};Ot.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:Ot.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}};Ot.css={comment:Ot.js.comment,string:Ot.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}};fv.exports=Dn});var gv=y((Vl,hv)=>{Vl=function(){for(var e=arguments,t=e[0],s=1,r=e.length;s<r;s++)e[s]<t&&(t=e[s]);return t};hv.exports=Vl});var Jl=y((Kl,_v)=>{var vC=ne(),bC=dt(),wC=gv(),xC=Es(),EC=Gt();Kl=function(e){vC(e)&&(e=bC(e));for(var t="",s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];for(var i=0,o=e.length;i<o;i++)t+=e[i],r[i]&&(t+=r[i]);for(var a=t.split(`
`),l=[],c=0,p=a.length;c<p;c++){var d=a[c],_=d.match(SC);_&&l.push(_[1].length)}var b=l.length>0?wC.apply(null,l):0;return EC(xC(a,function(f){return f[0]===" "?f.slice(b):f}).join(`
`))};var SC=/^(\s+)\S+/;_v.exports=Kl});var Fn=y((A$,yv)=>{"use strict";function me(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}me.prototype.clone_empty=function(){var e=new me(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e};me.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]};me.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1};me.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};me.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};me.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};me.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,e.__items[0]===" "&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1};me.prototype.is_empty=function(){return this.__items.length===0};me.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};me.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf(`
`);t!==-1?this.__character_count=e.length-t:this.__character_count+=e.length};me.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e};me.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};me.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};me.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};me.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e};function _r(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}_r.prototype.get_indent_size=function(e,t){var s=this.__base_string_length;return t=t||0,e<0&&(s=0),s+=e*this.__indent_size,s+=t,s};_r.prototype.get_indent_string=function(e,t){var s=this.__base_string;return t=t||0,e<0&&(e=0,s=""),t+=e*this.__indent_size,this.__ensure_cache(t),s+=this.__cache[t],s};_r.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()};_r.prototype.__add_column=function(){var e=this.__cache.length,t=0,s="";this.__indent_size&&e>=this.__indent_size&&(t=Math.floor(e/this.__indent_size),e-=t*this.__indent_size,s=new Array(t+1).join(this.__indent_string)),e&&(s+=new Array(e+1).join(" ")),this.__cache.push(s)};function he(e,t){this.__indent_cache=new _r(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new me(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}he.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};he.prototype.get_line_number=function(){return this.__lines.length};he.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)};he.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)};he.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};he.prototype.add_new_line=function(e){return this.is_empty()||!e&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};he.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&(t[t.length-1]===`
`&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var s=this.__lines.join(`
`);return e!==`
`&&(s=s.replace(/[\n]/g,e)),s};he.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};he.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)};he.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};he.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};he.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};he.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()};he.prototype.trim=function(e){for(e=e===void 0?!1:e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};he.prototype.just_added_newline=function(){return this.current_line.is_empty()};he.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};he.prototype.ensure_empty_line_above=function(e,t){for(var s=this.__lines.length-2;s>=0;){var r=this.__lines[s];if(r.is_empty())break;if(r.item(0).indexOf(e)!==0&&r.item(-1)!==t){this.__lines.splice(s+1,0,new me(this)),this.previous_line=this.__lines[this.__lines.length-2];break}s--}};yv.exports.Output=he});var Xl=y((O$,vv)=>{"use strict";function LC(e,t,s,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=s||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}vv.exports.Token=LC});var Zl=y(bt=>{"use strict";var TC="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",bv="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Ql="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",wv="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",xv="(?:\\\\u[0-9a-fA-F]{4}|["+TC+Ql+"])",CC="(?:\\\\u[0-9a-fA-F]{4}|["+bv+Ql+wv+"])*";bt.identifier=new RegExp(xv+CC,"g");bt.identifierStart=new RegExp(xv);bt.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+bv+Ql+wv+"])+");bt.newline=/[\n\r\u2028\u2029]/;bt.lineBreak=new RegExp(`\r
|`+bt.newline.source);bt.allLineBreaks=new RegExp(bt.lineBreak.source,"g")});var Wn=y((I$,zn)=>{"use strict";function Pt(e,t){this.raw_options=Ev(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Pt.prototype._get_array=function(e,t){var s=this.raw_options[e],r=t||[];return typeof s=="object"?s!==null&&typeof s.concat=="function"&&(r=s.concat()):typeof s=="string"&&(r=s.split(/[^a-zA-Z0-9_\/\-]+/)),r};Pt.prototype._get_boolean=function(e,t){var s=this.raw_options[e],r=s===void 0?!!t:!!s;return r};Pt.prototype._get_characters=function(e,t){var s=this.raw_options[e],r=t||"";return typeof s=="string"&&(r=s.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Pt.prototype._get_number=function(e,t){var s=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(s,10);return isNaN(r)&&(r=t),r};Pt.prototype._get_selection=function(e,t,s){var r=this._get_selection_list(e,t,s);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+e+`' can only be one of the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r[0]};Pt.prototype._get_selection_list=function(e,t,s){if(!t||t.length===0)throw new Error("Selection list cannot be empty.");if(s=s||[t[0]],!this._is_valid_selection(s,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,s);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+`' can contain only the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r};Pt.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(s){return t.indexOf(s)===-1})};function Ev(e,t){var s={};e=Sv(e);var r;for(r in e)r!==t&&(s[r]=e[r]);if(t&&e[t])for(r in e[t])s[r]=e[t][r];return s}function Sv(e){var t={},s;for(s in e){var r=s.replace(/-/g,"_");t[r]=e[s]}return t}zn.exports.Options=Pt;zn.exports.normalizeOpts=Sv;zn.exports.mergeOpts=Ev});var Yl=y((R$,Cv)=>{"use strict";var Lv=Wn().Options,kC=["before-newline","after-newline","preserve-newline"];function Tv(e){Lv.call(this,e,"js");var t=this.raw_options.brace_style||null;t==="expand-strict"?this.raw_options.brace_style="expand":t==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<s.length;r++)s[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=s[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",kC),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Tv.prototype=new Lv;Cv.exports.Options=Tv});var Gn=y((H$,Mv)=>{"use strict";var kv=RegExp.prototype.hasOwnProperty("sticky");function xe(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}xe.prototype.restart=function(){this.__position=0};xe.prototype.back=function(){this.__position>0&&(this.__position-=1)};xe.prototype.hasNext=function(){return this.__position<this.__input_length};xe.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e};xe.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t};xe.prototype.__match=function(e,t){e.lastIndex=t;var s=e.exec(this.__input);return s&&!(kv&&e.sticky)&&s.index!==t&&(s=null),s};xe.prototype.test=function(e,t){return t=t||0,t+=this.__position,t>=0&&t<this.__input_length?!!this.__match(e,t):!1};xe.prototype.testChar=function(e,t){var s=this.peek(t);return e.lastIndex=0,s!==null&&e.test(s)};xe.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t};xe.prototype.read=function(e,t,s){var r="",n;return e&&(n=this.match(e),n&&(r+=n[0])),t&&(n||!e)&&(r+=this.readUntil(t,s)),r};xe.prototype.readUntil=function(e,t){var s="",r=this.__position;e.lastIndex=this.__position;var n=e.exec(this.__input);return n?(r=n.index,t&&(r+=n[0].length)):r=this.__input_length,s=this.__input.substring(this.__position,r),this.__position=r,s};xe.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)};xe.prototype.get_regexp=function(e,t){var s=null,r="g";return t&&kv&&(r="y"),typeof e=="string"&&e!==""?s=new RegExp(e,r):e&&(s=new RegExp(e.source,r)),s};xe.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};xe.prototype.peekUntilAfter=function(e){var t=this.__position,s=this.readUntilAfter(e);return this.__position=t,s};xe.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e};Mv.exports.InputScanner=xe});var Uv=y((B$,jv)=>{"use strict";function es(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}es.prototype.restart=function(){this.__position=0};es.prototype.isEmpty=function(){return this.__tokens_length===0};es.prototype.hasNext=function(){return this.__position<this.__tokens_length};es.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e};es.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t};es.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1};jv.exports.TokenStream=es});var yr=y(($$,qv)=>{"use strict";function mt(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}mt.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e};mt.prototype.read_match=function(){return this._input.match(this._match_pattern)};mt.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t};mt.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t};mt.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t};mt.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t};mt.prototype._create=function(){return new mt(this._input,this)};mt.prototype._update=function(){};qv.exports.Pattern=mt});var Pv=y((N$,Ov)=>{"use strict";var Av=yr().Pattern;function It(e,t){Av.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}It.prototype=new Av;It.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")};It.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(e===" ")this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e};It.prototype.matching=function(e,t){var s=this._create();return s.__set_whitespace_patterns(e,t),s._update(),s};It.prototype._create=function(){return new It(this._input,this)};It.prototype.__split=function(e,t){e.lastIndex=0;for(var s=0,r=[],n=e.exec(t);n;)r.push(t.substring(s,n.index)),s=n.index+n[0].length,n=e.exec(t);return s<t.length?r.push(t.substring(s,t.length)):r.push(""),r};Ov.exports.WhitespacePattern=It});var br=y((D$,tc)=>{"use strict";var MC=Gn().InputScanner,Iv=Xl().Token,ec=Uv().TokenStream,jC=Pv().WhitespacePattern,vr={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},ht=function(e,t){this._input=new MC(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new jC(this._input)};ht.prototype.tokenize=function(){this._input.restart(),this.__tokens=new ec,this._reset();for(var e,t=new Iv(vr.START,""),s=null,r=[],n=new ec;t.type!==vr.EOF;){for(e=this._get_next_token(t,s);this._is_comment(e);)n.add(e),e=this._get_next_token(t,s);n.isEmpty()||(e.comments_before=n,n=new ec),e.parent=s,this._is_opening(e)?(r.push(s),s=e):s&&this._is_closing(e,s)&&(e.opened=s,s.closed=e,s=r.pop(),e.parent=s),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens};ht.prototype._is_first_token=function(){return this.__tokens.isEmpty()};ht.prototype._reset=function(){};ht.prototype._get_next_token=function(e,t){this._readWhitespace();var s=this._input.read(/.+/g);return s?this._create_token(vr.RAW,s):this._create_token(vr.EOF,"")};ht.prototype._is_comment=function(e){return!1};ht.prototype._is_opening=function(e){return!1};ht.prototype._is_closing=function(e,t){return!1};ht.prototype._create_token=function(e,t){var s=new Iv(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return s};ht.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};tc.exports.Tokenizer=ht;tc.exports.TOKEN=vr});var Vn=y((F$,Rv)=>{"use strict";function sc(e,t){e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}sc.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var s=this.__directive_pattern.exec(e);s;)t[s[1]]=s[2],s=this.__directive_pattern.exec(e);return t};sc.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)};Rv.exports.Directives=sc});var ic=y((z$,Hv)=>{"use strict";var rc=yr().Pattern,nc={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function rt(e,t){rc.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},nc),this._excluded=Object.assign({},nc),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var s=new rc(e);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}rt.prototype=new rc;rt.prototype._create=function(){return new rt(this._input,this)};rt.prototype._update=function(){this.__set_templated_pattern()};rt.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t};rt.prototype.read_options=function(e){var t=this._create();for(var s in nc)t._disabled[s]=e.templating.indexOf(s)===-1;return t._update(),t};rt.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t};rt.prototype.read=function(){var e="";this._match_pattern?e=this._input.read(this._starting_pattern):e=this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e};rt.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")};rt.prototype._read_template=function(){var e="",t=this._input.peek();if(t==="<"){var s=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&s==="?"&&(e=e||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&s==="%"&&(e=e||this.__patterns.erb.read())}else t==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(e=e||this.__patterns.handlebars_comment.read(),e=e||this.__patterns.handlebars_unescaped.read(),e=e||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=e||this.__patterns.django_comment.read(),e=e||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=e||this.__patterns.smarty_comment.read(),e=e||this.__patterns.smarty_literal.read(),e=e||this.__patterns.smarty.read()));return e};Hv.exports.TemplatablePattern=rt});var xr=y((W$,wr)=>{"use strict";var UC=Gn().InputScanner,$v=br().Tokenizer,oc=br().TOKEN,qC=Vn().Directives,ze=Zl(),AC=yr().Pattern,OC=ic().TemplatablePattern;function ac(e,t){return t.indexOf(e)!==-1}var O={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:oc.START,RAW:oc.RAW,EOF:oc.EOF},Bv=new qC(/\/\*/,/\*\//),PC=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,IC=/[0-9]/,RC=/[^\d\.]/,HC=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),ts=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";ts=ts.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");ts="\\?\\.(?!\\d) "+ts;ts=ts.replace(/ /g,"|");var BC=new RegExp(ts),Nv="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),$C=Nv.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),NC=new RegExp("^(?:"+$C.join("|")+")$"),Kn,Ee=function(e,t){$v.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var s=new AC(this._input),r=new OC(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(ze.identifier).matching(ze.identifierMatch),number:s.matching(PC),punct:s.matching(BC),comment:s.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:s.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:s.matching(/<!--/),html_comment_end:s.matching(/-->/),include:s.starting_with(/#include/).until_after(ze.lineBreak),shebang:s.starting_with(/#!/).until_after(ze.lineBreak),xml:s.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};Ee.prototype=new $v;Ee.prototype._is_comment=function(e){return e.type===O.COMMENT||e.type===O.BLOCK_COMMENT||e.type===O.UNKNOWN};Ee.prototype._is_opening=function(e){return e.type===O.START_BLOCK||e.type===O.START_EXPR};Ee.prototype._is_closing=function(e,t){return(e.type===O.END_BLOCK||e.type===O.END_EXPR)&&t&&(e.text==="]"&&t.text==="["||e.text===")"&&t.text==="("||e.text==="}"&&t.text==="{")};Ee.prototype._reset=function(){Kn=!1};Ee.prototype._get_next_token=function(e,t){var s=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(O.EOF,""):(s=s||this._read_non_javascript(r),s=s||this._read_string(r),s=s||this._read_word(e),s=s||this._read_singles(r),s=s||this._read_comment(r),s=s||this._read_regexp(r,e),s=s||this._read_xml(r,e),s=s||this._read_punctuation(),s=s||this._create_token(O.UNKNOWN,this._input.next()),s)};Ee.prototype._read_word=function(e){var t;if(t=this.__patterns.identifier.read(),t!=="")return t=t.replace(ze.allLineBreaks,`
`),!(e.type===O.DOT||e.type===O.RESERVED&&(e.text==="set"||e.text==="get"))&&NC.test(t)?t==="in"||t==="of"?this._create_token(O.OPERATOR,t):this._create_token(O.RESERVED,t):this._create_token(O.WORD,t);if(t=this.__patterns.number.read(),t!=="")return this._create_token(O.WORD,t)};Ee.prototype._read_singles=function(e){var t=null;return e==="("||e==="["?t=this._create_token(O.START_EXPR,e):e===")"||e==="]"?t=this._create_token(O.END_EXPR,e):e==="{"?t=this._create_token(O.START_BLOCK,e):e==="}"?t=this._create_token(O.END_BLOCK,e):e===";"?t=this._create_token(O.SEMICOLON,e):e==="."&&RC.test(this._input.peek(1))?t=this._create_token(O.DOT,e):e===","&&(t=this._create_token(O.COMMA,e)),t&&this._input.next(),t};Ee.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(e!=="")return e==="="?this._create_token(O.EQUALS,e):e==="?."?this._create_token(O.DOT,e):this._create_token(O.OPERATOR,e)};Ee.prototype._read_non_javascript=function(e){var t="";if(e==="#"){if(this._is_first_token()&&(t=this.__patterns.shebang.read(),t))return this._create_token(O.UNKNOWN,t.trim()+`
`);if(t=this.__patterns.include.read(),t)return this._create_token(O.UNKNOWN,t.trim()+`
`);e=this._input.next();var s="#";if(this._input.hasNext()&&this._input.testChar(IC)){do e=this._input.next(),s+=e;while(this._input.hasNext()&&e!=="#"&&e!=="=");return e==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(s+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(s+="{}",this._input.next(),this._input.next())),this._create_token(O.WORD,s)}this._input.back()}else if(e==="<"&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read(),t){for(;this._input.hasNext()&&!this._input.testChar(ze.newline);)t+=this._input.next();return Kn=!0,this._create_token(O.COMMENT,t)}}else if(Kn&&e==="-"&&(t=this.__patterns.html_comment_end.read(),t))return Kn=!1,this._create_token(O.COMMENT,t);return null};Ee.prototype._read_comment=function(e){var t=null;if(e==="/"){var s="";if(this._input.peek(1)==="*"){s=this.__patterns.block_comment.read();var r=Bv.get_directives(s);r&&r.ignore==="start"&&(s+=Bv.readIgnored(this._input)),s=s.replace(ze.allLineBreaks,`
`),t=this._create_token(O.BLOCK_COMMENT,s),t.directives=r}else this._input.peek(1)==="/"&&(s=this.__patterns.comment.read(),t=this._create_token(O.COMMENT,s))}return t};Ee.prototype._read_string=function(e){if(e==="`"||e==="'"||e==='"'){var t=this._input.next();return this.has_char_escapes=!1,e==="`"?t+=this._read_string_recursive("`",!0,"${"):t+=this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=DC(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(ze.allLineBreaks,`
`),this._create_token(O.STRING,t)}return null};Ee.prototype._allow_regexp_or_xml=function(e){return e.type===O.RESERVED&&ac(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===O.END_EXPR&&e.text===")"&&e.opened.previous.type===O.RESERVED&&ac(e.opened.previous.text,["if","while","for"])||ac(e.type,[O.COMMENT,O.START_EXPR,O.START_BLOCK,O.START,O.END_BLOCK,O.OPERATOR,O.EQUALS,O.EOF,O.SEMICOLON,O.COMMA])};Ee.prototype._read_regexp=function(e,t){if(e==="/"&&this._allow_regexp_or_xml(t)){for(var s=this._input.next(),r=!1,n=!1;this._input.hasNext()&&(r||n||this._input.peek()!==e)&&!this._input.testChar(ze.newline);)s+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?n=!0:this._input.peek()==="]"&&(n=!1)),this._input.next();return this._input.peek()===e&&(s+=this._input.next(),s+=this._input.read(ze.identifier)),this._create_token(O.STRING,s)}return null};Ee.prototype._read_xml=function(e,t){if(this._options.e4x&&e==="<"&&this._allow_regexp_or_xml(t)){var s="",r=this.__patterns.xml.read_match();if(r){for(var n=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),i=n.indexOf("{")===0,o=0;r;){var a=!!r[1],l=r[2],c=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!c&&(l===n||i&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(a?--o:++o),s+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(s+=this._input.match(/[\s\S]*/g)[0]),s=s.replace(ze.allLineBreaks,`
`),this._create_token(O.STRING,s)}}return null};function DC(e){for(var t="",s=0,r=new UC(e),n=null;r.hasNext();)if(n=r.match(/([\s]|[^\\]|\\\\)+/g),n&&(t+=n[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")n=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")n=r.match(/u([0-9A-Fa-f]{4})/g);else{t+="\\",r.hasNext()&&(t+=r.next());continue}if(!n||(s=parseInt(n[1],16),s>126&&s<=255&&n[0].indexOf("x")===0))return e;if(s>=0&&s<32){t+="\\"+n[0];continue}else s===34||s===39||s===92?t+="\\"+String.fromCharCode(s):t+=String.fromCharCode(s)}return t}Ee.prototype._read_string_recursive=function(e,t,s){var r,n;e==="'"?n=this.__patterns.single_quote:e==='"'?n=this.__patterns.double_quote:e==="`"?n=this.__patterns.template_text:e==="}"&&(n=this.__patterns.template_expression);for(var i=n.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===e||!t&&ze.newline.test(o)){this._input.back();break}else o==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):s&&(s==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),s===o&&(e==="`"?o+=this._read_string_recursive("}",t,"`"):o+=this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=n.read(),i+=o}return i};wr.exports.Tokenizer=Ee;wr.exports.TOKEN=O;wr.exports.positionable_operators=HC.slice();wr.exports.line_starters=Nv.slice()});var Wv=y((G$,zv)=>{"use strict";var FC=Fn().Output,zC=Xl().Token,Jn=Zl(),WC=Yl().Options,GC=xr().Tokenizer,Tr=xr().line_starters,Er=xr().positionable_operators,E=xr().TOKEN;function z(e,t){return t.indexOf(e)!==-1}function VC(e){return e.replace(/^\s+/g,"")}function KC(e){for(var t={},s=0;s<e.length;s++)t[e[s].replace(/-/g,"_")]=e[s];return t}function We(e,t){return e&&e.type===E.RESERVED&&e.text===t}function ee(e,t){return e&&e.type===E.RESERVED&&z(e.text,t)}var Xn=["case","return","do","if","throw","else","await","break","continue","async"],JC=["before-newline","after-newline","preserve-newline"],Sr=KC(JC),Dv=[Sr.before_newline,Sr.preserve_newline],P={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function Fv(e,t){t.multiline_frame||t.mode===P.ForInitializer||t.mode===P.Conditional||e.remove_indent(t.start_line_index)}function XC(e){e=e.replace(Jn.allLineBreaks,`
`);for(var t=[],s=e.indexOf(`
`);s!==-1;)t.push(e.substring(0,s)),e=e.substring(s+1),s=e.indexOf(`
`);return e.length&&t.push(e),t}function Rt(e){return e===P.ArrayLiteral}function Lr(e){return z(e,[P.Expression,P.ForInitializer,P.Conditional])}function QC(e,t){for(var s=0;s<e.length;s++){var r=e[s].trim();if(r.charAt(0)!==t)return!1}return!0}function ZC(e,t){for(var s=0,r=e.length,n;s<r;s++)if(n=e[s],n&&n.indexOf(t)!==0)return!1;return!0}function G(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new WC(t)}G.prototype.create_flags=function(e,t){var s=0;e&&(s=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>s&&(s=e.line_indent_level));var r={mode:t,parent:e,last_token:e?e.last_token:new zC(E.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:s,alignment:0,line_indent_level:e?e.line_indent_level:s,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};G.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new FC(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(P.BlockStatement);var s=new GC(e,this._options);return this._tokens=s.tokenize(),e};G.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e,t=this._reset(this._source_text),s=this._options.eol;this._options.eol==="auto"&&(s=`
`,t&&Jn.lineBreak.test(t||"")&&(s=t.match(Jn.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return e=this._output.get_code(s),e};G.prototype.handle_token=function(e,t){e.type===E.START_EXPR?this.handle_start_expr(e):e.type===E.END_EXPR?this.handle_end_expr(e):e.type===E.START_BLOCK?this.handle_start_block(e):e.type===E.END_BLOCK?this.handle_end_block(e):e.type===E.WORD?this.handle_word(e):e.type===E.RESERVED?this.handle_word(e):e.type===E.SEMICOLON?this.handle_semicolon(e):e.type===E.STRING?this.handle_string(e):e.type===E.EQUALS?this.handle_equals(e):e.type===E.OPERATOR?this.handle_operator(e):e.type===E.COMMA?this.handle_comma(e):e.type===E.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===E.COMMENT?this.handle_comment(e,t):e.type===E.DOT?this.handle_dot(e):e.type===E.EOF?this.handle_eof(e):e.type===E.UNKNOWN?this.handle_unknown(e,t):this.handle_unknown(e,t)};G.prototype.handle_whitespace_and_comments=function(e,t){var s=e.newlines,r=this._options.keep_array_indentation&&Rt(this._flags.mode);if(e.comments_before)for(var n=e.comments_before.next();n;)this.handle_whitespace_and_comments(n,t),this.handle_token(n,t),n=e.comments_before.next();if(r)for(var i=0;i<s;i+=1)this.print_newline(i>0,t);else if(this._options.max_preserve_newlines&&s>this._options.max_preserve_newlines&&(s=this._options.max_preserve_newlines),this._options.preserve_newlines&&s>1){this.print_newline(!1,t);for(var o=1;o<s;o+=1)this.print_newline(!0,t)}};var lc=["async","break","continue","return","throw","yield"];G.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=t===void 0?!1:t,!this._output.just_added_newline()){var s=this._options.preserve_newlines&&e.newlines||t,r=z(this._flags.last_token.text,Er)||z(e.text,Er);if(r){var n=z(this._flags.last_token.text,Er)&&z(this._options.operator_position,Dv)||z(e.text,Er);s=s&&n}if(s)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(ee(this._flags.last_token,lc))return;this._output.set_wrap_point()}}};G.prototype.print_newline=function(e,t){if(!t&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==E.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var s=this._tokens.peek();this._flags.mode===P.Statement&&!(this._flags.if_block&&We(s,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)};G.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&(e.text==="["||Rt(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};G.prototype.print_token=function(e){if(this._output.raw){this._output.add_raw_token(e);return}if(this._options.comma_first&&e.previous&&e.previous.type===E.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};G.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};G.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};G.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};G.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===P.Statement&&Fv(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};G.prototype.start_of_object_property=function(){return this._flags.parent.mode===P.ObjectLiteral&&this._flags.mode===P.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ee(this._flags.last_token,["get","set"]))};G.prototype.start_of_statement=function(e){var t=!1;return t=t||ee(this._flags.last_token,["var","let","const"])&&e.type===E.WORD,t=t||We(this._flags.last_token,"do"),t=t||!(this._flags.parent.mode===P.ObjectLiteral&&this._flags.mode===P.Statement)&&ee(this._flags.last_token,lc)&&!e.newlines,t=t||We(this._flags.last_token,"else")&&!(We(e,"if")&&!e.comments_before),t=t||this._flags.last_token.type===E.END_EXPR&&(this._previous_flags.mode===P.ForInitializer||this._previous_flags.mode===P.Conditional),t=t||this._flags.last_token.type===E.WORD&&this._flags.mode===P.BlockStatement&&!this._flags.in_case&&!(e.text==="--"||e.text==="++")&&this._last_last_text!=="function"&&e.type!==E.WORD&&e.type!==E.RESERVED,t=t||this._flags.mode===P.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ee(this._flags.last_token,["get","set"])),t?(this.set_mode(P.Statement),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,ee(e,["do","for","if","while"])),!0):!1};G.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=P.Expression;if(e.text==="["){if(this._flags.last_token.type===E.WORD||this._flags.last_token.text===")"){ee(this._flags.last_token,Tr)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}t=P.ArrayLiteral,Rt(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),z(this._flags.last_token.type,[E.START_EXPR,E.END_EXPR,E.WORD,E.OPERATOR,E.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===E.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,t=P.ForInitializer):z(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=P.Conditional):z(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&e.whitespace_before===""?this._output.space_before_token=!1:(z(this._flags.last_token.text,Tr)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===E.EQUALS||this._flags.last_token.type===E.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===E.WORD){this._output.space_before_token=!1;var s=this._tokens.peek(-3);if(this._options.space_after_named_function&&s){var r=this._tokens.peek(-4);ee(s,["async","function"])||s.text==="*"&&ee(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===P.ObjectLiteral&&(s.text==="{"||s.text===","||s.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===E.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(z(this._last_last_text,["function","yield"])||this._flags.mode===P.ObjectLiteral&&z(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===E.START_BLOCK?this.print_newline():(this._flags.last_token.type===E.END_EXPR||this._flags.last_token.type===E.START_EXPR||this._flags.last_token.type===E.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===E.COMMA)&&this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};G.prototype.handle_end_expr=function(e){for(;this._flags.mode===P.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,e.text==="]"&&Rt(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===E.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(e),this.restore_mode(),Fv(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===P.Conditional&&(this._previous_flags.mode=P.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};G.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),s=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===E.END_EXPR?(this.set_mode(P.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(P.BlockStatement):s&&(z(s.text,[":",","])&&z(t.type,[E.STRING,E.WORD,E.RESERVED])||z(t.text,["get","set","..."])&&z(s.type,[E.WORD,E.RESERVED]))?z(this._last_last_text,["class","interface"])?this.set_mode(P.BlockStatement):this.set_mode(P.ObjectLiteral):this._flags.last_token.type===E.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(P.BlockStatement):z(this._flags.last_token.type,[E.EQUALS,E.START_EXPR,E.COMMA,E.OPERATOR])||ee(this._flags.last_token,["return","throw","import","default"])?this.set_mode(P.ObjectLiteral):this.set_mode(P.BlockStatement);var r=!t.comments_before&&t.text==="}",n=r&&this._flags.last_word==="function"&&this._flags.last_token.type===E.END_EXPR;if(this._options.brace_preserve_inline){var i=0,o=null;this._flags.inline_frame=!0;do if(i+=1,o=this._tokens.peek(i-1),o.newlines){this._flags.inline_frame=!1;break}while(o.type!==E.EOF&&!(o.type===E.END_BLOCK&&o.opened===e))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==E.OPERATOR&&(n||this._flags.last_token.type===E.EQUALS||ee(this._flags.last_token,Xn)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Rt(this._previous_flags.mode)&&(this._flags.last_token.type===E.START_EXPR||this._flags.last_token.type===E.COMMA)&&((this._flags.last_token.type===E.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===E.COMMA||this._flags.last_token.type===E.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==E.OPERATOR&&this._flags.last_token.type!==E.START_EXPR&&(this._flags.last_token.type===E.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(e),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};G.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===P.Statement;)this.restore_mode();var t=this._flags.last_token.type===E.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:this._options.brace_style==="expand"?t||this.print_newline():t||(Rt(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)};G.prototype.handle_word=function(e){if(e.type===E.RESERVED){if(z(e.text,["set","get"])&&this._flags.mode!==P.ObjectLiteral)e.type=E.WORD;else if(e.text==="import"&&this._tokens.peek().text==="(")e.type=E.WORD;else if(z(e.text,["as","from"])&&!this._flags.import_block)e.type=E.WORD;else if(this._flags.mode===P.ObjectLiteral){var t=this._tokens.peek();t.text===":"&&(e.type=E.WORD)}}if(this.start_of_statement(e)?ee(this._flags.last_token,["var","let","const"])&&e.type===E.WORD&&(this._flags.declaration_statement=!0):e.newlines&&!Lr(this._flags.mode)&&(this._flags.last_token.type!==E.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==E.EQUALS&&(this._options.preserve_newlines||!ee(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(e),this.print_newline()):this.handle_whitespace_and_comments(e),this._flags.do_block&&!this._flags.do_while)if(We(e,"while")){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&We(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===P.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&ee(e,["case","default"])){this.print_newline(),this._flags.last_token.type!==E.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),this._flags.in_case=!0;return}if((this._flags.last_token.type===E.COMMA||this._flags.last_token.type===E.START_EXPR||this._flags.last_token.type===E.EQUALS||this._flags.last_token.type===E.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e)),We(e,"function")){(z(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(z(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===E.OPERATOR))&&!this._output.just_added_blankline()&&!e.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===E.RESERVED||this._flags.last_token.type===E.WORD?ee(this._flags.last_token,["get","set","new","export"])||ee(this._flags.last_token,lc)?this._output.space_before_token=!0:We(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===E.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Lr(this._flags.mode)||Rt(this._flags.mode))||this.print_newline(),this.print_token(e),this._flags.last_word=e.text;return}var s="NONE";if(this._flags.last_token.type===E.END_BLOCK?this._previous_flags.inline_frame?s="SPACE":ee(e,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines?s="NEWLINE":(s="SPACE",this._output.space_before_token=!0):s="NEWLINE":this._flags.last_token.type===E.SEMICOLON&&this._flags.mode===P.BlockStatement?s="NEWLINE":this._flags.last_token.type===E.SEMICOLON&&Lr(this._flags.mode)?s="SPACE":this._flags.last_token.type===E.STRING?s="NEWLINE":this._flags.last_token.type===E.RESERVED||this._flags.last_token.type===E.WORD||this._flags.last_token.text==="*"&&(z(this._last_last_text,["function","yield"])||this._flags.mode===P.ObjectLiteral&&z(this._last_last_text,["{",","]))?s="SPACE":this._flags.last_token.type===E.START_BLOCK?this._flags.inline_frame?s="SPACE":s="NEWLINE":this._flags.last_token.type===E.END_EXPR&&(this._output.space_before_token=!0,s="NEWLINE"),ee(e,Tr)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?s="SPACE":s="NEWLINE"),ee(e,["else","catch","finally"]))if((!(this._flags.last_token.type===E.END_BLOCK&&this._previous_flags.mode===P.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else s==="NEWLINE"?ee(this._flags.last_token,Xn)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&ee(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==E.END_EXPR?(this._flags.last_token.type!==E.START_EXPR||!ee(e,["var","let","const"]))&&this._flags.last_token.text!==":"&&(We(e,"if")&&We(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):ee(e,Tr)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Rt(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():s==="SPACE"&&(this._output.space_before_token=!0);e.previous&&(e.previous.type===E.WORD||e.previous.type===E.RESERVED)&&(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===E.RESERVED&&(e.text==="do"?this._flags.do_block=!0:e.text==="if"?this._flags.if_block=!0:e.text==="import"?this._flags.import_block=!0:this._flags.import_block&&We(e,"from")&&(this._flags.import_block=!1))};G.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();this._flags.mode===P.Statement&&!(this._flags.if_block&&We(t,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)};G.prototype.handle_string=function(e){e.text.startsWith("`")&&e.newlines===0&&e.whitespace_before===""&&(e.previous.text===")"||this._flags.last_token.type===E.WORD)||(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===E.RESERVED||this._flags.last_token.type===E.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===E.COMMA||this._flags.last_token.type===E.START_EXPR||this._flags.last_token.type===E.EQUALS||this._flags.last_token.type===E.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):e.text.startsWith("`")&&this._flags.last_token.type===E.END_EXPR&&(e.previous.text==="]"||e.previous.text===")")&&e.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(e)};G.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0};G.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Lr(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===P.ObjectLiteral||this._flags.mode===P.Statement&&this._flags.parent.mode===P.ObjectLiteral?(this._flags.mode===P.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)};G.prototype.handle_operator=function(e){var t=e.text==="*"&&(ee(this._flags.last_token,["function","yield"])||z(this._flags.last_token.type,[E.START_BLOCK,E.COMMA,E.END_BLOCK,E.SEMICOLON])),s=z(e.text,["-","+"])&&(z(this._flags.last_token.type,[E.START_BLOCK,E.START_EXPR,E.EQUALS,E.OPERATOR])||z(this._flags.last_token.text,Tr)||this._flags.last_token.text===",");if(!this.start_of_statement(e)){var r=!t;this.handle_whitespace_and_comments(e,r)}if(ee(this._flags.last_token,Xn)){this._output.space_before_token=!0,this.print_token(e);return}if(e.text==="*"&&this._flags.last_token.type===E.DOT){this.print_token(e);return}if(e.text==="::"){this.print_token(e);return}if(this._flags.last_token.type===E.OPERATOR&&z(this._options.operator_position,Dv)&&this.allow_wrap_or_preserved_newline(e),e.text===":"&&this._flags.in_case){this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==E.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var n=!0,i=!0,o=!1;if(e.text===":"?this._flags.ternary_depth===0?n=!1:(this._flags.ternary_depth-=1,o=!0):e.text==="?"&&(this._flags.ternary_depth+=1),!s&&!t&&this._options.preserve_newlines&&z(e.text,Er)){var a=e.text===":",l=a&&o,c=a&&!o;switch(this._options.operator_position){case Sr.before_newline:this._output.space_before_token=!c,this.print_token(e),(!a||l)&&this.allow_wrap_or_preserved_newline(e),this._output.space_before_token=!0;return;case Sr.after_newline:this._output.space_before_token=!0,!a||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),this._output.space_before_token=!0;return;case Sr.preserve_newline:c||this.allow_wrap_or_preserved_newline(e),n=!(this._output.just_added_newline()||c),this._output.space_before_token=n,this.print_token(e),this._output.space_before_token=!0;return}}if(t){this.allow_wrap_or_preserved_newline(e),n=!1;var p=this._tokens.peek();i=p&&z(p.type,[E.WORD,E.RESERVED])}else e.text==="..."?(this.allow_wrap_or_preserved_newline(e),n=this._flags.last_token.type===E.START_BLOCK,i=!1):(z(e.text,["--","++","!","~"])||s)&&((this._flags.last_token.type===E.COMMA||this._flags.last_token.type===E.START_EXPR)&&this.allow_wrap_or_preserved_newline(e),n=!1,i=!1,e.newlines&&(e.text==="--"||e.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Lr(this._flags.mode)&&(n=!0),this._flags.last_token.type===E.RESERVED?n=!0:this._flags.last_token.type===E.END_EXPR?n=!(this._flags.last_token.text==="]"&&(e.text==="--"||e.text==="++")):this._flags.last_token.type===E.OPERATOR&&(n=z(e.text,["--","-","++","+"])&&z(this._flags.last_token.text,["--","-","++","+"]),z(e.text,["+","-"])&&z(this._flags.last_token.text,["--","++"])&&(i=!0)),(this._flags.mode===P.BlockStatement&&!this._flags.inline_frame||this._flags.mode===P.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||n,this.print_token(e),this._output.space_before_token=i};G.prototype.handle_block_comment=function(e,t){if(this._output.raw){this._output.add_raw_token(e),e.directives&&e.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(e.directives){this.print_newline(!1,t),this.print_token(e),e.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Jn.newline.test(e.text)&&!e.newlines){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0;return}else this.print_block_commment(e,t)};G.prototype.print_block_commment=function(e,t){var s=XC(e.text),r,n=!1,i=!1,o=e.whitespace_before,a=o.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(s[0]),this.print_newline(!1,t),s.length>1){for(s=s.slice(1),n=QC(s,"*"),i=ZC(s,o),n&&(this._flags.alignment=1),r=0;r<s.length;r++)n?(this.print_token_line_indentation(e),this._output.add_token(VC(s[r]))):i&&s[r]?(this.print_token_line_indentation(e),this._output.add_token(s[r].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(s[r])),this.print_newline(!1,t);this._flags.alignment=0}};G.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)};G.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),ee(this._flags.last_token,Xn)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)};G.prototype.handle_unknown=function(e,t){this.print_token(e),e.text[e.text.length-1]===`
`&&this.print_newline(!1,t)};G.prototype.handle_eof=function(e){for(;this._flags.mode===P.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e)};zv.exports.Beautifier=G});var Gv=y((V$,cc)=>{"use strict";var YC=Wv().Beautifier,ek=Yl().Options;function tk(e,t){var s=new YC(e,t);return s.beautify()}cc.exports=tk;cc.exports.defaultOptions=function(){return new ek}});var uc=y((K$,Jv)=>{"use strict";var Vv=Wn().Options;function Kv(e){Vv.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<s.length;r++)s[r]!=="expand"?this.brace_style="collapse":this.brace_style=s[r]}Kv.prototype=new Vv;Jv.exports.Options=Kv});var Yv=y((J$,Zv)=>{"use strict";var sk=uc().Options,rk=Fn().Output,nk=Gn().InputScanner,ik=Vn().Directives,Xv=new ik(/\/\*/,/\*\//),Qv=/\r\n|[\r\n]/,ok=/\r\n|[\r\n]/g,Qn=/\s/,ak=/(?:\s|\n)+/g,lk=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,ck=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function wt(e,t){this._source_text=e||"",this._options=new sk(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}wt.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,this._ch==="\\")t+=this._input.next();else if(e.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return t};wt.prototype.eatWhitespace=function(e){for(var t=Qn.test(this._input.peek()),s=0;Qn.test(this._input.peek());)this._ch=this._input.next(),e&&this._ch===`
`&&(s===0||s<this._options.max_preserve_newlines)&&(s++,this._output.add_new_line(!0));return t};wt.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,s=this._input.peek(t);s;){if(s==="{")return!0;if(s==="(")e+=1;else if(s===")"){if(e===0)return!1;e-=1}else if(s===";"||s==="}")return!1;t++,s=this._input.peek(t)}return!1};wt.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)};wt.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)};wt.prototype.indent=function(){this._indentLevel++};wt.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};wt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;t==="auto"&&(t=`
`,e&&Qv.test(e||"")&&(t=e.match(Qv)[0])),e=e.replace(ok,`
`);var s=e.match(/^[\t ]*/)[0];this._output=new rk(this._options,s),this._input=new nk(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,n=!1,i=!1,o=!1,a=!1,l=!1,c=this._ch,p,d,_;p=this._input.read(ak),d=p!=="",_=c,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),c=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var b=this._input.read(lk),f=Xv.get_directives(b);f&&f.ignore==="start"&&(b+=Xv.readIgnored(this._input)),this.print_string(b),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(ck)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(d),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var u=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);u.match(/[ :]$/)&&(u=this.eatString(": ").replace(/\s$/,""),this.print_string(u),this._output.space_before_token=!0),u=u.replace(/\s$/,""),u==="extend"?a=!0:u==="import"&&(l=!0),u in this.NESTED_AT_RULE?(this._nestedLevel+=1,u in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!n&&r===0&&u.indexOf(":")!==-1&&(i=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(d),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(i&&(i=!1,this.outdent()),o?(o=!1,n=this._indentLevel>=this._nestedLevel):n=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&n&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),_==="{"&&this._output.trim(!0),l=!1,a=!1,i&&(this.outdent(),i=!1),this.print_string(this._ch),n=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(n||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!a&&r===0?(this.print_string(":"),i||(i=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(d),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(i&&(this.outdent(),i=!1),a=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(d),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!i&&r===0&&!l&&!a?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!i&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Qn.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(d),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Qn.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(d),this.print_string(this._ch));var m=this._output.get_code(t);return m};Zv.exports.Beautifier=wt});var eb=y((X$,pc)=>{"use strict";var uk=Yv().Beautifier,pk=uc().Options;function dk(e,t){var s=new uk(e,t);return s.beautify()}pc.exports=dk;pc.exports.defaultOptions=function(){return new pk}});var dc=y((Q$,rb)=>{"use strict";var tb=Wn().Options;function sb(e){tb.call(this,e,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}sb.prototype=new tb;rb.exports.Options=sb});var hc=y((Z$,mc)=>{"use strict";var ib=br().Tokenizer,fc=br().TOKEN,fk=Vn().Directives,mk=ic().TemplatablePattern,hk=yr().Pattern,ae={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:fc.START,RAW:fc.RAW,EOF:fc.EOF},nb=new fk(/<\!--/,/-->/),Ce=function(e,t){ib.call(this,e,t),this._current_tag_name="";var s=new mk(this._input).read_options(this._options),r=new hk(this._input);if(this.__patterns={word:s.until(/[\n\r\t <]/),single_quote:s.until_after(/'/),double_quote:s.until_after(/"/),attribute:s.until(/[\n\r\t =>]|\/>/),element_name:s.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(n).until_after(n)}};Ce.prototype=new ib;Ce.prototype._is_comment=function(e){return!1};Ce.prototype._is_opening=function(e){return e.type===ae.TAG_OPEN};Ce.prototype._is_closing=function(e,t){return e.type===ae.TAG_CLOSE&&t&&((e.text===">"||e.text==="/>")&&t.text[0]==="<"||e.text==="}}"&&t.text[0]==="{"&&t.text[1]==="{")};Ce.prototype._reset=function(){this._current_tag_name=""};Ce.prototype._get_next_token=function(e,t){var s=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(ae.EOF,""):(s=s||this._read_open_handlebars(r,t),s=s||this._read_attribute(r,e,t),s=s||this._read_close(r,t),s=s||this._read_raw_content(r,e,t),s=s||this._read_content_word(r),s=s||this._read_comment_or_cdata(r),s=s||this._read_processing(r),s=s||this._read_open(r,t),s=s||this._create_token(ae.UNKNOWN,this._input.next()),s)};Ce.prototype._read_comment_or_cdata=function(e){var t=null,s=null,r=null;if(e==="<"){var n=this._input.peek(1);n==="!"&&(s=this.__patterns.comment.read(),s?(r=nb.get_directives(s),r&&r.ignore==="start"&&(s+=nb.readIgnored(this._input))):s=this.__patterns.cdata.read()),s&&(t=this._create_token(ae.COMMENT,s),t.directives=r)}return t};Ce.prototype._read_processing=function(e){var t=null,s=null,r=null;if(e==="<"){var n=this._input.peek(1);(n==="!"||n==="?")&&(s=this.__patterns.conditional_comment.read(),s=s||this.__patterns.processing.read()),s&&(t=this._create_token(ae.COMMENT,s),t.directives=r)}return t};Ce.prototype._read_open=function(e,t){var s=null,r=null;return t||e==="<"&&(s=this._input.next(),this._input.peek()==="/"&&(s+=this._input.next()),s+=this.__patterns.element_name.read(),r=this._create_token(ae.TAG_OPEN,s)),r};Ce.prototype._read_open_handlebars=function(e,t){var s=null,r=null;return t||this._options.indent_handlebars&&e==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(s=this.__patterns.handlebars_comment.read(),s=s||this.__patterns.handlebars.read(),r=this._create_token(ae.COMMENT,s)):(s=this.__patterns.handlebars_open.read(),r=this._create_token(ae.TAG_OPEN,s))),r};Ce.prototype._read_close=function(e,t){var s=null,r=null;return t&&(t.text[0]==="<"&&(e===">"||e==="/"&&this._input.peek(1)===">")?(s=this._input.next(),e==="/"&&(s+=this._input.next()),r=this._create_token(ae.TAG_CLOSE,s)):t.text[0]==="{"&&e==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(ae.TAG_CLOSE,"}}"))),r};Ce.prototype._read_attribute=function(e,t,s){var r=null,n="";if(s&&s.text[0]==="<")if(e==="=")r=this._create_token(ae.EQUALS,this._input.next());else if(e==='"'||e==="'"){var i=this._input.next();e==='"'?i+=this.__patterns.double_quote.read():i+=this.__patterns.single_quote.read(),r=this._create_token(ae.VALUE,i)}else n=this.__patterns.attribute.read(),n&&(t.type===ae.EQUALS?r=this._create_token(ae.VALUE,n):r=this._create_token(ae.ATTRIBUTE,n));return r};Ce.prototype._is_content_unformatted=function(e){return this._options.void_elements.indexOf(e)===-1&&(this._options.content_unformatted.indexOf(e)!==-1||this._options.unformatted.indexOf(e)!==-1)};Ce.prototype._read_raw_content=function(e,t,s){var r="";if(s&&s.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(t.type===ae.TAG_CLOSE&&t.opened.text[0]==="<"&&t.text[0]!=="/"){var n=t.opened.text.substr(1).toLowerCase();if(n==="script"||n==="style"){var i=this._read_comment_or_cdata(e);if(i)return i.type=ae.TEXT,i;r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(n)&&(r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(ae.TEXT,r):null};Ce.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(ae.TEXT,t)};mc.exports.Tokenizer=Ce;mc.exports.TOKEN=ae});var cb=y((Y$,lb)=>{"use strict";var gk=dc().Options,_k=Fn().Output,yk=hc().Tokenizer,Q=hc().TOKEN,ob=/\r\n|[\r\n]/,vk=/\r\n|[\r\n]/g,Ve=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new _k(e,t)};Ve.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)};Ve.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t};Ve.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Ve.prototype.add_raw_token=function(e){this._output.add_raw_token(e)};Ve.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Q.TEXT&&e.previous.type!==Q.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var s=0;s<t;s++)this.print_newline(s>0);return t!==0};Ve.prototype.traverse_whitespace=function(e){return e.whitespace_before||e.newlines?(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0):!1};Ve.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Ve.prototype.print_newline=function(e){this._output.add_new_line(e)};Ve.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))};Ve.prototype.indent=function(){this.indent_level++};Ve.prototype.get_full_indent=function(e){return e=this.indent_level+(e||0),e<1?"":this._output.get_indent_string(e)};var bk=function(e){for(var t=null,s=e.next;s.type!==Q.EOF&&e.closed!==s;){if(s.type===Q.ATTRIBUTE&&s.text==="type"){s.next&&s.next.type===Q.EQUALS&&s.next.next&&s.next.next.type===Q.VALUE&&(t=s.next.next.text);break}s=s.next}return t},wk=function(e,t){var s=null,r=null;return t.closed?(e==="script"?s="text/javascript":e==="style"&&(s="text/css"),s=bk(t)||s,s.search("text/css")>-1?r="css":s.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":s.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":s.search(/test\/null/)>-1&&(r="null"),r):null};function Cr(e,t){return t.indexOf(e)!==-1}function xk(e,t,s){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=s||0,this.parser_token=t||null}function ss(e){this._printer=e,this._current_frame=null}ss.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};ss.prototype.record_tag=function(e){var t=new xk(this._current_frame,e,this._printer.indent_level);this._current_frame=t};ss.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t};ss.prototype._get_frame=function(e,t){for(var s=this._current_frame;s&&e.indexOf(s.tag)===-1;){if(t&&t.indexOf(s.tag)!==-1){s=null;break}s=s.parent}return s};ss.prototype.try_pop=function(e,t){var s=this._get_frame([e],t);return this._try_pop_frame(s)};ss.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)};function Ge(e,t,s,r){this._source_text=e||"",t=t||{},this._js_beautify=s,this._css_beautify=r,this._tag_stack=null;var n=new gk(t,"html");this._options=n,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Ge.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;this._options.eol==="auto"&&(t=`
`,e&&ob.test(e)&&(t=e.match(ob)[0])),e=e.replace(vk,`
`);var s=e.match(/^[\t ]*/)[0],r={text:"",type:""},n=new ab,i=new Ve(this._options,s),o=new yk(e,this._options).tokenize();this._tag_stack=new ss(i);for(var a=null,l=o.next();l.type!==Q.EOF;)l.type===Q.TAG_OPEN||l.type===Q.COMMENT?(a=this._handle_tag_open(i,l,n,r),n=a):l.type===Q.ATTRIBUTE||l.type===Q.EQUALS||l.type===Q.VALUE||l.type===Q.TEXT&&!n.tag_complete?a=this._handle_inside_tag(i,l,n,o):l.type===Q.TAG_CLOSE?a=this._handle_tag_close(i,l,n):l.type===Q.TEXT?a=this._handle_text(i,l,n):i.add_raw_token(l),r=a,l=o.next();var c=i._output.get_code(t);return c};Ge.prototype._handle_tag_close=function(e,t,s){var r={text:t.text,type:t.type};return e.alignment_size=0,s.tag_complete=!0,e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),s.is_unformatted?e.add_raw_token(t):(s.tag_start_char==="<"&&(e.set_space_before_token(t.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&s.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),s.indent_content&&!(s.is_unformatted||s.is_content_unformatted)&&(e.indent(),s.indent_content=!1),!s.is_inline_element&&!(s.is_unformatted||s.is_content_unformatted)&&e.set_wrap_point(),r};Ge.prototype._handle_inside_tag=function(e,t,s,r){var n=s.has_wrapped_attrs,i={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),s.is_unformatted)e.add_raw_token(t);else if(s.tag_start_char==="{"&&t.type===Q.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Q.ATTRIBUTE?(e.set_space_before_token(!0),s.attr_count+=1):(t.type===Q.EQUALS||t.type===Q.VALUE&&t.previous.type===Q.EQUALS)&&e.set_space_before_token(!1),t.type===Q.ATTRIBUTE&&s.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),n=n||t.newlines!==0),this._is_wrap_attributes_force)){var o=s.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&s.attr_count===1){var a=!0,l=0,c;do{if(c=r.peek(l),c.type===Q.ATTRIBUTE){a=!1;break}l+=1}while(l<4&&c.type!==Q.EOF&&c.type!==Q.TAG_CLOSE);o=!a}o&&(e.print_newline(!1),n=!0)}e.print_token(t),n=n||e.previous_token_wrapped(),s.has_wrapped_attrs=n}return i};Ge.prototype._handle_text=function(e,t,s){var r={text:t.text,type:"TK_CONTENT"};return s.custom_beautifier_name?this._print_custom_beatifier_text(e,t,s):s.is_unformatted||s.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r};Ge.prototype._print_custom_beatifier_text=function(e,t,s){var r=this;if(t.text!==""){var n=t.text,i,o=1,a="",l="";s.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?i=this._js_beautify:s.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?i=this._css_beautify:s.custom_beautifier_name==="html"&&(i=function(f,u){var m=new Ge(f,u,r._js_beautify,r._css_beautify);return m.beautify()}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-e.indent_level);var c=e.get_full_indent(o);if(n=n.replace(/\n[ \t]*$/,""),s.custom_beautifier_name!=="html"&&n[0]==="<"&&n.match(/^(<!--|<!\[CDATA\[)/)){var p=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(n);if(!p){e.add_raw_token(t);return}a=c+p[1]+`
`,n=p[4],p[5]&&(l=c+p[5]),n=n.replace(/\n[ \t]*$/,""),(p[2]||p[3].indexOf(`
`)!==-1)&&(p=p[3].match(/[ \t]+$/),p&&(t.whitespace_before=p[0]))}if(n)if(i){var d=function(){this.eol=`
`};d.prototype=this._options.raw_options;var _=new d;n=i(c+n,_)}else{var b=t.whitespace_before;b&&(n=n.replace(new RegExp(`
(`+b+")?","g"),`
`)),n=c+n.replace(/\n/g,`
`+c)}a&&(n?n=a+n+`
`+l:n=a+l),e.print_newline(!1),n&&(t.text=n,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}};Ge.prototype._handle_tag_open=function(e,t,s,r){var n=this._get_tag_open_token(t);return(s.is_unformatted||s.is_content_unformatted)&&!s.is_empty_element&&t.type===Q.TAG_OPEN&&t.text.indexOf("</")===0?(e.add_raw_token(t),n.start_tag_token=this._tag_stack.try_pop(n.tag_name)):(e.traverse_whitespace(t),this._set_tag_position(e,t,n,s,r),n.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(n.alignment_size=t.text.length+1),!n.tag_complete&&!n.is_unformatted&&(e.alignment_size=n.alignment_size),n};var ab=function(e,t){if(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!t)this.tag_complete=!0;else{var s;this.tag_start_char=t.text[0],this.text=t.text,this.tag_start_char==="<"?(s=t.text.match(/^<([^\s>]*)/),this.tag_check=s?s[1]:""):(s=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=s?s[1]:"",t.text==="{{#>"&&this.tag_check===">"&&t.next!==null&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===Q.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&t.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Ge.prototype._get_tag_open_token=function(e){var t=new ab(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||Cr(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&Cr(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&Cr(t.tag_check,this._options.content_unformatted),t.is_inline_element=Cr(t.tag_name,this._options.inline)||t.tag_start_char==="{",t};Ge.prototype._set_tag_position=function(e,t,s,r,n){if(s.is_empty_element||(s.is_end_tag?s.start_tag_token=this._tag_stack.try_pop(s.tag_name):(this._do_optional_end_element(s)&&(s.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(s),(s.tag_name==="script"||s.tag_name==="style")&&!(s.is_unformatted||s.is_content_unformatted)&&(s.custom_beautifier_name=wk(s.tag_check,t)))),Cr(s.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),s.is_empty_element){if(s.tag_start_char==="{"&&s.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),s.indent_content=!0;var i=e.current_line_has_match(/{{#if/);i||e.print_newline(!1)}s.tag_name==="!--"&&n.type===Q.TAG_CLOSE&&r.is_end_tag&&s.text.indexOf(`
`)===-1||(s.is_inline_element||s.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,s))}else if(s.is_end_tag){var o=!1;o=s.start_tag_token&&s.start_tag_token.multiline_content,o=o||!s.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(n.type===Q.TAG_CLOSE&&s.start_tag_token===r)&&n.type!=="TK_CONTENT",(s.is_content_unformatted||s.is_unformatted)&&(o=!1),o&&e.print_newline(!1)}else s.indent_content=!s.custom_beautifier_name,s.tag_start_char==="<"&&(s.tag_name==="html"?s.indent_content=this._options.indent_inner_html:s.tag_name==="head"?s.indent_content=this._options.indent_head_inner_html:s.tag_name==="body"&&(s.indent_content=this._options.indent_body_inner_html)),!(s.is_inline_element||s.is_unformatted)&&(n.type!=="TK_CONTENT"||s.is_content_unformatted)&&e.print_newline(!1),this._calcluate_parent_multiline(e,s)};Ge.prototype._calcluate_parent_multiline=function(e,t){t.parent&&e._output.just_added_newline()&&!((t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element)&&(t.parent.multiline_content=!0)};var Ek=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],Sk=["a","audio","del","ins","map","noscript","video"];Ge.prototype._do_optional_end_element=function(e){var t=null;if(!(e.is_empty_element||!e.is_start_tag||!e.parent)){if(e.tag_name==="body")t=t||this._tag_stack.try_pop("head");else if(e.tag_name==="li")t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if(e.tag_name==="dd"||e.tag_name==="dt")t=t||this._tag_stack.try_pop("dt",["dl"]),t=t||this._tag_stack.try_pop("dd",["dl"]);else if(e.parent.tag_name==="p"&&Ek.indexOf(e.tag_name)!==-1){var s=e.parent.parent;(!s||Sk.indexOf(s.tag_name)===-1)&&(t=t||this._tag_stack.try_pop("p"))}else e.tag_name==="rp"||e.tag_name==="rt"?(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]),t=t||this._tag_stack.try_pop("rp",["ruby","rtc"])):e.tag_name==="optgroup"?t=t||this._tag_stack.try_pop("optgroup",["select"]):e.tag_name==="option"?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):e.tag_name==="colgroup"?t=t||this._tag_stack.try_pop("caption",["table"]):e.tag_name==="thead"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"])):e.tag_name==="tbody"||e.tag_name==="tfoot"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("thead",["table"]),t=t||this._tag_stack.try_pop("tbody",["table"])):e.tag_name==="tr"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(e.tag_name==="th"||e.tag_name==="td")&&(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),t=t||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}};lb.exports.Beautifier=Ge});var ub=y((e5,gc)=>{"use strict";var Lk=cb().Beautifier,Tk=dc().Options;function Ck(e,t,s,r){var n=new Lk(e,t,s,r);return n.beautify()}gc.exports=Ck;gc.exports.defaultOptions=function(){return new Tk}});var hb=y((t5,Zn)=>{"use strict";var pb=Gv(),db=eb(),fb=ub();function mb(e,t,s,r){return s=s||pb,r=r||db,fb(e,t,s,r)}mb.defaultOptions=fb.defaultOptions;Zn.exports.js=pb;Zn.exports.css=db;Zn.exports.html=mb});var yb=y((s5,_b)=>{"use strict";function gb(e,t,s){var r=function(n,i){return e.js_beautify(n,i)};return r.js=e.js_beautify,r.css=t.css_beautify,r.html=s.html_beautify,r.js_beautify=e.js_beautify,r.css_beautify=t.css_beautify,r.html_beautify=s.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(e,t,s){return gb(e,t,s)}):function(e){var t=hb();t.js_beautify=t.js,t.css_beautify=t.css,t.html_beautify=t.html,e.exports=gb(t,t,t)}(_b)});var Tb=y(Mr=>{"use strict";var W=Mr&&Mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mr,"__esModule",{value:!0});var kk=W(Rg()),vb=W(xy()),gt=W(Ue()),_c=W(ne()),Mk=W(Sy()),yc=W(Ty()),jk=W(Ml()),bb=W(Ul()),kr=W(tt()),Uk=W(Ls()),qk=W(jy()),vc=W(mn()),Ak=W(qy()),Ok=W(Be()),Pk=W(De()),Ik=W(dt()),Rk=W(Fe()),Hk=W(Sn()),Lb=W(pt()),Bk=W(gn()),$k=W(Ea()),Nk=W(Hn()),Yn=W(J()),wb=W(Gt()),Dk=W(Vt()),Fk=W(je()),zk=W(ur()),Wk=W(Iy()),Gk=W(or()),Vk=W(rv()),Kk=W(ov()),Jk=W(dv()),xb=W(mv()),Xk=Co(),Qk=W(Jl()),Eb=W(yb()),Zk=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,Sb={comment:"",string:"",number:"",keyword:"",operator:""},bc=class extends Gk.default{constructor(t,{type:s="log",args:r=[],id:n,group:i,targetGroup:o,header:a,ignoreFilter:l=!1,accessGetter:c,unenumerable:p,lazyEvaluation:d}){super(),this.container=Wk.default("div"),this.count=1,this.width=0,this.height=0,this.console=t,this.type=s,this.group=i,this.targetGroup=o,this.args=r,this.id=n,this.header=a,this.ignoreFilter=l,this.collapsed=!1,this.container.log=this,this.height=0,this.width=0,this.$container=zk.default(this.container),this.accessGetter=c,this.unenumerable=p,this.lazyEvaluation=d,this.formatMsg(),this.group&&this.checkGroup()}checkGroup(){let{group:t}=this,s=!1;for(;t;){if(t.collapsed){s=!0;break}t=t.parent}return s!==this.collapsed?(this.collapsed=s,!0):!1}updateIcon(t){let{c:s}=this.console;return this.$container.find(s(".icon")).rmAttr("class").addClass([s("icon"),s(`icon-${t}`)]),this}addCount(){this.count++;let{$container:t,count:s}=this,{c:r}=this.console,n=t.find(r(".count-container")),i=t.find(r(".icon-container")),o=n.find(r(".count"));return s===2&&n.rmClass(r("hidden")),o.text(kr.default(s)),i.addClass(r("hidden")),this}groupEnd(){let{$container:t}=this,{c:s}=this.console;return t.find(`.${s("nesting-level")}:not(.${s("group-closed")})`).last().addClass(s("group-closed")),this}updateTime(t){let s=this.$container.find(this.console.c(".time-container"));return this.header&&(s.find("span").eq(0).text(t),this.header.time=t),this}isAttached(){return!!this.container.parentNode}updateSize(t=!0){let s=this.container.offsetHeight,r=this.container.offsetWidth;(this.height!==s||this.width!==r)&&(this.height=s,this.width=r,t||this.emit("updateSize"))}html(){return this.container.outerHTML}text(){return this.content.textContent||""}needSrc(){let{type:t,args:s}=this;if(t==="html")return!1;for(let r=0,n=s.length;r<n;r++)if(gt.default(s[r]))return!0;return!1}extractObj(t=Nk.default){let{args:s,type:r}=this,n=i=>{this.src=i,t()};r==="table"?this._extractObj(s[0],{},n):this._extractObj(s.length===1&&gt.default(s[0])?s[0]:s,{},n)}_extractObj(t,s={},r){let{accessGetter:n,unenumerable:i}=this;jk.default(s,{accessGetter:n,unenumerable:i,symbol:i,timeout:1e3}),eM(t,s,o=>r(JSON.parse(o)))}click(){let{type:t,src:s,$container:r,console:n,unenumerable:i,accessGetter:o}=this,{c:a}=n,{args:l}=this;switch(t){case"log":case"warn":case"debug":case"output":case"table":case"dir":case"group":case"groupCollapsed":if(s||l){let c=r.find(a(".json"));if(c.hasClass(a("hidden"))){if(c.data("init")!=="true"){if(s){let p=new vb.default.Static(c.get(0));p.set(s),p.on("change",()=>this.updateSize(!1))}else{(t==="table"||l.length===1)&&gt.default(l[0])&&(l=l[0]);let p=new vb.default(c.get(0),{unenumerable:i,accessGetter:o});p.set(l),p.on("change",()=>this.updateSize(!1))}c.data("init","true")}c.rmClass(a("hidden"))}else c.addClass(a("hidden"))}else(t==="group"||t==="groupCollapsed")&&n.toggleGroup(this);break;case"error":r.find(a(".stack")).toggleClass(a("hidden"));break}this.updateSize(!1)}formatMsg(){let{args:t}=this,{type:s,id:r,header:n,group:i,lazyEvaluation:o}=this,{c:a}=this.console;t=$k.default(t),this.needSrc()&&!o&&this.extractObj();let l="",c,p;switch((s==="group"||s==="groupCollapsed")&&t.length===0&&(t=["console.group"]),s){case"log":l=this.formatCommon(t);break;case"debug":l=this.formatCommon(t);break;case"dir":l=this.formatDir(t);break;case"warn":c="warn",l=this.formatCommon(t);break;case"error":_c.default(t[0])&&t.length!==1&&(t=this.substituteStr(t)),p=t[0],c="error",p=Mk.default(p)?p:new Error(this.formatCommon(t)),this.src=p,l=this.formatErr(p);break;case"table":l=this.formatTable(t);break;case"html":l=t[0];break;case"input":l=this.formatJs(t[0]),c="input";break;case"output":l=this.formatCommon(t),c="output";break;case"groupCollapsed":l=this.formatCommon(t),c="caret-right";break;case"group":l=this.formatCommon(t),c="caret-down";break}(!this.needSrc()||!o)&&delete this.args,s!=="error"&&!this.args&&(l=Jk.default(l,d=>`<a href="${d}" target="_blank">${d}</a>`)),l=this.render({msg:l,type:s,icon:c,id:r,header:n,group:i}),this.$container.addClass(`${a("log-container")}`).html(l),this.$content=this.$container.find(a(".log-content")),this.content=this.$content.get(0)}render(t){let{c:s}=this.console,r="",n="";if(t.group){let{indentLevel:o}=t.group;for(let a=0;a<o;a++)n+=`<div class="${s("nesting-level")}"></div>`}t.header&&(r+=Qk.default`
      <div class="${s("header")}">
        ${n}
        <div class="${s("time-from-container")}">
          <span>${t.header.time}</span> <span>${t.header.from}</span>
        </div>
      </div>`);let i="";return t.icon&&(i=`<div class="${s("icon-container")}"><span class="${s("icon icon-"+t.icon)}"></span></div>`),r+=`
    <div class="${s(t.type+" log-item")}">
      ${n}
      ${i}
      <div class="${s("count-container hidden")}">
        <div class="${s("count")}"></div>
      </div>    
      <div class="${s("log-content-wrapper")}">
        <div class="${s("log-content")}">${t.msg}</div>
      </div>
    </div>`,r}formatTable(t){let s="__LunaConsoleValue",r=t[0],n="",i=t[1],o=[];return _c.default(i)&&(i=Ik.default(i)),Rk.default(i)||(i=null),gt.default(r)?(Yn.default(r,a=>{yc.default(a)?o.push(s):gt.default(a)&&(o=o.concat(Fk.default(a)))}),o=Hk.default(o),o.sort(),i&&(o=o.filter(a=>Lb.default(i,a))),o.length>20&&(o=o.slice(0,20)),Bk.default(o)?this.formatCommon(t):(n+="<table><thead><tr><th>(index)</th>",o.forEach(a=>n+=`<th>${a===s?"Value":kr.default(a)}</th>`),n+="</tr></thead><tbody>",Yn.default(r,(a,l)=>{n+=`<tr><td>${l}</td>`,o.forEach(c=>{gt.default(a)?n+=c===s?"<td></td>":`<td>${this.formatTableVal(a[c])}</td>`:yc.default(a)&&(n+=c===s?`<td>${this.formatTableVal(a)}</td>`:"<td></td>")}),n+="</tr>"}),n+="</tbody></table>",n+=`<div class="${this.console.c("json hidden")}"></div>`,n)):this.formatCommon(t)}formatErr(t){let s=t.stack?t.stack.split(`
`):[],r=`${t.message||s[0]}<br/>`;s=s.map(i=>vc.default(i));let n=`<div class="${this.console.c("stack hidden")}">${s.slice(1).join("<br/>")}</div>`;return r+n.replace(Zk,i=>`<a href="${i}" target="_blank">${i}</a>`)}formatCommon(t,{htmlForEl:s=!0}={}){let r=_c.default(t[0])&&t.length!==1;r&&(t=this.substituteStr(t));for(let n=0,i=t.length;n<i;n++){let o=t[n];bb.default(o)&&s?t[n]=this.formatEl(o):Pk.default(o)?t[n]=this.formatJs(o):gt.default(o)?t[n]=this.formatObj(o):Ok.default(o)?t[n]="undefined":Ak.default(o)?t[n]="null":(o=kr.default(o),(n!==0||!r)&&(o=vc.default(o)),t[n]=o)}return t.join(" ")+`<div class="${this.console.c("json hidden")}"></div>`}formatDir(t){return this.formatCommon(t,{htmlForEl:!1})}formatTableVal(t){return gt.default(t)?t="{\u2026}":yc.default(t)?this.getAbstract(t):kr.default(t)}getAbstract(t){return`<span class="${this.console.c("abstract")}">`+kk.default(t,{getterVal:this.accessGetter,unenumerable:!1})+"</span>"}substituteStr(t){let s=vc.default(t[0]),r=!1,n="";t.shift();for(let i=0,o=s.length;i<o;i++){let a=s[i];if(a==="%"&&t.length!==0){i++;let l=t.shift();switch(s[i]){case"i":case"d":n+=qk.default(l);break;case"f":n+=Uk.default(l);break;case"s":n+=kr.default(l);break;case"O":gt.default(l)&&(n+=this.getAbstract(l));break;case"o":bb.default(l)?n+=this.formatEl(l):gt.default(l)&&(n+=this.getAbstract(l));break;case"c":if(s.length<=i+1)break;r&&(n+="</span>"),r=!0,n+=`<span style="${Yk(l)}">`;break;default:i--,t.unshift(l),n+=a}}else n+=a}return r&&(n+="</span>"),t.unshift(n),t}formatJs(t){return`<pre class="${this.console.c("code")}">${this.console.c(xb.default(Eb.default(t,{indent_size:2}),"js",Sb))}</pre>`}formatObj(t){let s=Xk.getObjType(t);return s==="Array"&&t.length>1&&(s=`(${t.length})`),`${s} ${this.getAbstract(t)}`}formatEl(t){let{c:s}=this.console;return`<pre class="${s("code")}">${s(xb.default(Eb.default.html(t.outerHTML,{unformatted:[],indent_size:2}),"html",Sb))}</pre>`}};Mr.default=bc;function Yk(e){e=Dk.default(e);let t=e.split(";"),s={};Yn.default(t,n=>{if(!Lb.default(n,":"))return;let[i,o]=n.split(":");s[wb.default(i)]=wb.default(o)}),s.display="inline-block",s["max-width"]="100%",delete s.width,delete s.height;let r="";return Yn.default(s,(n,i)=>{r+=`${i}:${n};`}),r}function eM(e,t,s){let r=Vk.default(e,t);Kk.default(()=>s(r))}});var jb=y((jr,Mb)=>{var Cb=mr(),kb=vn(),wc=kb.performance,ei=kb.process,ti;wc&&wc.now?jr=function(){return wc.now()}:ei&&ei.hrtime?(xc=function(){var e=ei.hrtime();return e[0]*1e9+e[1]},ti=xc()-ei.uptime()*1e9,jr=function(){return(xc()-ti)/1e6}):(ti=Cb(),jr=function(){return Cb()-ti});var xc;Mb.exports=jr});var qb=y((Ec,Ub)=>{var tM=ut();Ec=function(e){return tM(e)==="[object RegExp]"};Ub.exports=Ec});var Ob=y((Sc,Ab)=>{var sM=Kt(),rM=Hn();Sc=function(e,t){t=t||rM;var s=document.createElement("textarea"),r=document.body;sM(s.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),s.value=e,r.appendChild(s),s.setAttribute("readonly",""),s.select(),s.setSelectionRange(0,e.length);try{document.execCommand("copy"),t()}catch(n){t(n)}finally{r.removeChild(s)}};Ab.exports=Sc});var Ib=y((Lc,Pb)=>{Lc=function(e,t,s){var r;return function(){var n=this,i=arguments,o=function(){r=null,e.apply(n,i)};s||clearTimeout(r),(!s||!r)&&(r=setTimeout(o,t))}};Pb.exports=Lc});var Hb=y((Tc,Rb)=>{var nM=Ib();Tc=function(e,t){return nM(e,t,!0)};Rb.exports=Tc});var $b=y((Cc,Bb)=>{Cc=function(e){for(var t=[],s=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0;r<s.snapshotLength;r++)t.push(s.snapshotItem(r));return t};Bb.exports=Cc});var Db=y((kc,Nb)=>{var iM=ut();kc=function(e){return iM(e)==="[object Date]"};Nb.exports=kc});var zb=y((Mc,Fb)=>{Mc=function(e,t){var s="";if(t<1)return"";for(;t>0;)t&1&&(s+=e),t>>=1,e+=e;return s};Fb.exports=Mc});var Gb=y((jc,Wb)=>{var oM=zb(),aM=tt();jc=function(e,t,s){e=aM(e);var r=e.length;return s=s||" ",r<t&&(e=(oM(s,t-r)+e).slice(-t)),e};Wb.exports=jc});var Kb=y((nt,Vb)=>{var lM=ne(),cM=Db(),si=tt(),uM=Gb();nt=function(e,t,s,r){arguments.length===1&&lM(e)&&!fM.test(e)&&(t=e,e=void 0),e=e||new Date,cM(e)||(e=new Date(e)),t=si(nt.masks[t]||t||nt.masks.default);var n=t.slice(0,4);(n==="UTC:"||n==="GMT:")&&(t=t.slice(4),s=!0,n==="GMT:"&&(r=!0));var i=s?"getUTC":"get",o=e[i+"Date"](),a=e[i+"Day"](),l=e[i+"Month"](),c=e[i+"FullYear"](),p=e[i+"Hours"](),d=e[i+"Minutes"](),_=e[i+"Seconds"](),b=e[i+"Milliseconds"](),f=s?0:e.getTimezoneOffset(),u={d:o,dd:xt(o),ddd:nt.i18n.dayNames[a],dddd:nt.i18n.dayNames[a+7],m:l+1,mm:xt(l+1),mmm:nt.i18n.monthNames[l],mmmm:nt.i18n.monthNames[l+12],yy:si(c).slice(2),yyyy:c,h:p%12||12,hh:xt(p%12||12),H:p,HH:xt(p),M:d,MM:xt(d),s:_,ss:xt(_),l:xt(b,3),L:xt(Math.round(b/10)),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:r?"GMT":s?"UTC":(si(e).match(dM)||[""]).pop().replace(mM,""),o:(f>0?"-":"+")+xt(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][o%10>3?0:(o%100-o%10!=10)*o%10]};return t.replace(pM,function(m){return m in u?u[m]:m.slice(1,m.length-1)})};var xt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return uM(si(e),t,"0")},pM=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,dM=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,fM=/\d/,mM=/[^-+\dA-Z]/g;nt.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};nt.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Vb.exports=nt});var Yb=y((qc,Zb)=>{var Qb=vn(),Uc=Qb.getComputedStyle,Jb=Qb.document;qc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.display,r=s===void 0?!0:s,n=t.visibility,i=n===void 0?!1:n,o=t.opacity,a=o===void 0?!1:o,l=t.size,c=l===void 0?!1:l,p=t.viewport,d=p===void 0?!1:p,_=t.overflow,b=_===void 0?!1:_;if(r)return e.offsetParent===null;var f=Uc(e);if(i&&f.visibility==="hidden")return!0;if(a){if(f.opacity==="0")return!0;for(var u=e;u=u.parentElement;){var m=Uc(u);if(m.opacity==="0")return!0}}var h=e.getBoundingClientRect();if(c&&(h.width===0||h.height===0))return!0;if(d){var v={top:0,left:0,right:Jb.documentElement.clientWidth,bottom:Jb.documentElement.clientHeight};return Xb(h,v)}if(b)for(var x=e;x=x.parentElement;){var w=Uc(x),g=w.overflow;if(g==="scroll"||g==="hidden"){var L=x.getBoundingClientRect();if(Xb(h,L))return!0}}return!1};function Xb(e,t){return e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom}Zb.exports=qc});var e0=y(Ur=>{"use strict";var Oc=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ur,"__esModule",{value:!0});var hM=Oc(or()),gM=Oc(ur()),_M=Cn(),yM=Oc(J()),Ac=class extends hM.default{constructor(t,{compName:s}){super(),this.compName=s,this.c=_M.classPrefix(s),this.options={},this.container=t,this.$container=gM.default(t),this.$container.addClass(`luna-${s}`)}destroy(){this.$container.rmClass(`luna-${this.compName}`),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}setOption(t,s){let r=this.options,n={};typeof t=="string"?n[t]=s:n=t,yM.default(n,(i,o)=>{let a=r[o];r[o]=i,this.emit("optionChange",o,i,a)})}find(t){return this.$container.find(this.c(t))}};Ur.default=Ac});var n0=y((Pc,r0)=>{var vM=mr(),bM=zo(),rs,Ar,t0=0;if(bM)for(rs=window.requestAnimationFrame,Ar=window.cancelAnimationFrame,qr=["ms","moz","webkit","o"],qs=0,s0=qr.length;qs<s0&&!rs;qs++)rs=window[qr[qs]+"RequestAnimationFrame"],Ar=window[qr[qs]+"CancelAnimationFrame"]||window[qr[qs]+"CancelRequestAnimationFrame"];var qr,qs,s0;rs=rs||function(e){var t=vM(),s=Math.max(0,16-(t-t0)),r=setTimeout(function(){e(t+s)},s);return t0=t+s,r};Ar=Ar||function(e){clearTimeout(e)};rs.cancel=Ar;Pc=rs;r0.exports=Pc});var p0=y((Pr,Ic)=>{"use strict";var se=Pr&&Pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pr,"__esModule",{value:!0});var wM=se(Tb()),i0=se(Be()),o0=se(jb()),xM=se(mr()),a0=se(ne()),EM=se(Kt()),SM=se(vl()),LM=se(qb()),TM=se(De()),l0=se(ua()),ns=se(gn()),CM=se(pt()),kM=se(Ob()),c0=se(J()),MM=se(dt()),jM=se(je()),UM=se(bn()),qM=se(Hb()),AM=se($b()),OM=se(Vt()),PM=se(Kb()),IM=se(Yb()),RM=se(Jl()),HM=Cn(),BM=se(e0()),$M=n0(),u0=navigator.userAgent,NM=u0.indexOf("Android")>-1||u0.indexOf("Adr")>-1,DM=HM.classPrefix("console"),FM=0,Or=class extends BM.default{constructor(t,{maxNum:s=0,asyncRender:r=!0,showHeader:n=!1,filter:i="all",accessGetter:o=!1,unenumerable:a=!0,lazyEvaluation:l=!0}={}){super(t,{compName:"console"}),this.spaceHeight=0,this.topSpaceHeight=0,this.bottomSpaceHeight=0,this.lastScrollTop=0,this.lastTimestamp=0,this.speedToleranceFactor=100,this.maxSpeedTolerance=2e3,this.minSpeedTolerance=100,this.logs=[],this.displayLogs=[],this.timer={},this.counter={},this.asyncList=[],this.asyncTimer=null,this.isAtBottom=!0,this.groupStack=new l0.default,this.onScroll=()=>{let{scrollHeight:c,offsetHeight:p,scrollTop:d}=this.container;if(d<=0||p+d>c)return;let _=!1;(c===p||d===c-p)&&(_=!0),this.isAtBottom=_;let b=this.lastScrollTop,f=this.lastTimestamp,u=xM.default(),m=u-f,h=d-b,x=Math.abs(h/m)*this.speedToleranceFactor;m>1e3&&(x=1e3),x>this.maxSpeedTolerance&&(x=this.maxSpeedTolerance),x<this.minSpeedTolerance&&(x=this.minSpeedTolerance),this.lastScrollTop=d,this.lastTimestamp=u;let w=0,g=0;b<d?(w=this.minSpeedTolerance,g=x):(w=x,g=this.minSpeedTolerance),!(this.topSpaceHeight<d-w&&this.topSpaceHeight+this.el.offsetHeight>d+p+g)&&this.renderViewport({topTolerance:w*2,bottomTolerance:g*2})},this.initTpl(),this.options={maxNum:s,asyncRender:r,showHeader:n,filter:i,accessGetter:o,unenumerable:a,lazyEvaluation:l},this.$el=this.find(".logs"),this.el=this.$el.get(0),this.$fakeEl=this.find(".fake-logs"),this.fakeEl=this.$fakeEl.get(0),this.$space=this.find(".logs-space"),this.space=this.$space.get(0),NM&&(this.speedToleranceFactor=800,this.maxSpeedTolerance=3e3,this.minSpeedTolerance=800),this.renderViewport=qM.default(c=>{this._renderViewport(c)},16),this.global={copy(c){a0.default(c)||(c=JSON.stringify(c,null,2)),kM.default(c)},$(c){return document.querySelector(c)},$$(c){return MM.default(document.querySelectorAll(c))},$x(c){return AM.default(c)},clear:()=>{this.clear()},dir:c=>{this.dir(c)},table:(c,p)=>{this.table(c,p)},keys:jM.default},this.bindEvent()}setGlobal(t,s){this.global[t]=s}destroy(){super.destroy(),this.$container.off("scroll",this.onScroll)}count(t="default"){let{counter:s}=this;i0.default(s[t])?s[t]=1:s[t]++,this.info(`${t}: ${s[t]}`)}countReset(t="default"){this.counter[t]=0}assert(...t){if(ns.default(t))return;t.shift()||(t.length===0&&t.unshift("console.assert"),t.unshift("Assertion failed: "),this.insert("error",t))}log(...t){ns.default(t)||this.insert("log",t)}debug(...t){ns.default(t)||this.insert("debug",t)}dir(t){i0.default(t)||this.insert("dir",[t])}table(...t){ns.default(t)||this.insert("table",t)}time(t="default"){if(this.timer[t])return this.insert("warn",[`Timer '${t}' already exists`]);this.timer[t]=o0.default()}timeLog(t="default"){let s=this.timer[t];if(!s)return this.insert("warn",[`Timer '${t}' does not exist`]);this.info(`${t}: ${o0.default()-s}ms`)}timeEnd(t="default"){this.timeLog(t),delete this.timer[t]}clear(t=!1){this.logs=[],this.displayLogs=[],this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new l0.default,this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),t?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}info(...t){ns.default(t)||this.insert("log",t)}error(...t){ns.default(t)||this.insert("error",t)}warn(...t){ns.default(t)||this.insert("warn",t)}group(...t){this.insert({type:"group",args:t,ignoreFilter:!0})}groupCollapsed(...t){this.insert({type:"groupCollapsed",args:t,ignoreFilter:!0})}groupEnd(){this.insert("groupEnd")}evaluate(t){this.insert({type:"input",args:[t],ignoreFilter:!0});try{this.output(this.evalJs(t))}catch(s){this.insert({type:"error",ignoreFilter:!0,args:[s]})}}html(...t){this.insert("html",t)}toggleGroup(t){let{targetGroup:s}=t;s.collapsed?this.openGroup(t):this.collapseGroup(t)}output(t){this.insert({type:"output",args:[t],ignoreFilter:!0})}render(){let{logs:t}=this;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(let s=0,r=t.length;s<r;s++)this.attachLog(t[s])}insert(t,s){let{showHeader:r,asyncRender:n}=this.options,i;if(r&&(i={time:zM(),from:WM()}),n)return this.insertAsync(t,s,i);this.insertSync(t,s,i)}insertAsync(t,s,r){this.asyncList.push([t,s,r]),this.handleAsyncList()}insertSync(t,s,r){let{logs:n,groupStack:i}=this,{maxNum:o,accessGetter:a,unenumerable:l,lazyEvaluation:c}=this.options,p;if(a0.default(t)?p={type:t,args:s,header:r}:p=t,p.type==="groupEnd"){this.lastLog.groupEnd(),this.groupStack.pop();return}if(i.size>0&&(p.group=i.peek()),EM.default(p,{id:++FM,accessGetter:a,unenumerable:l,lazyEvaluation:c}),p.type==="group"||p.type==="groupCollapsed"){let b={id:SM.default("group"),collapsed:!1,parent:i.peek(),indentLevel:i.size+1};p.type==="groupCollapsed"&&(b.collapsed=!0),p.targetGroup=b,i.push(b)}let d=new wM.default(this,p);d.on("updateSize",()=>{this.isAtBottom=!1,this.renderViewport()});let _=this.lastLog;if(_&&!CM.default(["html","group","groupCollapsed"],d.type)&&_.type===d.type&&!d.src&&!d.args&&_.text()===d.text()?(_.addCount(),d.header&&_.updateTime(d.header.time),d=_,this.detachLog(_)):(n.push(d),this.lastLog=d),o!==0&&n.length>o){let b=n[0];this.detachLog(b),n.shift()}this.attachLog(d),this.emit("insert",d)}updateTopSpace(t){this.topSpaceHeight=t,this.el.style.top=t+"px"}updateBottomSpace(t){this.bottomSpaceHeight=t}updateSpace(t){this.spaceHeight!==t&&(this.spaceHeight=t,this.space.style.height=t+"px")}detachLog(t){let{displayLogs:s}=this,r=s.indexOf(t);r>-1&&(s.splice(r,1),this.renderViewport())}attachLog(t){if(!this.filterLog(t)||t.collapsed)return;let{displayLogs:s}=this;if(s.length===0){s.push(t),this.renderViewport();return}let r=UM.default(s);if(t.id>r.id){s.push(t),this.renderViewport();return}let n=0,i=s.length-1,o,a=0;for(;n<=i;){if(a=n+Math.floor((i-n)/2),o=s[a],o.id===t.id)return;o.id<t.id?n=a+1:i=a-1}o.id<t.id?s.splice(a+1,0,t):s.splice(a,0,t),this.renderViewport()}handleAsyncList(t=20){let s=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout(()=>{this.asyncTimer=null;let r=!1,n=s.length,i,o;n<1e3?(o=200,i=400):n<5e3?(o=500,i=800):n<1e4?(o=800,i=1e3):n<25e3?(o=1e3,i=1200):n<5e4?(o=1500,i=1500):(o=2e3,i=2500),o>n&&(o=n,r=!0);for(let a=0;a<o;a++){let[l,c,p]=s.shift();this.insertSync(l,c,p)}r||$M(()=>this.handleAsyncList(i))},t))}injectGlobal(){c0.default(this.global,(t,s)=>{window[s]||(window[s]=t)})}clearGlobal(){c0.default(this.global,(t,s)=>{window[s]&&window[s]===t&&delete window[s]})}evalJs(t){let s;this.injectGlobal();try{s=eval.call(window,`(${t})`)}catch{s=eval.call(window,t)}return this.setGlobal("$_",s),this.clearGlobal(),s}filterLog(t){let{filter:s}=this.options;return s==="all"||t.ignoreFilter?!0:TM.default(s)?s(t):LM.default(s)?s.test(OM.default(t.text())):t.type===s}collapseGroup(t){let{targetGroup:s}=t;s.collapsed=!0,t.updateIcon("caret-right"),this.updateGroup(t)}openGroup(t){let{targetGroup:s}=t;s.collapsed=!1,t.updateIcon("caret-down"),this.updateGroup(t)}updateGroup(t){let{targetGroup:s}=t,{logs:r}=this,n=r.length,i=r.indexOf(t)+1;for(;i<n;){let o=r[i];if(!o.checkGroup()&&o.group===s)break;o.collapsed?this.detachLog(o):this.attachLog(o),i++}}bindEvent(){let{$el:t}=this;t.on("click",DM(".log-container"),function(){this.log.click()}),this.on("optionChange",(s,r)=>{let{logs:n}=this;switch(s){case"maxNum":r>0&&n.length>r&&(this.logs=n.slice(n.length-r),this.render());break;case"filter":this.render();break}}),this.$container.on("scroll",this.onScroll)}_renderViewport({topTolerance:t=500,bottomTolerance:s=500}={}){let{el:r,container:n}=this;if(IM.default(n))return;let{scrollTop:i,clientWidth:o,offsetHeight:a}=n,l=i-t,c=i+a+s,{displayLogs:p}=this,d=0,_=0,b=0,f=p.length,{fakeEl:u}=this,m=document.createDocumentFragment(),h=[];for(let w=0;w<f;w++){let g=p[w],{width:L,height:S}=g;(S===0||L!==o)&&(m.appendChild(g.container),h.push(g))}if(h.length>0){u.appendChild(m);for(let w=0,g=h.length;w<g;w++)h[w].updateSize();u.innerHTML=""}let v=document.createDocumentFragment();for(let w=0;w<f;w++){let g=p[w],{container:L,height:S}=g;b>c?_+=S:b+S>l?v.appendChild(L):b<l&&(d+=S),b+=S}for(this.updateSpace(b),this.updateTopSpace(d),this.updateBottomSpace(_);r.firstChild;)r.lastChild&&r.removeChild(r.lastChild);r.appendChild(v);let{scrollHeight:x}=n;this.isAtBottom&&i<=x-a&&(n.scrollTop=1e7)}initTpl(){this.$container.html(this.c(RM.default`
      <div class="logs-space">
        <div class="fake-logs"></div>
        <div class="logs"></div>
      </div>
    `))}};Pr.default=Or;Ic.exports=Or;Ic.exports.default=Or;var zM=()=>PM.default("HH:MM:ss ");function WM(){let e=new Error,t="",s=e.stack?e.stack.split(`
`):"";for(let r=0,n=s.length;r<n;r++)if(t=s[r],t.indexOf("winConsole")>-1&&r<n-1){t=s[r+1];break}return t}});var di=(e,t)=>{let s;return(...r)=>{s&&clearTimeout(s),s=setTimeout(()=>e.apply(null,r),typeof t=="function"?t():t)}},nu=e=>{let t=document.createElement("textarea");return t.innerHTML=e,t.value};var fi=e=>e.replace(/<\/script>/g,"<\\/script>"),Fr=(e,t=!0)=>e.replace(/\\/g,t?"\\\\":"\\").replace(/`/g,"\\`").replace(/<\/script>/g,"<\\/script>");var Hs=()=>{let e=!1,t=navigator.userAgent.toLowerCase();(function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(e=!0)})(t||navigator.vendor||window.opera);let s=t.indexOf("safari")>-1&&t.indexOf("chrome")===-1;return e||s},cs=e=>!e?.startsWith("http")&&!e?.startsWith("data:"),us=(e,t=document.baseURI)=>cs(e)?new URL(e,t).href:e,ps=e=>JSON.parse(JSON.stringify(e)),Bs=(e,t)=>Object.fromEntries(Object.entries(e).map(([s,r],n)=>[s,t(r,s,n)])),iu=(e,t)=>Object.fromEntries(Object.entries(e).filter(([s,r],n)=>t(r,s,n))),mi=e=>{if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(s){return console.warn("Copy to clipboard failed.",s),!1}finally{document.body.removeChild(t)}}return!1};var zr=(e,t=!1)=>{try{return JSON.stringify(e,void 0,t?2:void 0)}catch{return""}},J0=()=>String(Math.random())+"-"+Date.now().toFixed();var Wr=(e,t)=>new Promise((s,r)=>{if(t&&window[t])return s(window[t]);let n=document.createElement("script");n.src=e,n.async=!0;let i=()=>{n.removeEventListener("load",o),n.removeEventListener("error",a)},o=()=>{if(i(),!t)return s("loaded: "+e);let l=setInterval(()=>{if(window[t])return clearInterval(l),s(window[t])},5)},a=()=>{i(),r("failed to load: "+e)};n.addEventListener("load",o),n.addEventListener("error",a),document.head.appendChild(n)}),ds=(e,t,s)=>{if(t&&document.getElementById(t))return;let r=document.createElement("link");r.rel="stylesheet",r.href=e,r.id=t||"styles-"+J0(),document.head.insertBefore(r,s?document.querySelector(s):null)};var $s=e=>e.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"$1"),X0=e=>e.replace(/'[^\n']*'/gm,"''").replace(/"[^\n"]*"/gm,'""').replace(/`[^`]*`/gm,"``"),hi=e=>X0($s(e)),N=(e,t)=>({...t.customSettings[e]}),ou=e=>{if(!e)return null;let t=null;if(e.startsWith("http")||e.startsWith("data:"))try{t=new URL(e).href}catch{try{t=new URL(decodeURIComponent(e)).href}catch{}}return t};function Q0(e){return import(e)}var gi=null;function au(e){return gi||(gi=Q0(e).catch(()=>{})),gi}var q="https://cdn.jsdelivr.net/npm/@live-codes/browser-compilers@0.5.13/dist/";var lu="https://cdn.jsdelivr.net/npm/art-template@4.13.2/lib/template-web.js",cu="https://cdn.jsdelivr.net/npm/@asciidoctor/core@2.2.5/dist/browser/asciidoctor.min.js";var uu="https://cdn.jsdelivr.net/npm/@assemblyscript/loader@0.19.22/umd/index.js";var pu="https://cdn.jsdelivr.net/npm/@hatemhosny/astro-internal@0.0.4/";var du="https://cdn.jsdelivr.net/npm/@babel/standalone@7.17.2/babel.min.js",fu="https://cdn.jsdelivr.net/npm/biwascheme@0.7.4/release/biwascheme-min.js";var _i="https://cdn.jsdelivr.net/npm/brython@3.10.4/",mu="https://cdn.jsdelivr.net/npm/chai@4.3.6/+esm";var yi="https://cdn.jsdelivr.net/npm/@live-codes/clio-browser-compiler@0.0.3/public/build/",hu="https://cdn.jsdelivr.net/npm/coffeescript@2.6.1/lib/coffeescript-browser-compiler-legacy/coffeescript.js";var gu="https://cdn.jsdelivr.net/npm/dot@1.1.3/doT.min.js",_u="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js";var yu="https://cdn.jsdelivr.net/npm/es-module-shims@1.4.4/dist/es-module-shims.min.js";var vu="https://cdn.jsdelivr.net/npm/@fontsource/anonymous-pro@4.5.9/index.min.css",bu="https://cdn.jsdelivr.net/npm/@fontsource/cascadia-code@4.2.1/index.min.css",wu="https://fonts.cdnfonts.com/css/code-new-roman-2",xu="https://cdn.jsdelivr.net/npm/comic-mono@0.0.1/index.min.css",Eu="https://cdn.jsdelivr.net/npm/@fontsource/courier-prime@4.5.9/index.min.css",Su="https://fonts.cdnfonts.com/css/dec-terminal-modern",Lu="https://cdn.jsdelivr.net/npm/@fontsource/dejavu-mono@4.5.4/index.min.css",Tu="https://cdn.jsdelivr.net/npm/@typopro/web-fantasque-sans-mono@3.7.5/TypoPRO-FantasqueSansMono.css",Cu="https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css",ku="https://fonts.cdnfonts.com/css/fixedsys-62",Mu="https://cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css",ju="https://cdn.jsdelivr.net/npm/typeface-hermit@0.0.44/index.min.css",Uu="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap",qu="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap",Au="https://cdn.jsdelivr.net/npm/@fontsource/iosevka@4.5.4/index.min.css",Ou="https://cdn.jsdelivr.net/npm/@fontsource/jetbrains-mono@4.5.11/index.min.css",Pu="https://fonts.cdnfonts.com/css/menlo",Iu="https://fonts.cdnfonts.com/css/monofur",Ru="https://cdn.jsdelivr.net/npm/@typopro/web-monoid@3.7.5/TypoPRO-Monoid.css",Hu="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap",Bu="https://fonts.googleapis.com/css2?family=Nova+Mono&display=swap",$u="https://cdn.jsdelivr.net/npm/@fontsource/opendyslexic@4.5.4/index.min.css",Nu="https://fonts.cdnfonts.com/css/profontwindows",Du="https://cdn.jsdelivr.net/npm/@fontsource/roboto-mono@4.5.8/index.min.css",Fu="https://fonts.cdnfonts.com/css/sf-mono",zu="https://cdn.jsdelivr.net/npm/@fontsource/source-code-pro@4.5.12/index.min.css",Wu="https://cdn.jsdelivr.net/npm/@fontsource/space-mono@4.5.10/index.min.css",Gu="https://fonts.cdnfonts.com/css/sudo-var",Vu="https://cdn.jsdelivr.net/npm/@fontsource/ubuntu-mono@4.5.11/index.min.css",Ku="https://cdn.jsdelivr.net/npm/victormono@1.5.4/dist/index.min.css",Ju="https://cdn.jsdelivr.net/npm/fscreen@1.2.0/dist/fscreen.esm.js",Xu="https://cdn.jsdelivr.net/npm/github-markdown-css@5.1.0/github-markdown.min.css",Ns="https://cdn.jsdelivr.net/npm/@live-codes/go2js@0.3.0/build";var vi="https://cdn.jsdelivr.net/npm/handlebars@4.7.7/dist/";var Qu="https://cdn.jsdelivr.net/npm/hint.css@2.7.0/hint.min.css";var bi="https://cdn.jsdelivr.net/npm/imba@2.0.0-alpha.201/dist/",Zu="https://cdn.jsdelivr.net/npm/jest-lite@1.0.0-alpha.4/dist/core.js";var Yu="https://cdn.jsdelivr.net/npm/jscl@0.8.2/jscl.min.js";var ep="https://cdn.jsdelivr.net/npm/liquidjs@9.34.0/dist/liquid.browser.min.js",tp="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js",sp="https://cdn.jsdelivr.net/npm/fengari-web@0.1.4/dist/fengari-web.min.js",rp="https://cdn.jsdelivr.net/npm/luna-object-viewer@0.2.0/luna-object-viewer.css",np="https://cdn.jsdelivr.net/npm/luna-console@0.2.1/luna-console.css";var ip="https://cdn.jsdelivr.net/npm/marked@4.0.12/marked.min.js";var op="https://cdn.jsdelivr.net/npm/mustache@4.2.0/mustache.min.js";var ap="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css",wi="https://cdn.jsdelivr.net/npm/nunjucks@3.2.3/browser/",Ds="https://cdn.opalrb.com/opal/1.4.1/",lp="https://cdn.jsdelivr.net/npm/@chrisoakman/parinfer@3.13.1/parinfer.min.js";var cp="https://cdn.jsdelivr.net/npm/@live-codes/postcss-import-url@0.1.2/dist/postcss-import-url.js",$t="https://cdn.jsdelivr.net/npm/prettier@2.5.1/",up="https://cdn.jsdelivr.net/npm/@prettier/plugin-php@0.18.0/standalone.js";var pp="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";var dp="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css",xi="https://cdn.jsdelivr.net/npm/riot@6.1.2/",fp="https://cdn.jsdelivr.net/npm/@snackbar/core@1.7.0/dist/snackbar.min.css",mp="https://cdn.jsdelivr.net/npm/spacingjs@1.0.7/dist/bundle.min.js",hp="https://cdn.jsdelivr.net/npm/sql-formatter@4.0.2/dist/sql-formatter.min.js",gp="https://cdn.jsdelivr.net/npm/sql.js@1.6.2/dist/",_p="https://cdn.jsdelivr.net/npm/@stencil/core@2.13.0/compiler/stencil.min.js";var yp="https://cdn.jsdelivr.net/npm/@live-codes/tailwindcss-browser-plugin@0.3.2/dist/tailwindcss.umd.min.js",Je="https://cdn.jsdelivr.net/npm/tau-prolog@0.3.2/modules/",vp="https://cdn.jsdelivr.net/npm/twig@1.15.4/twig.min.js",bp="https://cdn.jsdelivr.net/npm/typescript@4.5.5/lib/typescript.min.js",wp="https://cdn.jsdelivr.net/npm/uniter@2.17.0/dist/uniter.js";var Gr="https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/",xp="https://cdn.jsdelivr.net/npm/wabt@1.0.26/index.js";var Ep={name:"lightningcss",title:"Lightning CSS",isPostcssPlugin:!1,compiler:{url:q+"lightningcss/lightningcss.js",factory:(e,t)=>(self.importScripts(t+"processor-lightningcss-compiler.a16968e2d490306bdcff76989e1868cc.js"),self.createLightningcssCompiler())},editor:"style"};var Sp={name:"postcss",title:"Processors:",isPostcssPlugin:!1,compiler:{url:q+"postcss/postcss.js",factory:(e,t)=>(self.importScripts(t+"processor-postcss-compiler.a3d6fb1a92bde99fe75aa117517a82b4.js"),self.createPostcssCompiler())},editor:"style",hidden:!0};var Lp={name:"autoprefixer",title:"Autoprefixer",isPostcssPlugin:!0,compiler:{url:q+"autoprefixer/autoprefixer.js",factory:e=>self.autoprefixer.autoprefixer({...N("autoprefixer",e)})},editor:"style"},Tp={name:"cssnano",title:"cssnano",isPostcssPlugin:!0,compiler:{url:q+"cssnano/cssnano.js",factory:()=>{let e=self.cssnano.cssnanoPresetDefault().plugins,t=[];for(let s of e){let[r,n]=s;(typeof n>"u"||typeof n=="object"&&!n.exclude||typeof n=="boolean"&&n===!0)&&t.push(r(n))}return t}},editor:"style"},Cp={name:"postcssImportUrl",title:"Import Url",isPostcssPlugin:!0,compiler:{url:cp,factory:e=>self.postcssImportUrl({...N("postcssImportUrl",e)})},editor:"style",hidden:!0},kp={name:"postcssPresetEnv",title:"Preset Env",isPostcssPlugin:!0,compiler:{url:q+"postcss-preset-env/postcss-preset-env.js",factory:e=>self.postcssPresetEnv.postcssPresetEnv({autoprefixer:!1,...N("postcssPresetEnv",e)})},editor:"style"},Mp={name:"purgecss",title:"PurgeCSS",isPostcssPlugin:!0,needsHTML:!0,compiler:{url:q+"purgecss/purgecss.js",factory:(e,t,s)=>self.purgecss.purgecss({...N("purgecss",e),content:[{raw:`<template>${s.html}
<script>${e.script.content}<\/script></template>`,extension:"html"}]})},editor:"style"},jp={name:"tailwindcss",title:"Tailwind CSS",isPostcssPlugin:!0,needsHTML:!0,compiler:{url:yp,factory:(e,t,s)=>self.tailwindcss.tailwindcss({...self.tailwindcss.defaultConfig,...N("tailwindcss",e),content:[{raw:`<template>${s.html}
<script>${e.script.content}<\/script></template>`,extension:"html"}]})},editor:"style"},Up={name:"tokencss",title:"Token CSS",isPostcssPlugin:!0,compiler:{url:q+"tokencss/tokencss.js",factory:e=>{let t=N("tokencss",e);Object.keys(t).length===0&&(t.$schema="https://tokencss.com/schema@0.0.1",t.extends="@tokencss/core/preset");let s=(n,i)=>{let o=JSON.parse(JSON.stringify(n));return Object.keys(i).forEach(a=>{o[a]=typeof i[a]!="object"||Array.isArray(i[a])?i[a]:{...o[a],...i[a]}}),o},r=t.extends?.includes("@tokencss/core/preset")?s(self.tokencss.preset,t):t;return self.tokencss.tokencss({config:r})}},editor:"style"};var qp={name:"unocss",title:"UnoCSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:q+"unocss/unocss.js",factory:(e,t)=>(self.importScripts(t+"processor-unocss-compiler.a194f2252ca2cf42e47b4c5e1426170e.js"),self.createUnocssCompiler())},editor:"style"};var Ap={name:"windicss",title:"Windi CSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:q+"windicss/windicss.js",factory:(e,t)=>(self.importScripts(t+"processor-windicss-compiler.4fc0b96428f4dfe950213c471d46c5f0.js"),self.createWindicssCompiler())},editor:"style"};var Re=[jp,Ap,qp,Up,Mp,Cp,Lp,kp,Ep,Tp,Sp];var Y=(e="")=>{if(!e)return;let t=e?.toLowerCase();return Le.find(s=>s.name===t||s.title.toLowerCase()===t||s.extensions.map(r=>r.toLowerCase()).includes(t))?.name},Op=e=>{let t=Le.find(s=>s.name===e);return t?.longTitle||t?.title||e.toUpperCase()},ce=(e="")=>Le.find(t=>t.name===Y(e))?.editor,fs=(e="")=>Le.find(t=>t.name===Y(e))?.extensions[0],Fs=(e="")=>Le.find(t=>t.name===Y(e)),lt=(e="")=>{let s=Fs(e)?.compiler;return typeof s=="string"&&(s=lt(s)),s},St=e=>Fs(e)?.editorLanguage||e,He=(e,t)=>{let s=Y(e);return s?t.languages?t.languages?.map(Y).filter(Boolean).includes(s):!0:!1},Nt=(e,t)=>Re.map(s=>s.name).includes(e)?t.languages?t.languages.includes(e):!0:!1,Ei=(e,t)=>t.processors.includes(e),Pp=(e,t)=>{let s=ce(e);return s?Re.filter(r=>r.editor===s).map(r=>r.name).filter(r=>Nt(r,t)).filter(r=>Ei(r,t)).join("-"):""};var Si=(e,t)=>{let s={...N(e,t)};return ce(e)==="markup"&&(s.template=t.customSettings.template),s};var Ip={name:"asciidoc",title:"AsciiDoc",compiler:{url:cu,factory:()=>{let e=window.Asciidoctor();return async(t,{config:s})=>e.convert(t,{...N("asciidoc",s)})}},extensions:["adoc","asciidoc","asc"],editor:"markup",preset:"asciidoctor.css"};var UU=$t+"standalone.min.js",k={babel:$t+"parser-babel.js",glimmer:$t+"parser-glimmer.js",html:$t+"parser-html.js",markdown:$t+"parser-markdown.js",postcss:$t+"parser-postcss.js",php:up,pug:q+"prettier/parser-pug.js"};var Rp={name:"babel",title:"Babel",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:{url:du,factory:()=>async(e,{config:t})=>window.Babel.transform(e,{filename:"script.tsx",presets:[["env",{modules:!1}],"typescript","react"],...N("babel",t)}).code},extensions:["es","babel"],editor:"script",editorLanguage:"javascript"};var Hp={name:"css",title:"CSS",info:!1,parser:{name:"css",pluginUrls:[k.postcss]},compiler:{factory:()=>async e=>e},extensions:["css"],editor:"style"};var Bp={name:"haml",title:"Haml",compiler:{url:q+"clientside-haml-js/haml.js",factory:(e,t)=>(self.importScripts(t+"lang-haml-compiler.211cfce6320ab3f9b29904b481cfed88.js"),self.createHamlCompiler())},extensions:["haml"],editor:"markup"};var $p={name:"html",title:"HTML",info:!1,parser:{name:"html",pluginUrls:[k.html]},compiler:{factory:()=>async e=>e},extensions:["html","htm"],editor:"markup"};var Np={name:"javascript",title:"JS",longTitle:"JavaScript",info:!1,parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:{factory:()=>async e=>e},extensions:["js"],editor:"script"};var Dp={name:"jsx",title:"JSX",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:"typescript",extensions:["jsx"],editor:"script",editorLanguage:"javascript"};var Fp={name:"tsx",title:"TSX",parser:{name:"babel-ts",pluginUrls:[k.babel,k.html]},compiler:"typescript",extensions:["tsx"],editor:"script",editorLanguage:"typescript"};var zp={name:"less",title:"Less",parser:{name:"less",pluginUrls:[k.postcss]},compiler:{url:q+"less/less.js",factory:()=>async(e,{config:t})=>(await window.less.render(e,{...N("less",t)})).css},extensions:["less"],editor:"style"};var Wp={name:"markdown",title:"Markdown",parser:{name:"markdown",pluginUrls:[k.markdown,k.html]},compiler:{url:ip,factory:()=>async(e,{config:t})=>window.marked.parse(e,{...N("markdown",t)})},extensions:["md","markdown","mdown","mkdn"],editor:"markup",preset:"github-markdown-css"};var Li=async(e,t,s,r={},n=self)=>new Promise(i=>{if(!e||!t||!s)return i(e||"");let o=async function(a){let l=a.data.payload;a.data.trigger==="compileInCompiler"&&l?.content===e&&l?.language===t&&(n.removeEventListener("message",o),i(l.compiled))};n.addEventListener("message",o),n.postMessage({type:"compileInCompiler",payload:{content:e,language:t,config:s,options:r}})});var Z0=async(e,{config:t,worker:s})=>new Promise(async r=>{if(!e)return r("");let[n,{default:i}]=await Promise.all([import(q+"mdx/mdx.js"),import(q+"remark-gfm/remark-gfm.js")]),o=(await n.compile(e,{remarkPlugins:[i],...N("mdx",t)})).value,l=(d=>d.replace(/, {[^}]*} = _components/g,"").replace(/const {[^:]*} = props.components[^;]*;/g,""))(o),c=`import React from "react";
import ReactDOM from "react-dom";
${Fr(l,!1)}
ReactDOM.render(<MDXContent />, document.body);
`,p=await Li(c,"jsx",t,{},s);r(`<script type="module">${p}<\/script>`)}),Gp={name:"mdx",title:"MDX",parser:{name:"markdown",pluginUrls:[k.markdown,k.html]},compiler:{factory:()=>async e=>e,runOutsideWorker:Z0,compiledCodeLanguage:"javascript",imports:{"react/jsx-runtime":"https://esm.sh/react/jsx-runtime"}},extensions:["mdx"],editor:"markup",editorLanguage:"markdown"};var Vp={name:"pug",title:"Pug",parser:{name:"pug",pluginUrls:[k.pug]},compiler:{url:q+"pug/pug.min.js",factory:(e,t)=>(self.importScripts(t+"lang-pug-compiler.268e7c99ec5b5feb4dad65a364f81341.js"),self.createPugCompiler())},extensions:["pug","jade"],editor:"markup"};var Kp={name:"scss",title:"SCSS",parser:{name:"scss",pluginUrls:[k.postcss]},compiler:{url:q+"sass/sass.js",factory:(e,t)=>(self.importScripts(t+"lang-scss-compiler.c765688ec910b18dfb548ba8579e57e5.js"),self.createScssCompiler())},extensions:["scss"],editor:"style"};var Jp={name:"sass",title:"Sass",compiler:"scss",extensions:["sass"],editor:"style"};var Xp={name:"svelte",title:"Svelte",parser:{name:"html",pluginUrls:[k.html,k.babel]},compiler:{url:q+"svelte/svelte-compiler.min.js",factory:(e,t)=>(self.importScripts(t+"lang-svelte-compiler.80a1704c10aa090e5c4ba391e1efca20.js"),self.createSvelteCompiler())},extensions:["svelte"],editor:"script",editorLanguage:"html"};var Qp={name:"stylus",title:"Stylus",compiler:{url:q+"stylus/stylus.min.js",factory:()=>async e=>window.stylus.render(e)},extensions:["styl"],editor:"style"};var zs={target:"es2015",jsx:"react",allowUmdGlobalAccess:!0,esModuleInterop:!0},Zp={name:"typescript",title:"TS",longTitle:"TypeScript",parser:{name:"babel-ts",pluginUrls:[k.babel,k.html]},compiler:{url:bp,factory:()=>async(e,{config:t,language:s})=>window.ts.transpile(e,{...zs,...N("typescript",t),...N(s,t)})},extensions:["ts","typescript"],editor:"script"};var Y0=Gr+"vue3-sfc-loader.min.js",Yp="https://cdn.jsdelivr.net/npm/vue@3",ed={name:"vue",title:"Vue 3",longTitle:"Vue 3 SFC",parser:{name:"html",pluginUrls:[k.html]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-vue-compiler.283401784b0a29c4678021716dc861c1.js"),self.createVueCompiler()),scripts:[Yp,Y0],imports:{vue:Yp+"/dist/vue.runtime.esm-browser.prod.js"}},extensions:["vue","vue3"],editor:"script",editorLanguage:"html"};var ew=Gr+"vue2-sfc-loader.js",td="https://cdn.jsdelivr.net/npm/vue@2",sd={name:"vue2",title:"Vue 2",longTitle:"Vue 2 SFC",parser:{name:"html",pluginUrls:[k.html]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-vue-compiler.283401784b0a29c4678021716dc861c1.js"),self.createVue2Compiler()),scripts:[td,ew],imports:{vue:td+"/dist/vue.runtime.esm-browser.prod.js"}},extensions:["vue2"],editor:"script",editorLanguage:"html"};var rd={name:"stencil",title:"Stencil",parser:{name:"babel-ts",pluginUrls:[k.babel,k.html]},compiler:{url:_p,factory:()=>async(e,{config:t})=>(await window.stencil.transpile(e,{sourceMap:!1,target:"es2019",...N("stencil",t)})).code,types:{"@stencil/core":{url:q+"types/stencil-core.d.ts",declareAsModule:!1}}},extensions:["stencil.tsx"],editor:"script",editorLanguage:"typescript"};var nd={name:"coffeescript",title:"Coffee",longTitle:"CoffeeScript",compiler:{url:hu,factory:()=>async(e,{config:t})=>window.CoffeeScript.compile(e,{bare:!0,...N("coffeescript",t)})},extensions:["coffee"],editor:"script"};var id={name:"livescript",title:"LiveScript",compiler:{url:q+"livescript/livescript-min.js",factory:()=>async(e,{config:t})=>window.require("livescript").compile(e,{bare:!0,...N("livescript",t)}),scripts:[q+"livescript/prelude-browser-min.js"]},extensions:["ls"],editor:"script"};var od={name:"assemblyscript",title:"AS",longTitle:"AssemblyScript",parser:{name:"babel-ts",pluginUrls:[k.babel]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-assemblyscript-compiler.7a65e47fe4512f160d5ad45d051b0168.js"),self.createAssemblyscriptCompiler()),scripts:({baseUrl:e})=>[uu,e+"lang-assemblyscript-script.193f545355c0ab8f8ed327d937818d36.js"],scriptType:"application/wasm-uint8",compiledCodeLanguage:"wat",types:{assemblyscript:{url:q+"types/assemblyscript.d.ts",declareAsModule:!1,autoload:!0}}},extensions:["as","ts"],editor:"script",editorLanguage:"typescript"};var tw=_i+"brython.min.js",sw=_i+"brython_stdlib.js",ad={name:"python",title:"Python",compiler:{factory:()=>async e=>e,scripts:({compiled:e,config:t})=>{let{autoloadStdlib:s,...r}=N("python",t),n=/^(?:from[ ]+(\S+)[ ]+)?import[ ]+(\S+)(?:[ ]+as[ ]+\S+)?[ ]*$/gm,i=s!==!1&&e.match(n)?[sw]:[],o=`window.addEventListener("load", () => {brython(${JSON.stringify(r)})})`,a="data:text/plain;base64,"+btoa(o),l=`window.addEventListener("load", () => {
        const content = __BRYTHON__.python_to_js(\`${Fr(e)}\`);
        parent.postMessage({type: "compiled", payload: {language: "python", content}}, "*");
      });`,c="data:text/plain;base64,"+btoa(l);return[tw,...i,a,c]},scriptType:"text/python"},extensions:["py"],editor:"script"};var rw=(e,t={})=>Array.from(new Set([...e.matchAll(new RegExp(/^\s*self\.\$require\("(\S+)"\);/gm))].map(s=>s[1]).map(s=>s.split("/")[0]).filter(s=>t.hasOwnProperty(s)||s!=="opal").map(s=>t[s]||`${Ds+s}.min.js`))),ld={name:"ruby",title:"Ruby",compiler:{url:Ds+"opal.min.js",factory:()=>(importScripts(Ds+"opal-parser.min.js"),self.Opal.config.unsupported_features_severity="ignore",self.Opal.load("opal-parser"),async(e,{config:t})=>{let{autoloadStdlib:s,requireMap:r,...n}=N("ruby",t);return self.Opal.compile(e,n)}),scripts:({compiled:e,config:t})=>{let{autoloadStdlib:s,requireMap:r}=N("ruby",t),n=rw(e,r),i=s!==!1?n:[];return[Ds+"opal.min.js",...i]}},extensions:["rb"],editor:"script"};var cd={name:"php",title:"PHP",parser:{name:"php",pluginUrls:[k.php]},compiler:{factory:()=>async e=>(e=e.trim(),e.startsWith("<?php")&&(e=e.replace("<?php","/* <?php */"),e.endsWith("?>")&&(e=e.replace("?>","/* ?> */"))),e),scripts:[wp],deferScripts:!0,scriptType:"text/x-uniter-php",compiledCodeLanguage:"php"},extensions:["php"],editor:"script"};var ud={name:"perl",title:"Perl",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[q+"perlito/perlito5.min.js",e+"lang-perl-script.1f606d886aeb724510a595d45cbaf555.js"],scriptType:"text/perl"},extensions:["pl","pm"],editor:"script"};var nw=q+"lua-fmt/lua-fmt.js",pd={name:"lua",title:"Lua",formatter:{factory:()=>(self.importScripts(nw),async(e,t)=>({formatted:self.luaFmt.formatText(e),cursorOffset:t}))},compiler:{factory:()=>async e=>e,scripts:[sp],scriptType:"application/lua",compiledCodeLanguage:"lua"},extensions:["lua"],editor:"script"};var Ti=()=>{let e=lp;return self.importScripts(e),async t=>({formatted:window.parinfer.parenMode(t).text,cursorOffset:0})},dd={name:"commonlisp",title:"Lisp",longTitle:"Common Lisp",formatter:{factory:Ti},compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[Yu,e+"lang-commonlisp-script.0c86dfce5f8509928ccf51ff666c7b4b.js"],scriptType:"text/commonlisp",compiledCodeLanguage:"commonlisp",inlineScript:`

    `},extensions:["lisp","common-lisp"],editor:"script",editorLanguage:"scheme"};var fd={name:"scheme",title:"Scheme",formatter:{factory:Ti},compiler:{factory:()=>async e=>e,scripts:[fu],scriptType:"text/biwascheme",compiledCodeLanguage:"scheme"},extensions:["scm"],editor:"script"};var md={name:"solid",title:"Solid",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:{dependencies:["babel"],url:q+"babel-preset-solid/babel-preset-solid.js",factory:(e,t)=>(self.importScripts(t+"lang-solid-compiler.d94bb9811b03f637f8a55f20c131f21f.js"),self.createSolidCompiler()),types:{"solid-js":{url:q+"types/solid-js.d.ts",declareAsModule:!1}}},extensions:["solid.jsx"],editor:"script",editorLanguage:"javascript"};var hd={name:"solid.tsx",title:"Solid (TS)",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:"solid",extensions:["solid.tsx"],editor:"script",editorLanguage:"typescript"};var gd={name:"pyodide",title:"Pyodide",longTitle:"Python (Pyodide)",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-python-pyodide-script.12c7bd5206632003e3031fba49ea13a7.js"],liveReload:!0,scriptType:"text/python",compiledCodeLanguage:"python"},extensions:["py3"],editor:"script",editorLanguage:"python",largeDownload:!0};var _d={name:"liquid",title:"Liquid",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:ep,factory:(e,t)=>(self.importScripts(t+"lang-liquid-compiler.385aaf468ec3e32b3e3347fad0e9eaff.js"),self.createLiquidCompiler())},extensions:["liquid","liquidjs"],editor:"markup",editorLanguage:"html"};var yd={name:"ejs",title:"EJS",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:_u,factory:(e,t)=>(self.importScripts(t+"lang-ejs-compiler.e7fe0830aa69a35259b11bef9ed1e73e.js"),self.createEjsCompiler())},extensions:["ejs"],editor:"markup",editorLanguage:"html"};var iw=vi+"handlebars.min.js",qA=vi+"handlebars.runtime.min.js",vd={name:"handlebars",title:"Handlebars",parser:{name:"glimmer",pluginUrls:[k.glimmer]},compiler:{url:iw,factory:(e,t)=>(self.importScripts(t+"lang-handlebars-compiler.c9531e926f086be0b31cd35bea117628.js"),self.createHandlebarsCompiler())},extensions:["hbs","handlebars"],editor:"markup",editorLanguage:"html"};var bd={name:"dot",title:"doT",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:gu,factory:(e,t)=>(self.importScripts(t+"lang-dot-compiler.94002b0703f1ced78c28a6f427bf0e29.js"),self.createDotCompiler())},extensions:["dot"],editor:"markup",editorLanguage:"html"};var ow=wi+"nunjucks.min.js",FA=wi+"nunjucks-slim.min.js",wd={name:"nunjucks",title:"Nunjucks",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:ow,factory:(e,t)=>(self.importScripts(t+"lang-nunjucks-compiler.5149959cea55783109ad14e832859337.js"),self.createNunjucksCompiler())},extensions:["njk"],editor:"markup",editorLanguage:"html"};var xd={name:"go",title:"Go",formatter:{factory:()=>{let e=Ns+"/index.js";return importScripts(e),async t=>({formatted:await window.go2js.format(t,Ns),cursorOffset:0})}},compiler:{url:Ns+"/index.js",factory:()=>async e=>{if(!e)return"";try{return await window.go2js.compile(e,Ns)}catch(t){return console.error(t),""}}},extensions:["go","golang"],editor:"script"};var aw=async(e,{baseUrl:t,language:s})=>{let{rescriptCompiler:r}=await import(t+"lang-rescript-compiler-esm.7a2adc4368f0026b3379b346820f1853.js");return r(e,{baseUrl:t,language:s})},Ci=(e,t)=>(importScripts(e+"lang-rescript-formatter.af3215d3b04feb7226bf04f3c9453388.js"),self.createRescriptFormatter(e,t)),Ed={name:"rescript",title:"ReScript",formatter:{factory:Ci},compiler:{factory:()=>async e=>e,runOutsideWorker:aw,scriptType:"module"},extensions:["res","resi"],editor:"script",editorLanguage:"javascript"};var Sd={name:"reason",title:"Reason",formatter:{factory:Ci},compiler:"rescript",extensions:["re","rei"],editor:"script",editorLanguage:"javascript"};var Ld={name:"ocaml",title:"OCaml",compiler:"rescript",extensions:["ml","mli"],editor:"script",editorLanguage:"javascript"};var lw=q+"wast-refmt/wast-refmt.js",cw="application/wasm-uint8",Td={name:"wat",title:"WAT",longTitle:"WebAssembly Text",formatter:{factory:()=>(importScripts(lw),async e=>{let t=e;try{t=self.wastRefmt.format(e)}catch(s){console.warn("failed parsing WAT",s)}return{formatted:t,cursorOffset:0}})},compiler:{url:xp,factory:(e,t)=>(self.importScripts(t+"lang-wat-compiler.4fddb11ffae864668523a5b37d2a5712.js"),self.createWatCompiler()),scripts:({baseUrl:e})=>[e+"lang-wat-script.e0ed8bc039ea672c1eaabbe994b672ef.js"],scriptType:cw,compiledCodeLanguage:"Binary"},extensions:["wat","wast","webassembly","wasm"],editor:"script"};var uw=xi+"riot+compiler.min.js",pw=xi+"riot.min.js",Cd={name:"riot",title:"Riot.js",parser:{name:"html",pluginUrls:[k.html,k.babel]},compiler:{url:uw,factory:(e,t)=>(self.importScripts(t+"lang-riot-compiler.3a07307fa35830345b09d74b22af7a6d.js"),self.createRiotCompiler()),scripts:[pw],scriptType:"module"},extensions:["riot","riotjs"],editor:"script",editorLanguage:"html"};var dw="application/json",kd={name:"sql",title:"SQL",formatter:{factory:()=>(importScripts(hp),async e=>({formatted:await self.sqlFormatter.format(e,{linesBetweenQueries:2}),cursorOffset:0}))},compiler:{url:gp+"sql-wasm.min.js",factory:(e,t)=>(self.importScripts(t+"lang-sql-compiler.7a6736b65b9bfe968279cd988facfcaf.js"),self.createSqlCompiler()),scripts:({baseUrl:e})=>[e+"lang-sql-script.567145561f54bf72aaf9444dc3ccd838.js"],scriptType:dw,compiledCodeLanguage:"json"},extensions:["sql","sqlite","sqlite3"],editor:"script"};var Ws=q+"react-native-web/react-native-web.js",Md={name:"react-native",title:"RN",longTitle:"React Native",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:{dependencies:["typescript"],factory:()=>async(e,{config:t,language:s})=>window.ts.transpile(e,{...zs,...N("typescript",t),...N(s,t)}),imports:{react:Ws,"react-native":Ws}},extensions:["react-native.jsx"],editor:"script",editorLanguage:"javascript"};var jd={name:"react-native-tsx",title:"RN (TSX)",longTitle:"React Native (TSX)",parser:{name:"babel",pluginUrls:[k.babel,k.html]},compiler:{dependencies:["typescript"],factory:()=>async(e,{config:t,language:s})=>window.ts.transpile(e,{...zs,...N("typescript",t),...N(s,t)}),imports:{react:Ws,"react-native":Ws}},extensions:["react-native.tsx"],editor:"script",editorLanguage:"typescript"};var Ud={name:"blockly",title:"Blockly",compiler:{factory:()=>async(e,{options:t})=>t?.blockly?.js||""},extensions:["blockly.xml","xml"],editor:"script",editorLanguage:"xml"};var qd={name:"twig",title:"Twig",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:vp,factory:(e,t)=>(self.importScripts(t+"lang-twig-compiler.c4dcc5ecde65e18f52f4714c74e5152f.js"),self.createTwigCompiler())},extensions:["twig"],editor:"markup",editorLanguage:"html"};var fw=pu+"compiler.min.js",Ad={name:"astro",title:"Astro",parser:{name:"html",pluginUrls:[k.html,k.babel]},compiler:{url:fw,factory:(e,t)=>(self.importScripts(t+"lang-astro-compiler.efbee0ca048d750ed787834550930af1.js"),self.createAstroCompiler())},extensions:["astro"],editor:"markup"};var Od={name:"malina",title:"Malina.js",parser:{name:"html",pluginUrls:[k.html,k.babel]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-malina-compiler.394dd7793a519c634eedca0796c1d8e1.js"),self.createMalinaCompiler())},extensions:["xht"],editor:"script",editorLanguage:"html"};var mw=q+"jscpp/JSCPP.es5.min.js",Pd={name:"cpp",title:"C++",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[mw,e+"lang-cpp-script.6362a5043199fe5dcbc88fdce0e72cea.js"],scriptType:"text/cpp",compiledCodeLanguage:"cpp"},extensions:["cpp","c","C","cp","cxx","c++","cppm","ixx","ii","hpp","h"],editor:"script"};var Id={name:"julia",title:"Julia",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-julia-script.3ae0195ce71029e103fcc0e2905190ea.js"],liveReload:!0,scriptType:"text/julia",compiledCodeLanguage:"julia"},extensions:["jl"],editor:"script",largeDownload:!0};var Rd={name:"clang",title:"Clang",longTitle:"C/C++ (Clang)",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-cpp-clang-script.ba3e5873337a6d7009f3e3e4fa4ef681.js"],scriptType:"text/cpp",compiledCodeLanguage:"cpp",liveReload:!0},extensions:["clang.cpp","clang","cpp","c","C","cp","cxx","c++","cppm","ixx","ii","hpp","h"],editor:"script",editorLanguage:"cpp",largeDownload:!0};var Hd={name:"tcl",title:"Tcl",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[pp,e+"lang-tcl-script.086640745f754791db8a40d8dd8ce18e.js"],scriptType:"text/tcl",compiledCodeLanguage:"tcl"},extensions:["tcl"],editor:"script"};var Bd={name:"prolog",title:"Prolog",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[Je+"core.js",Je+"charsio.js",Je+"dom.js",Je+"format.js",Je+"js.js",Je+"lists.js",Je+"os.js",Je+"promises.js",Je+"random.js",Je+"statistics.js",e+"lang-prolog-script.2780539e5f2bc8edb4aedd5cf57143e7.js"],scriptType:"text/prolog",compiledCodeLanguage:"prolog"},extensions:["prolog.pl","prolog"],editor:"script"};var $d={name:"clio",title:"Clio",compiler:{url:yi+"compile.js",factory:(e,t)=>(self.importScripts(t+"lang-clio-compiler.7cc47ec9be8439cc2865fddbc20da58c.js"),self.createClioCompiler()),scripts:[yi+"exec.js"]},extensions:["clio"],editor:"script",editorLanguage:"coffeescript"};var Nd={name:"richtext",title:"Rich Text",longTitle:"Rich Text Editor",compiler:{factory:()=>async(e,{config:t})=>t.markup.content||"",styles:["quill.8e9d74c74d2c8aaa5d849678c215cf7e.css"]},extensions:["rte","rte.html","rich"],editor:"markup",editorLanguage:"html"};var hw=async(e,{baseUrl:t,config:s})=>{let{diagramsCompiler:r}=await import(t+"lang-diagrams-compiler-esm.d1a1cfaf316ec3b7cbe1b41feb1ff353.js");return r(e,{config:s})},Dd={name:"diagrams",title:"Diagrams",parser:{name:"html",pluginUrls:[k.html]},compiler:{factory:()=>async e=>e||"",runOutsideWorker:hw},extensions:["diagrams","diagram","graph","plt"],editor:"markup",editorLanguage:"html"};var Fd={name:"imba",title:"Imba",compiler:{url:bi+"compiler.js",factory:(e,t)=>(self.importScripts(t+"lang-imba-compiler.9f5458f74b381aed3017dcc9ea1d8998.js"),self.createImbaCompiler()),imports:{imba:bi+"imba.mjs"}},extensions:["imba"],editor:"script"};var zd={name:"mustache",title:"Mustache",parser:{name:"glimmer",pluginUrls:[k.glimmer]},compiler:{url:op,factory:(e,t)=>(self.importScripts(t+"lang-mustache-compiler.0a30a4a5874d6b24636f04625617fe55.js"),self.createMustacheCompiler())},extensions:["mustache"],editor:"markup",editorLanguage:"html"};var Wd={name:"art-template",title:"art",longTitle:"art-template",parser:{name:"html",pluginUrls:[k.html]},compiler:{url:lu,factory:(e,t)=>(self.importScripts(t+"lang-art-template-compiler.f791a36ad9d8acf970b79953b79fdbd8.js"),self.createArtTemplateCompiler())},extensions:["art","art-template"],editor:"markup",editorLanguage:"html"};var Le=[$p,Wp,Gp,Ad,Vp,Ip,Bp,zd,vd,yd,wd,_d,bd,qd,Wd,Dd,Nd,Hp,Kp,Jp,zp,Qp,Np,Rp,Zp,Dp,Fp,Md,jd,ed,sd,Xp,rd,md,hd,Cd,Od,nd,id,$d,Fd,Ed,Sd,Ld,ad,gd,ld,xd,cd,Pd,Rd,ud,pd,Id,fd,dd,Hd,od,Td,kd,Bd,Ud];var Gd=(e,t,s,r,n,i)=>{let o=["markup","style","script"],a=document.createElement("ul");document.querySelector("#select-editor")?.appendChild(a);let l=o.length;o.forEach(c=>{let p=document.createElement("li");p.id=c+"-selector",p.classList.add("editor-title","noselect"),p.dataset.editor=c,p.tabIndex=1,p.innerHTML=`
      <span></span>
      <a
        href="javascript:void(0)"
        onclick="event.stopPropagation();"
        tabIndex="1"
        class="language-menu-button hint--bottom"
        data-hint="Change Language"
      >
        <img
          width="20"
          height="20"
          src="${t}assets/images/down_arrow.svg"
        />
      </a>
    `,a.appendChild(p);let d=document.createElement("div");d.classList.add("menu-scroller"),d.classList.add("menu-scroller-"+c),p.appendChild(d);let _=document.createElement("ul");_.classList.add("dropdown-menu"),_.classList.add("dropdown-menu-"+c),d.appendChild(_);let b=[...Le].filter(m=>m.editor===c).filter(m=>He(m.name,e));if(b.length===0)p.classList.add("hidden"),l-=1;else if(b.length===1){let m=p.querySelector(".language-menu-button");m&&(m.style.display="none")}let u=Re.filter(m=>m.editor===c&&Nt(m.name,e)).length>0?{name:c+"-processors",title:"Processors:",longTitle:"Processors:",editor:c}:void 0;u&&b.push(u),b.forEach(m=>{let h=document.createElement("li");h.classList.add("language-item"),_.appendChild(h);let v=document.createElement("a");if(v.href="#",v.dataset.editor=c,v.dataset.lang=m.name,v.title=m.longTitle||m.title,v.innerHTML=m.longTitle||m.title,"extensions"in m||v.classList.add("subtitle"),h.appendChild(v),m.info!==!1){let x=document.createElement("span");x.classList.add("tooltip","hint--bottom-left"),x.dataset.hint="Click for info...",x.innerHTML=_w,s.addEventListener(x,"mousedown",async()=>{let w=document.createElement("div");w.classList.add("language-info"),w.innerHTML=await gw(m.name,t),r(w);let g=w.querySelector("a[data-template]"),L=g?.dataset.template;g&&L&&s.addEventListener(g,"click",async $=>{$.preventDefault(),n(L)},!1);let S=w.querySelector("a[data-code]"),R=S?.dataset.code;S&&R&&s.addEventListener(S,"click",async $=>{$.preventDefault(),i({url:R})},!1)},!1),h.appendChild(x)}})}),l<3&&document.querySelectorAll(".editor-title").forEach(c=>{c.classList.add("half-width")})},Vd=e=>{let t=document.createElement("li");return t.classList.add("language-item","processor-item"),t.innerHTML=`
        <label class="switch">
          <span>${e.title}</span>
          <div>
            <input id="${e.name}" type="checkbox" data-processor="${e.name}" />
            <span class="slider round"></span>
          </div>
        </label>
        `,t},gw=async(e,t)=>{let s=await import(t+"language-info.027ead3484ad50734a17c849e5852e29.js").then(o=>o.languageInfo);return new DOMParser().parseFromString(s,"text/html").querySelector(`[data-lang="${e}"]`)?.innerHTML||""},_w=`<?xml version="1.0" encoding="iso-8859-1"?>
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 496.158 496.158" style="enable-background:new 0 0 496.158 496.158;" xml:space="preserve">
<path style="fill:#5a6074da;" d="M496.158,248.085c0-137.022-111.069-248.082-248.075-248.082C111.07,0.003,0,111.063,0,248.085
	c0,137.001,111.07,248.07,248.083,248.07C385.089,496.155,496.158,385.086,496.158,248.085z"/>
<g>
	<path style="fill:#FFFFFF;" d="M315.249,359.555c-1.387-2.032-4.048-2.755-6.27-1.702c-24.582,11.637-52.482,23.94-57.958,25.015
		c-0.138-0.123-0.357-0.348-0.644-0.737c-0.742-1.005-1.103-2.318-1.103-4.015c0-13.905,10.495-56.205,31.192-125.719
		c17.451-58.406,19.469-70.499,19.469-74.514c0-6.198-2.373-11.435-6.865-15.146c-4.267-3.519-10.229-5.302-17.719-5.302
		c-12.459,0-26.899,4.73-44.146,14.461c-16.713,9.433-35.352,25.41-55.396,47.487c-1.569,1.729-1.733,4.314-0.395,6.228
		c1.34,1.915,3.825,2.644,5.986,1.764c7.037-2.872,42.402-17.359,47.557-20.597c4.221-2.646,7.875-3.989,10.861-3.989
		c0.107,0,0.199,0.004,0.276,0.01c0.036,0.198,0.07,0.5,0.07,0.933c0,3.047-0.627,6.654-1.856,10.703
		c-30.136,97.641-44.785,157.498-44.785,182.994c0,8.998,2.501,16.242,7.432,21.528c5.025,5.393,11.803,8.127,20.146,8.127
		c8.891,0,19.712-3.714,33.08-11.354c12.936-7.392,32.68-23.653,60.363-49.717C316.337,364.326,316.636,361.587,315.249,359.555z"/>
	<path style="fill:#FFFFFF;" d="M314.282,76.672c-4.925-5.041-11.227-7.597-18.729-7.597c-9.34,0-17.475,3.691-24.176,10.971
		c-6.594,7.16-9.938,15.946-9.938,26.113c0,8.033,2.463,14.69,7.32,19.785c4.922,5.172,11.139,7.794,18.476,7.794
		c8.958,0,17.049-3.898,24.047-11.586c6.876-7.553,10.363-16.433,10.363-26.393C321.646,88.105,319.169,81.684,314.282,76.672z"/>
</g>
</svg>`;var Kd=[{id:"normalize.css",name:"Normalize.css",url:ap},{id:"reset-css",name:"CSS reset",url:dp},{id:"github-markdown-css",name:"github-markdown-css",url:Xu},{id:"asciidoctor.css",name:"Asciidoctor CSS",url:q+"asciidoctor.css/asciidoctor.css"}];var Jd=e=>{let t=e.value,s=e.language;return{getValue:()=>t,setValue:(r="")=>{t=r},getLanguage:()=>s,setLanguage:(r,n)=>{s=r,n&&(t=n)},getEditorId:()=>ce(s)||"markup",focus:()=>{},getPosition:()=>({lineNumber:1,column:1}),setPosition:()=>{},onContentChanged:()=>{},addKeyBinding:()=>{},keyCodes:{CtrlEnter:"",ShiftEnter:"",Enter:"",UpArrow:"",DownArrow:"",ShiftAltF:""},changeSettings:()=>{},registerFormatter:()=>{},format:async()=>{},isReadonly:!0,setTheme:()=>{},undo:()=>{},redo:()=>{},destroy:()=>{},isFake:!0}};var ki=[{id:"anonymous-pro",name:"Anonymous Pro",url:vu},{id:"cascadia-code",name:"Cascadia Code",url:bu},{id:"comic-mono",name:"Code New Roman",url:wu},{id:"comic-mono",name:"Comic Mono",url:xu},{id:"courier-prime",name:"Courier Prime",url:Eu},{id:"dec-terminal-modern",name:"DEC Terminal Modern",url:Su},{id:"dejavu-mono",name:"DejaVu Mono",url:Lu},{id:"fantasque-sans-mono",name:"TypoPRO Fantasque Sans Mono",label:"Fantasque Sans Mono",url:Tu},{id:"fira-code",name:"Fira Code",url:Cu},{id:"fixedsys",name:"Fixedsys 62",label:"Fixedsys",url:ku},{id:"hack",name:"Hack",url:Mu},{id:"hermit",name:"Hermit",url:ju},{id:"ibm-plex-mono",name:"IBM Plex Mono",url:Uu},{id:"inconsolata",name:"Inconsolata",url:qu},{id:"iosevka",name:"Iosevka",url:Au},{id:"jetbrains-mono",name:"JetBrains Mono",url:Ou},{id:"menlo",name:"Menlo",url:Pu},{id:"monofur",name:"Monofur",url:Iu},{id:"monoid",name:"TypoPRO Monoid",label:"Monoid",url:Ru},{id:"noto-sans-mono",name:"Noto Sans Mono",url:Hu},{id:"nova-mono",name:"Nova Mono",url:Bu},{id:"opendyslexic",name:"OpenDyslexic",url:$u},{id:"profontwindows",name:"ProFontWindows",label:"ProFont",url:Nu},{id:"roboto-mono",name:"Roboto Mono",url:Du},{id:"sf-mono",name:"SF Mono",url:Fu},{id:"source-code-pro",name:"Source Code Pro",url:zu},{id:"space-mono",name:"Space Mono",url:Wu},{id:"sudo-var",name:"Sudo Var",url:Gu},{id:"ubuntu-mono",name:"Ubuntu Mono",url:Vu},{id:"victor-mono",name:"Victor Mono",url:Ku}],ms=e=>{let t='Consolas, "Roboto Mono", "Ubuntu Mono", ui-monospace, monospace';if(!e)return t;let s=ki.find(r=>[r.id,r.name,r.label].includes(e))?.name;return s?`"${s}", ${t}`:t};var yw=e=>e==="codemirror"?"codemirror.0496f8ad72d7c7bbe37711a50527d92d.js":e==="codejar"?"codejar.835c100a1b5589da18e9f1ff1fcde2b4.js":"monaco.afcb1f04feff2592bc1487b217fefa96.js",vw=async(e,t)=>{let{baseUrl:s}=t,r=yw(e),n=s+r,i=window[n];i||(i=await import(n),window[n]=i);let o=i.createEditor;return await o(t)},bw=e=>{let{editor:t,mode:s,editorId:r}=e;return(s==="result"&&r!=="console"&&r!=="compiled"?"fake":["codemirror","monaco","codejar"].includes(t||"")?t:s==="codeblock"?"codejar":Hs()?"codemirror":"monaco")||"monaco"},ww=e=>{let t={...e,readOnly:!0},s={...e,readOnly:!0},r={...e,lineNumbers:!1},n={...e,lineNumbers:!1,readOnly:!0},i=e.editorId;return i==="console"?r:i==="compiled"?s:i==="embed"?n:e.mode==="codeblock"?t:e},Xd=e=>{if(!e)return;let t=ki.find(s=>[s.id,s.name,s.label].includes(e));t&&ds(t.url,"font-"+t.id)},Lt=async e=>{if(!e)throw new Error;let t=ww(e),s=bw(t);if(s==="fake")return Jd(t);t.fontFamily&&Xd(t.fontFamily);let r=await vw(s,t),n=r.changeSettings;return r.changeSettings=i=>(i.fontFamily&&Xd(i.fontFamily),n(i)),r};var Qd=e=>{e.data.type==="customEditorCommand"&&(e.data.payload==="fork"&&window.dispatchEvent(new KeyboardEvent("keydown",{keyCode:83,shiftKey:!0,ctrlKey:!navigator.platform.match("Mac"),metaKey:!!navigator.platform.match("Mac")})),e.data.payload==="save"&&window.dispatchEvent(new KeyboardEvent("keydown",{keyCode:83,ctrlKey:!navigator.platform.match("Mac"),metaKey:!!navigator.platform.match("Mac")})))},Vr=(e,t)=>{e?t.addEventListener(window,"message",Qd):t.removeEventListener(window,"message",Qd)};var Zd=({baseUrl:e,eventsManager:t})=>{let s,r=async()=>{if(s)return;let n=document.querySelector("#script"),i=document.createElement("div");i.id="blockly",i.classList.add("custom-editor"),i.innerHTML='<span class="loading-custom-editor">Loading blockly editor...</span>',n.appendChild(i),s=await import(e+"blockly.db3de0658229619847dcc6e4b425a78d.js")};return{language:"blockly",show:async(n,i)=>{!s&&n&&await r();let o=document.querySelector("#blockly");if(!n||i.editors.script.getLanguage()!=="blockly"){o&&(o.style.display="none");return}o&&(o.style.display="unset"),await s.showBlockly(i),Vr(n,t)},getContent:async n=>(await r(),s.getBlocklyContent(n)),setTheme:n=>{s?.setBlocklyTheme(n)}}};var Yd=({baseUrl:e,eventsManager:t})=>{let s,r=async()=>{if(s)return;let n=document.querySelector("#markup"),i=document.createElement("div");i.id="quillEditor",i.classList.add("custom-editor"),i.innerHTML='<span class="loading-custom-editor">Loading rich text editor...</span>',n.appendChild(i),s=await import(e+"quill.d393b8e98df4eda484acc2a98ac25aee.js")};return{language:"richtext",show:async(n,i)=>{!s&&n&&await r();let o=document.querySelector("#quillEditor");if(!n||i.editors.markup.getLanguage()!=="richtext"){o&&(o.style.display="none");return}o&&(o.style.display="unset"),await s.showQuillEditor(i),Vr(n,t)},getContent:async n=>(await r(),s.getQuillEditorContent(n)),setTheme:n=>{s?.setQuillEditorTheme(n)}}};var ef=e=>({blockly:Zd(e),richtext:Yd(e)});var tf=()=>{let e=[];return{addEventListener:(n,i,o,a)=>{n&&(n.addEventListener(i,o,a||!1),e.push({element:n,eventType:i,fn:o}))},removeEventListener:(n,i,o)=>{if(!n)return;n.removeEventListener(i,o);let a=e.find(l=>l.element===n&&l.eventType===i&&l.fn===o);a&&e.splice(e.indexOf(a))},removeEventListeners:()=>{e.forEach(n=>{n.element.removeEventListener(n.eventType,n.fn),e.splice(e.indexOf(n))})}}};var $e={load:"livecodes-load",appLoaded:"livecodes-app-loaded",ready:"livecodes-ready",change:"livecodes-change",testResults:"livecodes-test-results",destroy:"livecodes-destroy",resizeEditor:"livecodes-resize-editor",apiResponse:"livecodes-api-response"};var Kr=()=>{let e=[];return{subscribe:i=>(e.push(i),{unsubscribe:()=>{e.splice(e.indexOf(i),1)}}),notify:i=>{e.forEach(o=>{o(i)})},hasSubscribers:()=>e.length>0,unsubscribeAll:()=>{e.length=0}}};var Mi={getList:async()=>[],getAllData:async()=>[],getItem:async()=>null,addItem:async()=>"",updateItem:async()=>"",deleteItem:async()=>{},bulkInsert:async()=>{},restore:async()=>{},clear:async()=>{},subscribe:()=>({unsubscribe:()=>{}}),unsubscribeAll:()=>{}},sf={getValue:()=>null,setValue:()=>{},clear:()=>{},subscribe:()=>({unsubscribe:()=>{}}),unsubscribeAll:()=>{}};var Jr,rf="livecodes",ji={},Ui=()=>(Date.now()+""+Math.floor(Math.floor(Math.random()*Date.now()))).substring(0,24),xw=async e=>{Jr||(Jr=await Wr(tp,"localforage"),Jr.config({name:rf})),ji[e]||(ji[e]=Jr.createInstance({name:rf,storeName:e}))},yt=async(e,t)=>{if(t)return Mi;let s,r=Kr(),n=h=>r.subscribe(h),i=()=>{r.unsubscribeAll()},o=()=>{r.hasSubscribers()&&c().then(h=>{r.notify(h)})},a=async()=>{await xw(e),s=ji[e]},l=async()=>(await a(),s.keys()),c=async()=>{await a();let h=[];return await s.iterate(v=>{h.push(v)}),h.sort((v,x)=>x.lastModified&&v.lastModified?x.lastModified-v.lastModified:0)},p=async h=>(await a(),s.getItem(h)),d=async(h,v,x=!0)=>(await a(),await s.setItem(h,v),x&&o(),h),_=async(h,v=!0)=>{let x=Ui();return await d(x,h,v),x};return{getList:l,getAllData:c,getItem:p,addItem:h=>_(h),updateItem:(h,v)=>d(h,v),deleteItem:async h=>{await a(),await s.removeItem(h),o()},bulkInsert:async h=>{for(let v of h)await _(v,!1);o()},restore:async h=>{for(let v of h)v.id?await d(v.id,v,!1):await _(v,!1);o()},clear:async()=>{await a(),await s.clear(),o()},subscribe:n,unsubscribeAll:i}};var qi=async(e,t)=>{let s=await yt(e,t),r=async()=>(await s.getAllData()).map(a=>({id:a.id,title:a.config?.title||"",description:a.config?.description||"",tags:a.config?.tags||[],languages:a.config?[a.config.markup.language,a.config.style.language,a.config.script.language]:[],lastModified:a.lastModified})).sort((a,l)=>l.lastModified-a.lastModified),n=(a,l)=>{let c={id:a,config:l,lastModified:Date.now()};return s.updateItem(a,c)},i=async a=>{let l=Ui();return n(l,a)};return{...s,getList:r,addItem:i,updateItem:n,bulkInsert:async a=>{for(let l of a)await i(l)}}};var Xr=(e,t)=>{if(t)return sf;let s=Kr(),r=c=>s.subscribe(c),n=()=>{s.unsubscribeAll()},i=()=>{s.notify(a())},o=c=>{window.localStorage.setItem(e,JSON.stringify(c)),i()},a=()=>{let c=window.localStorage.getItem(e);if(!c)return null;try{return JSON.parse(c)}catch{return null}};return{getValue:a,setValue:o,clear:()=>{o(null),i()},subscribe:r,unsubscribeAll:n}};var hs=ru(of()),Zr=hs.compressToEncodedURIComponent,af=(e,t=!0)=>{let s=(0,hs.decompressFromEncodedURIComponent)(e);if(s){if(!t)return s;try{if(JSON.parse(s))return s}catch{}}return(0,hs.decompressFromBase64)(e)};var Yr,lf=async()=>{Yr=Yr||await yt("__livecodes_key__",!1)},Ew=e=>new TextEncoder().encode(e),Sw=e=>new TextDecoder().decode(e),Lw=async e=>{await lf(),await Yr.updateItem("__livecodes_key_id__",Zr(e))},Tw=async()=>{await lf();let e=await Yr.getItem("__livecodes_key_id__");return e?af(e):null},Cw=async()=>{let e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=await crypto.subtle.exportKey("jwk",e.publicKey),s=await crypto.subtle.exportKey("jwk",e.privateKey),r=JSON.stringify({public:t,private:s});return await Lw(r),r},cf=async e=>crypto.subtle.importKey("jwk",JSON.parse(await Tw()||await Cw())[e],{name:"RSA-OAEP",hash:"SHA-256"},!0,e==="public"?["encrypt"]:["decrypt"]),uf=async e=>{let t=Ew(e),s=await cf("public"),r=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},s,t);return JSON.stringify(Array.from(new Uint8Array(r)))},pf=async e=>{try{let t=await window.crypto.subtle.decrypt({name:"RSA-OAEP"},await cf("private"),new Uint8Array(JSON.parse(e)));return Sw(t)}catch{return null}};var df=e=>{let t=new Worker(e+"format.worker.ca6fcdda5af92d7cb38cf827883d67f6.js"),s={type:"init",baseUrl:e};return t.postMessage(s),{load:async o=>new Promise((a,l)=>{let c=d=>{let _=d.data;(_.type==="loaded"||_.type==="load-failed")&&_.payload===o&&(t.removeEventListener("message",c),_.type==="loaded"?a("loaded formatter for: "+o.join(", ")):_.type==="load-failed"&&l("failed loading formatter for: "+o.join(", ")))};t.addEventListener("message",c);let p={type:"load",payload:o};t.postMessage(p)}),getFormatFn:async o=>(l,c,p={})=>new Promise((d,_)=>{let b=u=>{let m=u.data;(m.type==="formatted"||m.type==="format-failed")&&m.payload.language===o&&m.payload.value===l&&m.payload.cursorOffset===c&&(t.removeEventListener("message",b),m.type==="formatted"?d({formatted:m.payload.formatted,cursorOffset:m.payload.formattedCursorOffset}):m.type==="format-failed"&&_({language:o,formatted:l,cursorOffset:c}))};t.addEventListener("message",b);let f={type:"format",payload:{language:o,value:l,cursorOffset:c,formatterConfig:p}};t.postMessage(f)}),destroy:()=>{t.terminate()}}};var ff=(e,t,s)=>{let{readonly:r,mode:n}=e;return r||n==="codeblock"||n==="result"||s?kw():df(t)};function kw(){return{load:e=>Promise.resolve("do nothing"),getFormatFn:e=>Promise.resolve((t,s)=>Promise.resolve({formatted:t,cursorOffset:s})),destroy:()=>{}}}function Mw(e,t,s){if(s)return t?t(e()):e();try{var r=Promise.resolve(e());return t?r.then(t):r}catch(n){return Promise.reject(n)}}function jw(e){var t=e();if(t&&t.then)return t.then(Uw)}function Uw(){}function qw(e,t,s){return s?t?t(e):e:((!e||!e.then)&&(e=Promise.resolve(e)),t?e.then(t):e)}var en={left:[],center:[],right:[]},Ai={left:!0,center:!0,right:!0},Aw={light:{backgroundColor:"#fff",textColor:"#000",actionColor:"#008000"},dark:{}},ct=function(t,s){var r=this;s===void 0&&(s={});var n=s.timeout;n===void 0&&(n=0);var i=s.actions;i===void 0&&(i=[{text:"dismiss",callback:function(){return r.destroy()}}]);var o=s.position;o===void 0&&(o="center");var a=s.theme;a===void 0&&(a="dark");var l=s.maxStack;l===void 0&&(l=3),this.message=t,this.options={timeout:n,actions:i,position:o,maxStack:l,theme:typeof a=="string"?Aw[a]:a},this.wrapper=this.getWrapper(this.options.position),this.insert(),en[this.options.position].push(this),this.stack()},mf={theme:{configurable:!0}};mf.theme.get=function(){return this.options.theme};ct.prototype.getWrapper=function(t){var s=document.querySelector(".snackbars-"+t);return s||(s=document.createElement("div"),s.className="snackbars snackbars-"+t,document.body.appendChild(s)),s};ct.prototype.insert=function(){var t=this,s=document.createElement("div");s.className="snackbar",s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-hidden","false");var r=this.theme,n=r.backgroundColor,i=r.textColor,o=r.boxShadow,a=r.actionColor,l=document.createElement("div");l.className="snackbar--container",n&&(l.style.backgroundColor=n),i&&(l.style.color=i),o&&(l.style.boxShadow=o),s.appendChild(l);var c=document.createElement("div");if(c.className="snackbar--text",typeof this.message=="string"?c.textContent=this.message:c.appendChild(this.message),l.appendChild(c),this.options.actions)for(var p=function(){var b=_[d],f=b.style,u=b.text,m=b.callback,h=document.createElement("button");h.className="snackbar--button",h.innerHTML=u,a&&(h.style.color=a),f&&Object.keys(f).forEach(function(v){h.style[v]=f[v]}),h.addEventListener("click",function(){t.stopTimer(),m?m(h,t):t.destroy()}),l.appendChild(h)},d=0,_=t.options.actions;d<_.length;d+=1)p();this.startTimer(),s.addEventListener("mouseenter",function(){t.expand()}),s.addEventListener("mouseleave",function(){t.stack()}),this.el=s,this.wrapper.appendChild(s)};ct.prototype.stack=function(){var t=this;Ai[this.options.position]=!0;var s=en[this.options.position],r=s.length-1;s.forEach(function(n,i){n.startTimer();var o=n.el;if(o){o.style.transform="translate3d(0, -"+(r-i)*15+"px, -"+(r-i)+"px) scale("+(1-.05*(r-i))+")";var a=r-i>=t.options.maxStack;t.toggleVisibility(o,a)}})};ct.prototype.expand=function(){var t=this;Ai[this.options.position]=!1;var s=en[this.options.position],r=s.length-1;s.forEach(function(n,i){n.stopTimer();var o=n.el;if(o){o.style.transform="translate3d(0, -"+(r-i)*o.clientHeight+"px, 0) scale(1)";var a=r-i>=t.options.maxStack;t.toggleVisibility(o,a)}})};ct.prototype.toggleVisibility=function(t,s){s?(this.visibilityTimeoutId=window.setTimeout(function(){t.style.visibility="hidden"},300),t.style.opacity="0"):(this.visibilityTimeoutId&&(clearTimeout(this.visibilityTimeoutId),this.visibilityTimeoutId=void 0),t.style.opacity="1",t.style.visibility="visible")};ct.prototype.destroy=function(){var t=this;return Mw(function(){var s=t.el,r=t.wrapper;return jw(function(){if(s)return s.setAttribute("aria-hidden","true"),qw(new Promise(function(n){var i=Ow(s);i?s.addEventListener(i,function(){return n()}):n()}),function(){r.removeChild(s);for(var n=en[t.options.position],i=void 0,o=0;o<n.length;o++)if(n[o].el===s){i=o;break}i!==void 0&&n.splice(i,1),Ai[t.options.position]?t.stack():t.expand()})})})};ct.prototype.startTimer=function(){var t=this;this.options.timeout&&!this.timeoutId&&(this.timeoutId=self.setTimeout(function(){return t.destroy()},this.options.timeout))};ct.prototype.stopTimer=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)};Object.defineProperties(ct.prototype,mf);function Ow(e){for(var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"Animationend",WebkitAnimation:"webkitAnimationEnd"},s=0,r=Object.keys(t);s<r.length;s+=1){var n=r[s];if(e.style[n]!==void 0)return t[n]}}function gs(e,t){return new ct(e,t)}var hf={minWidth:"2em",padding:"3px"};var gf={textColor:"#343A40",actionColor:"#343A40",backgroundColor:"#fff"},_f={textColor:"#055160",actionColor:"#055160",backgroundColor:"#CFF4FC"},yf={textColor:"#0F5132",actionColor:"#0F5132",backgroundColor:"#D1E7DD"},vf={textColor:"#664D16",actionColor:"#664D16",backgroundColor:"#FFF3CD"},bf={textColor:"#842040",actionColor:"#842040",backgroundColor:"#F8D7DA"},_s={text:'<span title="Dismiss">\u2716</span>',style:hf,callback(e,t){t.destroy()}},wf={text:'<span title="Confirm">\u2713</span>',style:hf,callback(e,t){t.destroy()}};var xf=()=>({info:(o,a=!0)=>gs(o,{theme:_f,actions:a?[_s]:[],timeout:2e3}),success:(o,a=!0)=>gs("\u2713 "+o,{theme:yf,actions:a?[_s]:[],timeout:2e3}),warning:(o,a=!0)=>gs(o,{theme:vf,actions:a?[_s]:[],timeout:2e3}),error:(o,a=!0)=>gs("\u2716 "+o,{theme:bf,actions:a?[_s]:[],timeout:2e3}),confirm:(o,a,l)=>{let c={...wf,callback(d,_){a(),_.destroy()}},p={..._s,callback(d,_){l?.(),_.destroy()}};return gs(o,{theme:gf,actions:[c,p]})}});var Ef=()=>{let e=document.querySelector("#overlay"),t=document.querySelector("#modal-container"),s=document.querySelector("#modal"),r,n=()=>{},i=(l,{size:c="large",closeButton:p=!1,isAsync:d=!1,onClose:_=()=>{},scrollToSelector:b=""}={})=>{if(s.innerHTML="",s.className=c,s.appendChild(l),n=_,b&&setTimeout(()=>{let u=l.querySelector(b);l.style.scrollBehavior="smooth",u&&u.scrollIntoView()},500),p){let u=document.createElement("div");u.className="close-container";let m=document.createElement("button");m.className="button",m.innerHTML="Close",m.onclick=o,u.appendChild(m),s.appendChild(u)}let f=document.createElement("div");f.className="close-button",f.onclick=o,s.appendChild(f),e.style.display="flex",t.style.display="flex",s.style.display="flex",e.classList.remove("hidden"),t.classList.remove("hidden"),r=!0,document.removeEventListener("click",a),document.addEventListener("click",a,!1),d&&l.click()},o=()=>{typeof n=="function"&&n(),document.removeEventListener("click",a),s.innerHTML="",s.className="",e.classList.add("hidden"),t.classList.add("hidden"),s.style.display="none",setTimeout(()=>{e.style.display="none",t.style.display="none",r=!1},400)};function a(l){let c=document.querySelector(".snackbar");!s?.contains(l.target)&&!c?.contains(l.target)&&!r&&o(),r=!1}return{show:i,close:o}};var Oi=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LiveCodes</title>
    <script>
      window.addEventListener('message', function (event) {
        if (event.data.result) {
          document.write(event.data.result);
          document.close();
        }
      });
    <\/script>
  </head>
  <body></body>
</html>
`;var Pi=`<div id="resources-container" class="modal-container">
  <div class="modal-title">External Resources</div>
  <div id="resources-screen-container" class="modal-screen-container">
    <div class="modal-screen">
      <label for="external-stylesheets">External Stylesheets</label>
      <textarea
        id="external-stylesheets"
        placeholder="https://"
        data-resource="stylesheets"
      ></textarea>
      <label for="external-scripts">External Scripts</label>
      <textarea id="external-scripts" placeholder="https://" data-resource="scripts"></textarea>
      <button id="resources-load-btn" class="wide-button">Load</button>
    </div>
    <div class="description">
      Add URLs to CSS and/or JS files to be added to the page. Put each URL in a separate line.
    </div>
  </div>
</div>
`;var Ii=`<div id="prompt-screen">
  <div class="modal-title">Unsaved changes</div>
  <div class="modal-screen">
    <div>
      The changes you made may not be saved. <br />
      Do you want to save now?
    </div>
    <div class="buttons">
      <button id="prompt-save-btn" class="button">Save</button>
      <button id="prompt-donot-save-btn" class="button">Do not save</button>
      <button id="prompt-cancel-btn" class="button">Cancel</button>
    </div>
  </div>
</div>
`;var Ri=`<div id="prompt-recover-screen">
  <div class="modal-title">Recover unsaved project?</div>
  <div class="modal-content">
    <div class="centered">
      Your last project has unsaved changes! <br />
      <br />
    </div>
    <div class="modal-screen-container">
      Title: <strong id="unsaved-project-name"></strong> <br />
      Last modified: <span id="unsaved-project-last-modified"></span>
    </div>
    <div class="centered"><br />Do you want to recover it now?</div>
    <div class="buttons">
      <button id="prompt-recover-btn" class="button" title="Recover project to editor">
        Recover
      </button>
      <button id="prompt-save-previous-btn" class="button" title="Save to device and continue">
        Save
      </button>
      <button id="prompt-cancel-recover-btn" class="button" title="Discard unsaved project">
        Cancel
      </button>
    </div>
    <div>
      <input
        type="checkbox"
        value="disable-recover-checkbox"
        id="disable-recover-checkbox"
        name="disable-recover-checkbox"
      />
      <label for="disable-recover-checkbox">Do not show this again.</label>
    </div>
  </div>
</div>
`;var Tt=(e,t)=>{let s=r=>r.replace(/{{ __livecodes_baseUrl__ }}/g,us(t));return typeof e=="string"?s(e):{...e,url:s(e.url)}},$w=async e=>(await import(e+"templates.fbedda381aeb0878b15ebd3e4929c35e.js")).starterTemplates,Hi=async(e,t)=>(await $w(t)).filter(s=>{let r=e.languages?.map(Y).filter(Boolean);if(!r||s.title==="Blank Project")return!0;let n=[s.markup?.language,s.style?.language,s.script?.language];for(let i of n){let o=Y(i);if(!o||!r.includes(o))return!1}return!0}).map(s=>({...s,markup:{...s.markup,language:s.markup?.language||"html",content:Tt(s.markup?.content||"",t),...s.markup?.contentUrl?{contentUrl:Tt(s.markup?.contentUrl||"",t)}:{}},style:{...s.style,language:s.style?.language||"css",content:Tt(s.style?.content||"",t),...s.style?.contentUrl?{contentUrl:Tt(s.style?.contentUrl||"",t)}:{}},script:{...s.script,language:s.script?.language||"javascript",content:Tt(s.script?.content||"",t),...s.script?.contentUrl?{contentUrl:Tt(s.script?.contentUrl||"",t)}:{}},imports:Bs(s.imports||{},r=>Tt(r||"",t)),types:Bs(s.types||{},r=>Tt(r||"",t))})),Sf=async(e,t,s)=>(await Hi(t,s)).filter(r=>r.name.toLowerCase()===e.toLowerCase())[0];var X={title:"Untitled Project",description:"",tags:[],autoupdate:!0,autosave:!1,delay:1500,formatOnsave:!1,mode:"full",theme:"dark",recoverUnsaved:!0,showSpacing:!1,readonly:!1,allowLangChange:!0,activeEditor:void 0,languages:void 0,markup:{language:"html",content:""},style:{language:"css",content:""},script:{language:"javascript",content:""},stylesheets:[],scripts:[],cssPreset:"",imports:{},types:{},tests:{language:"typescript",content:""},tools:{enabled:"all",active:"",status:""},zoom:1,processors:[],customSettings:{},editor:void 0,fontFamily:void 0,fontSize:void 0,useTabs:!1,tabSize:2,lineNumbers:!0,wordWrap:!1,closeBrackets:!0,semicolons:!0,singleQuote:!1,trailingComma:!0,emmet:!0,editorMode:void 0,version:"0.6.0"};var Gs=e=>{if(!e)return{...X};let t=Dt(e),s={...X,...t},r=tn(),n=Dt(Dw(s,r));s={...s,...n};let i=s.activeEditor||"markup";return s=Nw({...s,activeEditor:i}),s},Nw=e=>({...e,markup:{...e.markup,language:Y(e.markup.language)||X.markup.language},style:{...e.style,language:Y(e.style.language)||X.style.language},script:{...e.script,language:Y(e.script.language)||X.script.language},...e.tests?.language?{tests:{...e.tests,language:Y(e.tests.language)||X.tests?.language||"typescript"}}:{}}),tn=(e=parent.location.search)=>{let t=Object.fromEntries(new URLSearchParams(e));return Object.keys(t).forEach(s=>{try{t[s]=decodeURIComponent(t[s])}catch{}t[s]===""&&(t[s]=!0),t[s]==="true"&&(t[s]=!0),t[s]==="false"&&(t[s]=!1)}),t},Dw=(e,t)=>{let s=[...Object.keys(X)].filter(c=>c!=="version").reduce((c,p)=>({...c,[p]:t[p]}),{});Object.keys(t).forEach(c=>{let p=Y(c);if(!p)return;let d=ce(p);if(d&&!s[d]){let _=t[c],b=typeof _=="string"?nu(decodeURIComponent(_)):"";s[d]={language:p,content:b},s.activeEditor||(s.activeEditor=d)}});let r=Y(t.language||t.lang),n=ce(r);n&&(s[n]?.language===r?s.activeEditor=n:!s[n]?.content&&e[n]?.language===r?(s[n]={...e[n]},s.activeEditor=n):e[n]?.content||(s[n]={language:r,content:""},s.activeEditor=n));let i=["markup","style","script"],o=t.activeEditor,a=t.active;if(s.activeEditor=i.includes(o)?o:o in i?i[o]:i.includes(a)?a:a in i?i[a]:s.activeEditor,typeof t.languages=="string"&&(s.languages=t.languages.split(",").map(c=>c.trim()).map(Y).filter(Boolean)),typeof t.processors=="string"&&(s.processors=t.processors.split(",").map(c=>c.trim()).filter(Boolean)),typeof t.tags=="string"&&(s.tags=t.tags.split(",").map(c=>c.trim()).filter(Boolean)),typeof t.stylesheets=="string"&&(s.stylesheets=t.stylesheets.split(",").map(c=>c.trim()).filter(Boolean)),typeof t.scripts=="string"&&(s.scripts=t.scripts.split(",").map(c=>c.trim()).filter(Boolean)),t.tools==="none"||t.tools===!1)s.tools={enabled:[],active:"",status:"none"};else{s.tools=ps(X.tools);let c,p=["console","compiled","tests"],[d,_]=t.tools?.split("|")||["",""],b=d.split(",").map(u=>u.trim()).filter(u=>p.includes(u));b.length>0&&(s.tools.enabled=b,s.tools.active=b[0]),Object.keys(t).filter(u=>p.includes(u)).forEach(u=>{s.tools&&(t[u]===!0&&(t[u]="open"),t[u]===!1&&(t[u]="none"),!c&&["open","full","closed"].includes(t[u])&&(s.tools.enabled!=="all"&&!s.tools.enabled.includes(u)&&s.tools.enabled.push(u),s.tools.active=u,s.tools.status=t[u],c=s.tools.status),t[u]==="none"&&(s.tools.enabled==="all"&&(s.tools.enabled=[...p]),s.tools.enabled=s.tools.enabled.filter(m=>m!==u),s.tools.active===u&&(s.tools.active=s.tools.enabled[0])))}),["open","full","closed"].includes(t.tools)?s.tools.status=t.tools:["open","full","closed"].includes(_)?s.tools.status=_:!s.tools?.status&&["editor","codeblock","result"].includes(s.mode||"")?s.tools={enabled:[],active:"",status:"none"}:s.tools.status||(s.tools.status="closed")}return s};var Fw=[{to:"0.6.0",upgrade:(e,t)=>{let s=ys(e);return s.processors&&"postcss"in s.processors&&(s.processors=Object.keys(s.processors.postcss).filter(r=>s.processors.postcss[r])),{...s,version:t}}},{to:"0.5.0",upgrade:(e,t)=>{let s=ys(e);return"editor"in s&&s.editor==="prism"&&(s.editor="codejar"),"compiled"in s&&(s.tools=s.tools||ys(X.tools),s.tools.active="compiled",s.tools.status=s.compiled,delete s.compiled),"console"in s&&(s.tools=s.tools||ys(X.tools),s.tools.active="console",s.tools.status=s.console,delete s.console),s.script?.language==="graph"&&(s.script.language="diagrams"),s.languages?.includes("graph")&&(s.languages=s.languages.map(r=>r==="graph"?"diagrams":r)),"enableRestore"in s&&(s.recoverUnsaved=s.enableRestore,delete s.enableRestore),{...s,version:t}}},{to:"0.4.0",upgrade:(e,t)=>{let s=ys(e);if(s=Lf(s,"update_delay","delay"),s=Lf(s,"allow_lang_change","allowLangChange"),"autoprefixer"in s&&(s.processors=ys(X.processors),s.processors.postcss=s.processors.postcss||{},s.processors.postcss.autoprefixer=s.autoprefixer,delete s.autoprefixer),"baseUrl"in s&&delete s.baseUrl,"cssPreset"in s&&s.cssPreset===null&&(s.cssPreset=""),"editor"in s&&typeof s.editor!="string"&&(s.editor=void 0),"language"in s&&(s.activeEditor=ce(s.language),delete s.language),"modules"in s){let r={...s.modules.reduce((i,o)=>({...i,...o.url?{[o.name]:o.url}:{}}),{})};Object.keys(r).length>0&&(s.imports=r);let n={...s.modules.reduce((i,o)=>({...i,...o.typesUrl?{[o.name]:o.typesUrl}:{}}),{})};Object.keys(n).length>0&&(s.types=n),delete s.modules}return{...s,version:t}}}],Tf=e=>{let t=zw(e.version)?e.version:"0.0.0",s=X.version;if(Bi({version:s,comparedTo:t}))throw new Error(`Unsupported config version '${t}'. Current LiveCodes version is '${s}'`);return t===s?e:Fw.sort((r,n)=>Bi({version:r.to,comparedTo:n.to})?-1:1).reduce((r,n)=>Bi({version:r.version,comparedTo:n.to})?n.upgrade(r,n.to):r,e)},zw=e=>{if(typeof e!="string")return!1;let t=e.split(".");return!(t.length!==3||t.map(s=>Number(s)).filter(isNaN).length!==0)},Bi=({version:e,comparedTo:t})=>{if(!e)return!0;let s=e.split(".").map(n=>Number(n)),r=t.split(".").map(n=>Number(n));for(let n in s)if(s[n]<r[n])return!0;return!1},ys=e=>JSON.parse(JSON.stringify(e)),Lf=(e,t,s)=>{let{[t]:r,...n}={...e,...t in e?{[s]:e[t]}:{}};return n};var Cf=e=>{let t=(u,m,h)=>m==="array"?Array.isArray(u)?h?u.filter(v=>t(v,h)).length>0:!0:!1:m==="object"?u&&typeof u===m:m==="number"&&!isNaN(Number(u))?!0:typeof u===m,s=(u,m)=>m!=null&&u.includes(m),r=["full","editor","codeblock","result"],n=["light","dark"],i=["vim","emacs"],o=["console","compiled","tests"],a=["","full","closed","open","none"],l=["monaco","codemirror","codejar"],c=["markup","style","script"],p=[1,.5,.25],d=u=>t(u,"object")&&t(u.language,"string"),_=u=>({language:u.language,...t(u.content,"string")?{content:u.content}:{},...t(u.contentUrl,"string")?{contentUrl:u.contentUrl}:{},...t(u.selector,"string")?{selector:u.selector}:{}}),b=u=>({...u&&t(u.language,"string")?{language:u.language}:{},...u&&t(u.content,"string")?{content:u.content}:{},...u&&t(u.contentUrl,"string")?{contentUrl:u.contentUrl}:{},...u&&t(u.selector,"string")?{selector:u.selector}:{}}),f=u=>({...X.tools,...u&&(u.enabled==="all"||u.enabled?.every(m=>s(o,m)))?{enabled:u.enabled}:{},...u&&s(o,u.active)&&(u.enabled==="all"||!u.enabled||Array.isArray(u.enabled)&&s(u.enabled,u.active))?{active:u.active}:{},...u&&s(a,u.status)?{status:u.status}:{}});return{...t(e.title,"string")?{title:e.title}:{},...t(e.description,"string")?{description:e.description}:{},...t(e.tags,"array","string")?{tags:e.tags}:{},...t(e.autoupdate,"boolean")?{autoupdate:e.autoupdate}:{},...t(e.autosave,"boolean")?{autosave:e.autosave}:{},...t(e.delay,"number")?{delay:Number(e.delay)}:{},...t(e.formatOnsave,"boolean")?{formatOnsave:e.formatOnsave}:{},...s(r,e.mode)?{mode:e.mode}:{},...s(n,e.theme)?{theme:e.theme}:{},...t(e.recoverUnsaved,"boolean")?{recoverUnsaved:e.recoverUnsaved}:{},...t(e.showSpacing,"boolean")?{showSpacing:e.showSpacing}:{},...t(e.readonly,"boolean")?{readonly:e.readonly}:{},...t(e.allowLangChange,"boolean")?{allowLangChange:e.allowLangChange}:{},...s(c,e.activeEditor)?{activeEditor:e.activeEditor}:{},...t(e.languages,"array","string")?{languages:e.languages}:{},...d(e.markup)?{markup:_(e.markup)}:{},...d(e.style)?{style:_(e.style)}:{},...d(e.script)?{script:_(e.script)}:{},...t(e.tools,"object")?{tools:f(e.tools)}:{},...t(e.tests,"object")?{tests:b(e.tests)}:{},...s(p,Number(e.zoom))?{zoom:Number(e.zoom)}:{},...t(e.stylesheets,"array","string")?{stylesheets:e.stylesheets}:{},...t(e.scripts,"array","string")?{scripts:e.scripts}:{},...t(e.cssPreset,"string")?{cssPreset:e.cssPreset}:{},...t(e.processors,"array","string")?{processors:e.processors}:{},...t(e.customSettings,"object")?{customSettings:e.customSettings}:{},...s(l,e.editor)?{editor:e.editor}:{},...t(e.fontFamily,"string")?{fontFamily:e.fontFamily}:{},...t(e.fontSize,"number")?{fontSize:Number(e.fontSize)}:{},...t(e.useTabs,"boolean")?{useTabs:e.useTabs}:{},...t(e.tabSize,"number")?{tabSize:Number(e.tabSize)}:{},...t(e.lineNumbers,"boolean")?{lineNumbers:e.lineNumbers}:{},...t(e.wordWrap,"boolean")?{wordWrap:e.wordWrap}:{},...t(e.closeBrackets,"boolean")?{closeBrackets:e.closeBrackets}:{},...t(e.semicolons,"boolean")?{semicolons:e.semicolons}:{},...t(e.singleQuote,"boolean")?{singleQuote:e.singleQuote}:{},...t(e.trailingComma,"boolean")?{trailingComma:e.trailingComma}:{},...t(e.emmet,"boolean")?{emmet:e.emmet}:{},...s(i,e.editorMode)?{editorMode:e.editorMode}:{},...t(e.imports,"object")?{imports:e.imports}:{},...t(e.types,"object")?{types:e.types}:{},...t(e.version,"string")?{version:e.version}:{}}};var kf=X,T=()=>ps(kf),Me=e=>{kf=ps(e)},Xe=e=>ps({title:e.title,description:e.description,tags:e.tags,activeEditor:e.activeEditor,languages:e.languages,markup:e.markup,style:e.style,script:e.script,stylesheets:e.stylesheets,scripts:e.scripts,cssPreset:e.cssPreset,processors:e.processors,customSettings:e.customSettings,imports:e.imports,types:e.types,tests:e.tests,version:e.version}),$i=e=>({autoupdate:e.autoupdate,autosave:e.autosave,delay:e.delay,formatOnsave:e.formatOnsave,recoverUnsaved:e.recoverUnsaved,showSpacing:e.showSpacing,theme:e.theme,...Ct(e),...Ni(e)}),Ct=e=>({editor:e.editor??(e.readonly===!0?"codejar":void 0),fontFamily:e.fontFamily,fontSize:e.fontSize,useTabs:e.useTabs,tabSize:e.tabSize,lineNumbers:e.lineNumbers,wordWrap:e.wordWrap,closeBrackets:e.closeBrackets,emmet:e.emmet,editorMode:e.editorMode}),Ni=e=>({useTabs:e.useTabs,tabSize:e.tabSize,semicolons:e.semicolons,singleQuote:e.singleQuote,trailingComma:e.trailingComma}),Dt=e=>Cf(Tf(e));var sn={github:/^(?:(?:http|https):\/\/)?github.com\/(?:.*)/g,githubGist:/^(?:(?:http|https):\/\/)?gist.github.com(?:\/\S*)?\/(\w+)/g,gitlab:/^(?:(?:http|https):\/\/)?gitlab.com\/(?:.*)/g,codepen:/^(?:(?:http|https):\/\/)?codepen.io\/(\w+)\/pen\/(\w+)/g,jsbin:/^(?:(?:(?:http|https):\/\/)?(?:\w+.)?)?jsbin.com\/((\w)+(\/\d)?)(?:.*)/g};var Mf=(e,t=new RegExp(sn.github))=>{if(t.test(e))try{let r=Vw(e).pathname.split("/");return r[3]==="tree"||r.length===3}catch{return}},Vw=e=>e.startsWith("https://")?new URL(e):new URL("https://"+e);var Kw=(e,t=new RegExp(sn.github))=>{if(t.test(e))try{return Jw(e).pathname.split("/")[3]==="blob"}catch{return}},jf=e=>Mf(e)||Kw(e),Jw=e=>e.startsWith("https://")?new URL(e):new URL("https://"+e);var rn=(e,t,s)=>e.filter(r=>Re.includes(r)||He(r.name,t)).reduce((r,n)=>{if(n.compiler&&!r[n.name])if(typeof n.compiler=="string"){let i=e.find(o=>o.name===n.compiler)?.compiler;r[n.name]={...i,url:Uf(i.url,s),aliasTo:n.compiler}}else r[n.name]={...n.compiler,url:Uf(n.compiler.url,s)};return r},{}),Uf=(e,t)=>e?cs(e)?t+e:e:"";var Ft=(e=location.origin)=>Boolean(e&&(e.endsWith("livecodes.io")||e.endsWith("livecodes.pages.dev")||e.endsWith("localpen.io")||e.endsWith("localpen.pages.dev")||e.startsWith("http://127.0.0.1")||e.startsWith("http://localhost")));var Xw={load:async()=>{},getUser:async()=>{},signIn:async()=>{},signOut:async()=>{},isLoggedIn:()=>!1},Af=e=>{if(e)return Xw;let t,s,r,n,i,o,a,l,c,p;return{async load(){let d=await au("./firebase.2320ab0056e00906601c324a8f424a73.js");t=d.initializeApp,s=d.getApp,r=d.getAuth,n=d.signInWithPopup,i=d.signOut,o=d.GithubAuthProvider,a=d.firebaseConfig;try{l=s()}catch{l=t(a)}c=r(l),p=c.currentUser},async getUser(){return c||await this.load(),p?await Fi(p.uid)?Promise.resolve(await Di(p)):void 0:new Promise(d=>{let _=c.onAuthStateChanged(async b=>{b?(p=b,_(),d(await Di(p))):d(void 0)})})},async signIn(d=["gist","repo"]){c||await this.load();let _=new o;d.forEach(u=>_.addScope(u));let b=await n(c,_),f=o.credentialFromResult(b)?.accessToken;if(f)return p=b.user,await Qw(p.uid,f),await Of(p),Di(b.user)},async signOut(){c||await this.load(),await i(c),Zw(p?.uid),p=null},isLoggedIn(){return p!=null}}},Qw=async(e,t)=>{localStorage.setItem("token_"+e,await uf(t))},Fi=async e=>{if(!e)return null;let t=localStorage.getItem("token_"+e);return t?pf(t):null},qf=(e,t)=>{localStorage.setItem("username_"+e,t)},Zw=e=>{e&&(localStorage.removeItem("token_"+e),localStorage.removeItem("username_"+e))},Di=async e=>({uid:e.uid,displayName:e.displayName,username:await Of(e),email:e.email,photoURL:e.photoURL,token:await Fi(e.uid)}),Of=async e=>{let t=e.uid,s=localStorage.getItem("username_"+t);if(s)return s;let r=e.reloadUserInfo?.screenName;if(r)return qf(t,r),r;let o=(await(await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github.v3+json",Authorization:"token "+await Fi(t)}})).json()).login;return qf(t,o),o};var Pf={getModuleUrl:(e,{isModule:t=!0,defaultCDN:s="jspm"}={})=>{let r=i=>{let o=t&&i.startsWith("unpkg:")?"?module":"";for(let a of Yw){let[l,c]=a;if(l.test(i))return i.replace(l,c)+o}return null},n=r(e)||r(s+":"+e);return n||(t?"https://jspm.dev/"+e:"https://cdn.jsdelivr.net/npm/"+e)},getModuleInfoUrl:e=>`https://api.npms.io/v2/search?q=${e}&size=1`},Yw=[[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(jsdelivr.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(esm.run:)(.+)/i,"https://esm.run/$2"],[/^(esm.sh:)(.+)/i,"https://esm.sh/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(github:)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://raw.githack.com/$2/$3/$4"],[/^(github:)([^\/]+\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://raw.githack.com/$2/$3"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:)([^\/]+\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://raw.githack.com/$2/$3"]];var ex="https://livecodes-sandbox.pages.dev";var zi=ex,If="v5",kt={getResultUrl:()=>`${zi}/${If}/result`,getCompilerUrl:()=>`${zi}/${If}/compiler`,getOrigin:()=>new URL(zi).origin};var Rf="https://dpaste.com/",tx="https://dpaste.com/api/v2/",Hf="https://api2.livecodes.io/share",Bf={getProject:async e=>{try{let t=await fetch(Rf+e+".txt");return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{try{let t=await fetch(tx,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"LiveCodes / https://livecodes.io/"},body:`content=${encodeURIComponent(JSON.stringify(e))}&title=${encodeURIComponent(e.title||"")}&syntax=json&expiry_days=365`});return t.ok?(await t.text()).replace(Rf,""):""}catch{return""}}},sx={getProject:async e=>{if(e.length<11)return Bf.getProject(e);if(!Ft())return{};try{let t=await fetch(Hf+"?id="+e);return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{if(!Ft())return"";try{let t=await fetch(Hf,{method:"POST",mode:"cors",body:JSON.stringify(e)});return t.ok?t.text():""}catch{return""}}},$f=Ft()?sx:Bf;var Nf={getTypeUrls:async e=>{let t={};if(e.length>0&&Ft())try{t=await(await fetch("https://api.livecodes.io/types",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({types:e})})).json()}catch{}return t}};var Df=e=>new Promise(t=>{let s="compiler-frame";document.getElementById(s)?.remove();let n=document.createElement("iframe");n.name="compiler",n.id=s,n.style.width="0",n.style.height="0",n.style.visibility="hidden",n.style.position="absolute",n.setAttribute("sandbox","allow-same-origin allow-scripts"),n.src=e,document.body.appendChild(n),n.onload=()=>{t(n.contentWindow)}});var rx=/(import\s+?(?:(?:(?:[\w*\s{},\$]*)\s+from\s+?)|))((?:".*?")|(?:'.*?'))([\s]*?(?:;|$|))/g,nx=/(import\s*?\(\s*?((?:".*?")|(?:'.*?'))\s*?\))/g,zt=e=>[...$s(e).matchAll(new RegExp(rx)),...$s(e).matchAll(new RegExp(nx))].map(t=>t[2].replace(/"/g,"").replace(/'/g,"")),ix=e=>!e.startsWith("https://")&&!e.startsWith("http://")&&!e.startsWith(".")&&!e.startsWith("/")&&!e.startsWith("data:")&&!e.startsWith("blob:"),nn=(e,t)=>zt(e).map(s=>{if(ix(s)){let r=Object.keys(t.imports).find(n=>n===s||s.startsWith(n+"/"));return r?{[r]:t.imports[r]}:{[s]:Pf.getModuleUrl(s,{defaultCDN:t?.customSettings?.defaultCDN})}}else return{}}).reduce((s,r)=>({...s,...r}),{}),Vs=e=>zt(e).length>0,ox=e=>new RegExp(/(^export\s)|([\s|;]export\s)/).test(hi(e)),ax=e=>new RegExp(/(^await\s)|([\s|;]await\s)/).test(hi(e)),Ff=e=>Vs(e)||ox(e)||ax(e);var lx=/(?:@import\s+?)((?:".*?")|(?:'.*?')|(?:url\('.*?'\))|(?:url\(".*?"\)))(.*)?;/g,zf=e=>new RegExp(lx).test(e);var Wf=e=>{let t=$s(e);if(!/\b(require|module|exports)\b/.test(t))return e;let s=/(?:^|\s)require(?:\s*)\((?:\s*)('(.*?)'|"(.*?)")(?:\s*)\)/g,n=(l=>[...l.matchAll(new RegExp(s))].map(c=>c[1].replace(/"/g,"").replace(/'/g,"")))(t);if(n.length===0)return e;let i=n.map((l,c)=>[`import __requires_${c}_default from '${l}';`,`import * as __requires_${c} from '${l}';`].join(`
`)).join(`
`),o=`const __requires_lookup = { ${n.map((l,c)=>`'${l}': __requires_${c}_default || __requires_${c}`).join(", ")} };`;return[i,o,"window.require = window.require || ((id) => {\n	if (id in __requires_lookup) return __requires_lookup[id];\n	throw new Error(`Cannot require modules dynamically (${id})`);\n});","const exports = {}; const module = { exports };",e,"export default module.exports;"].join(`

`)};var Gf=async({config:e,baseUrl:t,eventsManager:s})=>{let r,n,i=kt.getOrigin(),o=3,a=async()=>new Promise(async f=>{r=rn([...Le,...Re],e,t);let u=kt.getCompilerUrl();n=await Df(u),s.addEventListener(window,"message",async h=>{h.origin===i&&h.data.type==="init-success"&&f("done")});let m={type:"init",payload:e,baseUrl:t,scriptUrl:t+"compiler-utils.5e788d97e36251f620072c63e799fbbd.js"};n.postMessage(m,i)}),l=f=>(u,{config:m,options:h})=>new Promise((v,x)=>{let w=L=>{let S=L.data;L.origin===i&&S.from==="compiler"&&(S.type==="compiled"||S.type==="compile-failed")&&S.payload.language===f&&S.payload.content===u&&(window.removeEventListener("message",w),S.type==="compiled"?v(S.payload.compiled):S.type==="compile-failed"&&x(f+` compile failed.
`+S.payload.error))};window.addEventListener("message",w);let g={type:"compile",payload:{content:u,language:f,config:m,options:h}};n.postMessage(g,i)}),c=(f,u)=>Promise.allSettled(f.map(m=>new Promise(async(h,v)=>{["jsx","tsx"].includes(m)&&(m="typescript");let x=r[m];if(x&&!x.fn){s.addEventListener(window,"message",async g=>{g.origin===i&&g.data.from==="compiler"&&g.data.type==="loaded"&&g.data.payload===m?(x.fn=l(m),h("done")):g.origin===i&&g.data.from==="compiler"&&g.data.type==="load-failed"&&g.data.payload===m&&(o===0?v(`Failed to load compiler for: ${m}.`):(o-=1,await a(),await c(Array.from(new Set([...f,u.markup.language,u.style.language,u.script.language])),u),h("done")))});let w={type:"load",payload:{language:m,config:u}};n.postMessage(w,i)}else h("done")}))),p={},d=async(f,u,m,h)=>{["jsx","tsx"].includes(u)&&(u="typescript");let v=Pp(u,m),x=zr(Si(u,m));if(!h?.forceCompile&&p[u]?.content===f&&p[u]?.processors===v&&p[u]?.languageSettings===x&&p[u]?.compiled)return p[u]?.compiled||"";r[u]&&!r[u].fn&&await c([u],m);let w=r[u]?.fn;if(typeof w!="function")return new Promise(S=>{u!=="html"&&u!=="css"&&u!=="javascript"&&console.error("Failed to load compiler for: "+u),S("")});let g=await w(f,{config:m,language:u,baseUrl:t,options:h})||"",L=await _(g,{config:m,language:u,baseUrl:t,options:h})||"";return p[u]={content:f,compiled:L,processors:v,languageSettings:zr(Si(u,m))},Promise.resolve(L)},_=async(f,{config:u,language:m,baseUrl:h,options:v})=>{let x=!1,w=ce(m)||"markup";w==="style"&&zf(f)&&(x=!0);for(let g of Re)if(Nt(g.name,u)&&Ei(g.name,u)&&g.editor===w||w==="style"&&g.name==="postcss")if(g.isPostcssPlugin)x=!0;else{if(g.name==="postcss"&&!x)continue;r[g.name]&&!r[g.name].fn&&await c([g.name],u);let L=r[g.name].fn||(S=>S);if(typeof L!="function")return console.error("Failed to load processor: "+g.name),f;f=await L(f,{config:u,language:m,baseUrl:h,options:v})}return f},b=()=>{Object.keys(p).forEach(f=>delete p[f])};return await a(),{load:c,compile:d,clearCache:b}};var Vf=e=>{let t=e.config.mode;return t==="codeblock"||t==="editor"?cx():Gf(e)};async function cx(){return{load:(e,t)=>Promise.resolve(["do nothing"]),compile:(e,t,s)=>Promise.resolve(e),clearCache:()=>{}}}var Kf=()=>{let e={},t=async n=>{let i="",o=Object.keys(n)[0],a=Object.values(n)[0],l=typeof a=="string"?a:a.url,c=typeof a=="string"||a.declareAsModule===!0;if(l)try{let d=await(await fetch(l)).text();i=c?`declare module '${o}' {${d}}`:d}catch{i=`declare module '${o}': any`}return e={...e,...n},{filename:`file:///node_modules/${o}/index.d.ts`,content:i}},s=n=>Promise.all(Object.keys(n).map(i=>t({[i]:n[i]})));return{load:async(n,i,o=!1)=>{let l=zt(n).reduce((_,b)=>{let f,u=Object.keys(e).find(h=>b===h)||Object.keys(e).find(h=>b.startsWith(h+"/"))&&!Object.keys(i).find(h=>b===h),m=Object.keys(i).find(h=>b===h)||Object.keys(i).find(h=>b.startsWith(h+"/"));return u&&!o?f={}:m?f={[m]:i[m]}:f={[b]:""},{..._,...f}},{}),c=Object.keys(l).filter(_=>l[_]===""),p=await Nf.getTypeUrls(c),d=iu(i,(_,b)=>(!Object.keys(e).includes(b)||o)&&typeof _!="string"&&_.autoload===!0);return s({...l,...p,...d})}}};var Jf={"@testing-library/dom":q+"@testing-library/dom.js","@testing-library/jest-dom":q+"@testing-library/jest-dom.js","@testing-library/react":q+"@testing-library/react.js",chai:mu};var Xf=async({code:e,config:t,forExport:s,template:r,baseUrl:n,singleFile:i,runTests:o})=>{let a=us(n),c=new DOMParser().parseFromString(r,"text/html");if(s)c.querySelector("script")?.remove();else{let h=c.createElement("script");h.src=a+"result-utils.eb7301df75f084e959c879afe515e2e5.js",c.head.appendChild(h)}if(c.title=t.title,t.customSettings.htmlClasses&&c.documentElement.classList.add(...t.customSettings.htmlClasses.split(" ")),t.customSettings.head&&(c.head.innerHTML+=t.customSettings.head),t.cssPreset){let h=Kd.find(v=>v.id===t.cssPreset)?.url;if(h){let v=c.createElement("link");v.rel="stylesheet",v.id="__livecodes__css-preset",v.href=us(h,a),c.head.appendChild(v)}}if(t.stylesheets.forEach(h=>{let v=c.createElement("link");v.rel="stylesheet",v.href=h,c.head.appendChild(v)}),i){let h=e.style.compiled,v=c.createElement("style");v.id="__livecodes_styles__",v.innerHTML=h,c.head.appendChild(v)}else{let h=c.createElement("link");h.rel="stylesheet",h.href="./style.css",c.head.appendChild(h)}t.cssPreset==="github-markdown-css"&&c.body.classList.add("markdown-body");let p=e.markup.compiled;c.body.innerHTML+=p,e.script.language==="blockly"&&c.querySelectorAll('script[type="blockly/script"], script[data-type="blockly/script"], xml[type="blockly/xml"], xml[data-type="blockly/xml"]').forEach(v=>v.remove());let d=["markup","style","script"].map(h=>({language:e[h].language,compiled:e[h].compiled})),_=o&&e.tests?.compiled||"",b=zt(p).includes("./script")||o&&!s&&zt(_).includes("./script"),f={};for(let{language:h,compiled:v}of d){let x=lt(h);if(!x)continue;if((typeof x.styles=="function"?x.styles({compiled:v,baseUrl:a,config:t}):x.styles||[]).forEach(L=>{let S=c.createElement("link");S.rel="stylesheet",S.href=cs(L)?a+L:L,c.head.appendChild(S)}),(typeof x.scripts=="function"?x.scripts({compiled:v,baseUrl:a,config:t}):x.scripts||[]).forEach(L=>{let S=c.createElement("script");S.src=cs(L)?a+L:L,x.deferScripts&&(S.defer=!0),c.head.appendChild(S)}),x.inlineScript){typeof x.inlineScript=="function"&&(x.inlineScript=await x.inlineScript({baseUrl:n}));let L=document.createElement("script");L.innerHTML=x.inlineScript,c.head.appendChild(L)}x.imports&&(f={...f,...Bs(x.imports,L=>us(L,n))})}let m={...t.customSettings.mapImports===!1?{}:{...Vs(e.script.compiled)?nn(e.script.compiled,t):{},...Vs(e.markup.compiled)?nn(e.markup.compiled,t):{},...o&&!s&&Vs(_)?nn(_,t):{},...b?{"./script":"data:text/javascript;base64,"+btoa(e.script.compiled)}:{}},...f,...o?Jf:{},...t.customSettings.imports};if(Object.keys(m).length>0){let h=c.createElement("script");h.src=yu,h.async=!0,c.head.appendChild(h);let v=c.createElement("script");v.type="importmap",v.innerHTML=`{"imports": ${JSON.stringify(m,null,2)}}`,c.head.appendChild(v)}if(t.scripts.forEach(h=>{let v=c.createElement("script");v.src=h,c.head.appendChild(v)}),!b){let h=e.script.compiled,v=c.createElement("script");i?v.innerHTML=fi(h):v.src="./script.js",c.body.appendChild(v);let x=lt(e.script.language)?.scriptType;x?v.type=x:t.customSettings.scriptType!=null?t.customSettings.scriptType&&(v.type=t.customSettings.scriptType):Ff(h)&&(v.type="module")}if(t.showSpacing&&!s){let h=c.createElement("script");h.src=mp,c.body.appendChild(h)}if(o&&!s){let h=c.createElement("script");h.src=Zu,c.body.appendChild(h);let v=c.createElement("script");v.type="module",v.innerHTML=`
const {
  afterAll,
  afterEach,
  beforeAll,
  beforeEach,
  describe,
  describe: { only: fdescribe, skip: xdescribe },
  it,
  test,
  test: { only: fit, skip: xtest, skip: xit },
  expect,
  jest } = window.jestLite.core;

${fi(_)}

window.jestLite.core.run().then(results => {
  parent.postMessage({type: 'testResults', payload: {results}}, '*');
}).catch((error) => {
  parent.postMessage({type: 'testResults', payload: {error: error.message || String(error)}}, '*');
});
    `,c.body.appendChild(v)}return`<!DOCTYPE html>
`+c.documentElement.outerHTML};var Qf=()=>document.querySelector("#toolbar"),Ks=()=>document.querySelector("#project-title"),Zf=()=>document.querySelector("#editor-container"),Yf=()=>document.querySelector("#editors"),em=()=>document.querySelector("#markup"),tm=()=>document.querySelector("#style"),sm=()=>document.querySelector("#script"),rm=()=>document.querySelector("#output"),Mt=()=>document.querySelector("#result"),vs=()=>document.querySelector("#result > iframe"),Wi=()=>document.querySelector("#editor-container .gutter"),Gi=()=>document.querySelector("#logo a"),Vi=()=>document.querySelector("#run-button"),Ki=()=>document.querySelector("#code-run-button"),on=()=>document.querySelector("#editor-tools"),nm=()=>document.querySelector("#editor-tools #copy-btn"),im=()=>document.querySelector("#editor-tools #undo-btn"),om=()=>document.querySelector("#editor-tools #redo-btn"),Js=()=>document.querySelector("#editor-tools #format-btn"),am=()=>document.querySelector("#editor-mode"),lm=()=>document.querySelector("#editor-tools #editor-status"),Ji=()=>document.querySelector("#editor-tools #external-resources-btn");var cm=()=>document.querySelector("#result-button"),um=()=>document.querySelector("#fullscreen-button"),Xi=()=>document.querySelectorAll(".editor-title:not(.hidden)"),pm=()=>document.querySelectorAll("#editors > .editor"),bs=()=>document.querySelector("#output #tools-pane"),dm=()=>document.querySelector("#output #tools-pane-bar"),an=()=>document.querySelector("#tools-pane-buttons"),fm=()=>document.querySelector("#tools-pane-titles"),mm=()=>document.querySelector("#tools-pane-loading"),hm=()=>document.querySelector("#zoom-button #zoom-value"),gm=()=>document.querySelector("#modal #prompt-save-btn"),_m=()=>document.querySelector("#modal #prompt-donot-save-btn"),ym=()=>document.querySelector("#modal #prompt-cancel-btn"),vm=()=>document.querySelector("#modal #prompt-recover-btn"),bm=()=>document.querySelector("#modal #prompt-save-previous-btn"),wm=()=>document.querySelector("#modal #prompt-cancel-recover-btn"),xm=()=>document.querySelector("#modal #unsaved-project-name"),Em=()=>document.querySelector("#modal #unsaved-project-last-modified"),Sm=()=>document.querySelector("#modal #disable-recover-checkbox"),Lm=()=>document.querySelectorAll("#select-editor .language-item a"),Tm=()=>document.querySelectorAll("#select-editor .language-menu-button"),Cm=()=>document.querySelector("#style-selector .dropdown-menu");var Qi=()=>document.querySelector("#login-link"),Zi=()=>document.querySelector("#logout-link");var km=()=>document.querySelector("#external-resources-link");var Mm=()=>document.querySelector("#settings-menu input#autoupdate"),jm=()=>document.querySelector("#settings-menu #delay-value"),Um=()=>document.querySelector("#settings-menu input#delay-range"),qm=()=>document.querySelector("#settings-menu input#autosave"),Am=()=>document.querySelector("#settings-menu input#autosync"),Om=()=>document.querySelector("#settings-menu input#formatOnsave"),Pm=()=>document.querySelectorAll("#style-selector input");var Im=()=>document.querySelector("#settings-menu input#theme"),Rm=()=>document.querySelector("#settings-menu input#recover-unsaved"),Hm=()=>document.querySelector("#settings-menu input#show-spacing"),Bm=()=>document.querySelectorAll("#css-preset-menu a");var $m=()=>document.querySelectorAll("#resources-container textarea"),Nm=()=>document.querySelector("#resources-container #resources-load-btn");var Dm=()=>document.querySelector("#test-container #run-tests-btn"),ln=()=>document.querySelector("#test-container #watch-tests-btn");var Xs=Xe(X),Fm={...Xs,markup:{...Xs.markup,compiled:"",modified:""},style:{...Xs.style,compiled:"",modified:""},script:{...Xs.script,compiled:"",modified:""},tests:{language:"javascript",...Xs.tests,compiled:""},result:"",styleOnlyUpdate:!1},re=Fm,we=()=>({...re}),Yi=(e=Fm)=>{re={...e,markup:{modified:e.markup.compiled===re.markup.compiled?re.markup.modified:"",...e.markup},style:{modified:e.style.compiled===re.style.compiled?re.style.modified:"",...e.style},script:{modified:e.script.compiled===re.script.compiled?re.script.modified:"",...e.script},tests:{language:"javascript",compiled:"",...e.tests},result:e.result||""}},Qs=(e,t,s)=>{re[e].language===t&&(re[e].modified=s)},eo=()=>({markup:{language:re.markup.language,content:re.markup.content||"",compiled:re.markup.modified||re.markup.compiled||""},style:{language:re.style.language,content:re.style.content||"",compiled:re.style.modified||re.style.compiled||""},script:{language:re.script.language,content:re.script.content||"",compiled:re.script.modified||re.script.compiled||""},result:re.result||""});var Zs=(e,t)=>{let s={...e};return t.forEach(r=>delete s[r]),s},zm=(e,t)=>{let s=["activeEditor","title","description","tests"],r=["compiled","modified"],n={...Zs(e,["result","styleOnlyUpdate",...s]),markup:Zs(e.markup,r),style:Zs(e.style,r),script:Zs(e.script,r)},i=Zs(t,s);return JSON.stringify(n)===JSON.stringify(i)};var Wm=e=>{let t=Qi();t&&(t.style.display="none");let s=Zi();if(s){let r=e.displayName||e.username;s.innerHTML="Log out",s.classList.add("hint--bottom"),s.dataset.hint="Logged in as "+r,s.style.display="block"}};var Ne=typeof window<"u"?window:null,so=Ne===null,er=so?void 0:Ne.document,Qe="addEventListener",Ze="removeEventListener",to="getBoundingClientRect",Ys="_a",Ye="_b",vt="_c",cn="horizontal",et=function(){return!1},fx=so?"calc":["","-webkit-","-moz-","-o-"].filter(function(e){var t=er.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length}).shift()+"calc",Vm=function(e){return typeof e=="string"||e instanceof String},Gm=function(e){if(Vm(e)){var t=er.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},Te=function(e,t,s){var r=e[t];return r!==void 0?r:s},un=function(e,t,s,r){if(t){if(r==="end")return 0;if(r==="center")return e/2}else if(s){if(r==="start")return 0;if(r==="center")return e/2}return e},mx=function(e,t){var s=er.createElement("div");return s.className="gutter gutter-"+t,s},hx=function(e,t,s){var r={};return Vm(t)?r[e]=t:r[e]=fx+"("+t+"% - "+s+"px)",r},gx=function(e,t){var s;return s={},s[e]=t+"px",s},_x=function(e,t){if(t===void 0&&(t={}),so)return{};var s=e,r,n,i,o,a,l;Array.from&&(s=Array.from(s));var c=Gm(s[0]),p=c.parentNode,d=getComputedStyle?getComputedStyle(p):null,_=d?d.flexDirection:null,b=Te(t,"sizes")||s.map(function(){return 100/s.length}),f=Te(t,"minSize",100),u=Array.isArray(f)?f:s.map(function(){return f}),m=Te(t,"maxSize",1/0),h=Array.isArray(m)?m:s.map(function(){return m}),v=Te(t,"expandToMin",!1),x=Te(t,"gutterSize",10),w=Te(t,"gutterAlign","center"),g=Te(t,"snapOffset",30),L=Array.isArray(g)?g:s.map(function(){return g}),S=Te(t,"dragInterval",1),R=Te(t,"direction",cn),$=Te(t,"cursor",R===cn?"col-resize":"row-resize"),ot=Te(t,"gutter",mx),Oe=Te(t,"elementStyle",hx),Se=Te(t,"gutterStyle",gx);R===cn?(r="width",n="clientX",i="left",o="right",a="clientWidth"):R==="vertical"&&(r="height",n="clientY",i="top",o="bottom",a="clientHeight");function V(U,C,M,A){var be=Oe(r,C,M,A);Object.keys(be).forEach(function(le){U.style[le]=be[le]})}function ye(U,C,M){var A=Se(r,C,M);Object.keys(A).forEach(function(be){U.style[be]=A[be]})}function j(){return l.map(function(U){return U.size})}function B(U){return"touches"in U?U.touches[0][n]:U[n]}function K(U){var C=l[this.a],M=l[this.b],A=C.size+M.size;C.size=U/this.size*A,M.size=A-U/this.size*A,V(C.element,C.size,this[Ye],C.i),V(M.element,M.size,this[vt],M.i)}function oe(U){var C,M=l[this.a],A=l[this.b];this.dragging&&(C=B(U)-this.start+(this[Ye]-this.dragOffset),S>1&&(C=Math.round(C/S)*S),C<=M.minSize+M.snapOffset+this[Ye]?C=M.minSize+this[Ye]:C>=this.size-(A.minSize+A.snapOffset+this[vt])&&(C=this.size-(A.minSize+this[vt])),C>=M.maxSize-M.snapOffset+this[Ye]?C=M.maxSize+this[Ye]:C<=this.size-(A.maxSize-A.snapOffset+this[vt])&&(C=this.size-(A.maxSize+this[vt])),K.call(this,C),Te(t,"onDrag",et)(j()))}function Ke(){var U=l[this.a].element,C=l[this.b].element,M=U[to](),A=C[to]();this.size=M[r]+A[r]+this[Ye]+this[vt],this.start=M[i],this.end=M[o]}function at(U){if(!getComputedStyle)return null;var C=getComputedStyle(U);if(!C)return null;var M=U[a];return M===0?null:(R===cn?M-=parseFloat(C.paddingLeft)+parseFloat(C.paddingRight):M-=parseFloat(C.paddingTop)+parseFloat(C.paddingBottom),M)}function ke(U){var C=at(p);if(C===null||u.reduce(function(le,Ie){return le+Ie},0)>C)return U;var M=0,A=[],be=U.map(function(le,Ie){var Bt=C*le/100,Nr=un(x,Ie===0,Ie===U.length-1,w),Dr=u[Ie]+Nr;return Bt<Dr?(M+=Dr-Bt,A.push(0),Dr):(A.push(Bt-Dr),Bt)});return M===0?U:be.map(function(le,Ie){var Bt=le;if(M>0&&A[Ie]-M>0){var Nr=Math.min(M,A[Ie]-M);M-=Nr,Bt=le-Nr}return Bt/C*100})}function H(){var U=this,C=l[U.a].element,M=l[U.b].element;U.dragging&&Te(t,"onDragEnd",et)(j()),U.dragging=!1,Ne[Ze]("mouseup",U.stop),Ne[Ze]("touchend",U.stop),Ne[Ze]("touchcancel",U.stop),Ne[Ze]("mousemove",U.move),Ne[Ze]("touchmove",U.move),U.stop=null,U.move=null,C[Ze]("selectstart",et),C[Ze]("dragstart",et),M[Ze]("selectstart",et),M[Ze]("dragstart",et),C.style.userSelect="",C.style.webkitUserSelect="",C.style.MozUserSelect="",C.style.pointerEvents="",M.style.userSelect="",M.style.webkitUserSelect="",M.style.MozUserSelect="",M.style.pointerEvents="",U.gutter.style.cursor="",U.parent.style.cursor="",er.body.style.cursor=""}function ue(U){if(!("button"in U&&U.button!==0)){var C=this,M=l[C.a].element,A=l[C.b].element;C.dragging||Te(t,"onDragStart",et)(j()),U.preventDefault(),C.dragging=!0,C.move=oe.bind(C),C.stop=H.bind(C),Ne[Qe]("mouseup",C.stop),Ne[Qe]("touchend",C.stop),Ne[Qe]("touchcancel",C.stop),Ne[Qe]("mousemove",C.move),Ne[Qe]("touchmove",C.move),M[Qe]("selectstart",et),M[Qe]("dragstart",et),A[Qe]("selectstart",et),A[Qe]("dragstart",et),M.style.userSelect="none",M.style.webkitUserSelect="none",M.style.MozUserSelect="none",M.style.pointerEvents="none",A.style.userSelect="none",A.style.webkitUserSelect="none",A.style.MozUserSelect="none",A.style.pointerEvents="none",C.gutter.style.cursor=$,C.parent.style.cursor=$,er.body.style.cursor=$,Ke.call(C),C.dragOffset=B(U)-C.end}}b=ke(b);var ve=[];l=s.map(function(U,C){var M={element:Gm(U),size:b[C],minSize:u[C],maxSize:h[C],snapOffset:L[C],i:C},A;if(C>0&&(A={a:C-1,b:C,dragging:!1,direction:R,parent:p},A[Ye]=un(x,C-1===0,!1,w),A[vt]=un(x,!1,C===s.length-1,w),_==="row-reverse"||_==="column-reverse")){var be=A.a;A.a=A.b,A.b=be}if(C>0){var le=ot(C,R,M.element);ye(le,x,C),A[Ys]=ue.bind(A),le[Qe]("mousedown",A[Ys]),le[Qe]("touchstart",A[Ys]),p.insertBefore(le,M.element),A.gutter=le}return V(M.element,M.size,un(x,C===0,C===s.length-1,w),C),C>0&&ve.push(A),M});function $r(U){var C=U.i===ve.length,M=C?ve[U.i-1]:ve[U.i];Ke.call(M);var A=C?M.size-U.minSize-M[vt]:U.minSize+M[Ye];K.call(M,A)}l.forEach(function(U){var C=U.element[to]()[r];C<U.minSize&&(v?$r(U):U.minSize=C)});function N0(U){var C=ke(U);C.forEach(function(M,A){if(A>0){var be=ve[A-1],le=l[be.a],Ie=l[be.b];le.size=C[A-1],Ie.size=M,V(le.element,le.size,be[Ye],le.i),V(Ie.element,Ie.size,be[vt],Ie.i)}})}function D0(U,C){ve.forEach(function(M){if(C!==!0?M.parent.removeChild(M.gutter):(M.gutter[Ze]("mousedown",M[Ys]),M.gutter[Ze]("touchstart",M[Ys])),U!==!0){var A=Oe(r,M.a.size,M[Ye]);Object.keys(A).forEach(function(be){l[M.a].element.style[be]="",l[M.b].element.style[be]=""})}})}return{setSizes:N0,getSizes:j,collapse:function(C){$r(l[C])},destroy:D0,parent:p,pairs:ve}},pn=_x;var ro=()=>{let t=!1,s=pn(["#editors","#output"],{minSize:[0,0],gutterSize:10,elementStyle:(a,l,c)=>(window.dispatchEvent(new Event($e.resizeEditor)),{"flex-basis":`calc(${l}% - ${c}px)`}),gutterStyle:(a,l)=>({"flex-basis":`${l}px`}),onDragStart(){n(!1)},onDragEnd(){n(!0)}}),r=document.querySelector(".gutter");if(r){let a=document.createElement("div");a.id="handle",r.appendChild(a)}let n=a=>{let l=document.querySelector("#editors"),c=document.querySelector("#output");!c||!l||(a?(l.style.transition="flex-basis 0.5s",c.style.transition="flex-basis 0.5s"):(l.style.transition="none",c.style.transition="none"))},i=(a,l=!1)=>{let c=window.innerWidth<800,p=c||l?[100,0]:[50,50],d=c||l?[0,100]:[50,50];a==="code"&&(s.getSizes()[0]<10||l)?s.setSizes(p):a==="output"&&(s.getSizes()[1]<10||l)&&(s.getSizes()[0]<10?s.setSizes(p):s.setSizes(d))},o=(a,l)=>{t||(s.destroy(a,l),t=!0)};return n(!0),{show:i,destroy:o}};var Km=(e,t,s,r,n,i)=>{let o,a,l,c=()=>{if(o)return;let u=bs(),m=document.createElement("div");m.id="compiled-code-container",u.appendChild(m),o=document.createElement("div"),o.id="compiled-code",m.appendChild(o);let h=an();h&&(l=document.createElement("div"),l.id="compiled-code-language-label",l.style.display="none",h.prepend(l))},p=(u=!1)=>{if(a&&!u)return a;let m={baseUrl:t,container:o,language:"javascript",value:"",readonly:!0,mode:e.mode,editorId:"compiled",theme:e.theme,isEmbed:n,mapLanguage:St,getLanguageExtension:fs,getFormatterConfig:()=>({}),getFontFamily:ms,...Ct(e)};return Lt(m)},d=(u,m)=>{if(u==="javascript"&&window.monaco&&a.monaco){a?.setValue(m+`
export {}`);let h=a.monaco,v=h.getModel()?.getLineCount()||1;h.setHiddenAreas([]),h.setHiddenAreas([new window.monaco.Range(v+1,0,v+2,0)])}},_=(u,m,h)=>{if(a&&(a.setLanguage(u,m),d(u,m),l)){let v=Le.find(w=>w.name===h),x=v?.longTitle||v?.title||h||"";l.innerHTML=x}},b=async()=>{c(),a=await p()};return{name:"compiled",title:"Compiled",load:b,onActivate:()=>{l&&(l.style.display="unset")},onDeactivate:()=>{l&&(l.style.display="none")},getEditor:()=>a,update:_,reloadEditor:async u=>{if(e=u,!o){await b();return}a?.destroy(),a=await p(!0)}}};var Rc=ru(p0());var d0=(e,t,s,r,n,i)=>{let o,a,l,c="#result > iframe",p,d=[],_=-1,b=()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()},f=g=>{let L=g.substr(1,4);if(["html","head"].includes(L))return g;if(L==="body"){let R=document.createElement(L);return R.innerHTML=g,R}let S=document.createElement("template");return g=g.trim(),S.innerHTML=g,S.content.firstChild},u=g=>g.map(L=>L.type==="element"?f(L.content):L.content),m=()=>o?(o.destroy(),o=new Rc.default(l),o):(o=new Rc.default(l),r.addEventListener(window,"message",g=>{if(!l||g.origin!==kt.getOrigin()||g.data.type!=="console")return;let L=g.data;["output","log","error","info","warn","dir","time","timeLog","timeEnd","clear","count","countReset","assert","table","group","groupCollapsed","groupEnd"].includes(L.method)&&o[L.method](...u(L.args))}),o),h=async(g=!1)=>{if(a&&!g)return a;let L=document.querySelector("#console-input");if(!L)throw new Error("Console input container not found");let S={baseUrl:t,container:L,language:"javascript",value:"",readonly:!1,mode:e.mode,editorId:"console",theme:e.theme,isEmbed:n,mapLanguage:St,getLanguageExtension:fs,getFormatterConfig:()=>({}),getFontFamily:ms,...Ct(e)},R=await Lt(S);R.addKeyBinding("exec",R.keyCodes.Enter,()=>{let V=R.getValue(),ye=document.querySelector(c);o.insert({type:"input",args:[V],ignoreFilter:!0}),ye.contentWindow?.postMessage({console:V},"*"),d.push(V),R.setValue("",!1),_=-1}),R.addKeyBinding("prev",R.keyCodes.UpArrow,()=>{let V=_===-1?d.length:_;_=V===0?0:V-1,R.setValue(d[_])}),R.addKeyBinding("next",R.keyCodes.DownArrow,()=>{let V=_===-1?d.length-1:_;_=V===d.length-1?-1:V+1,R.setValue(d[_]||"")});let $=25;if(L.style.minHeight=$+"px",R.onContentChanged(()=>{if(!R.monaco)return;let V=R.monaco.getContentHeight()<$?$:R.monaco.getContentHeight()*2;L.style.height=V+"px"}),a)return R;new MutationObserver(()=>{let V=l.querySelectorAll(".luna-console-input pre.luna-console-code:not(.visible)");V.length!==0&&V.forEach(ye=>{let j=/(luna-console-)(?!keyword|string|operator|number|json|hidden)/g;ye.innerHTML=ye.innerHTML.replace(j,""),ye.classList.add("visible")})}).observe(l,{subtree:!0,childList:!0});let Oe=R.monaco?".glyph-margin":".cm-gutters",Se=document.querySelector("#console-input "+Oe);if(Se){let V=document.createElement("div");V.id="console-input-indicator",V.innerHTML='<svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align: top;"><g><path d="m16.6 10l10 10-10 10-2.3-2.3 7.7-7.7-7.7-7.7z"></path></g></svg>',Se.appendChild(V)}return R},v=()=>{if(l)return;let g=bs(),L=document.createElement("div");L.id="console-container",g.appendChild(L),l=document.createElement("div"),l.id="console",L.appendChild(l);let S=document.createElement("div");S.id="console-input",L.appendChild(S);let R=an();if(R){let $=document.createElement("span");$.classList.add("hint--top-left"),$.dataset.hint="Clear console",p=document.createElement("button"),p.classList.add("clear-button"),p.style.display="none",r.addEventListener(p,"click",()=>{o.clear()},!1),r.addEventListener(p,"touchstart",()=>{o.clear()},!1),$.appendChild(p),R.prepend($)}},x=async()=>{v(),o=m(),!(e.readonly||e.mode==="codeblock"||e.mode==="editor")&&(a=await h())};return{name:"console",title:"Console",load:x,onActivate:()=>{!Hs()&&!n&&a?.focus(),p&&(p.style.display="unset")},onDeactivate:()=>{b(),p&&(p.style.display="none")},getEditor:()=>a,reloadEditor:async g=>{if(e=g,!a){await x();return}a?.destroy(),a=await h(!0)},log:(...g)=>o?.log(...g),info:(...g)=>o?.info(...g),table:(...g)=>o?.table(...g),warn:(...g)=>o?.warn(...g),error:(...g)=>o?.error(...g),clear:()=>o?.clear(),evaluate:g=>o?.evaluate(g)}};var f0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Play</title><path d="M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/></svg>',m0='<svg xmlns="http://www.w3.org/2000/svg" class="checked" viewBox="0 0 512 512"><title>Checkbox</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M352 176L217.6 336 160 272"/><rect x="64" y="64" width="384" height="384" rx="48" ry="48" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"/></svg>',h0='<svg xmlns="http://www.w3.org/2000/svg" class="unchecked" viewBox="0 0 512 512"><title>Square</title><path d="M416 448H96a32.09 32.09 0 01-32-32V96a32.09 32.09 0 0132-32h320a32.09 32.09 0 0132 32v320a32.09 32.09 0 01-32 32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>',g0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>Refresh</title><path d="M320 146s24.36-12-64-12a160 160 0 10160 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 58l80 80-80 80"/></svg>',_0='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>';var y0=(e,t,s,r,n,i)=>{let o,a='<div class="test-summary">Loading tests...</div>',l=()=>{if(o)return;let _=bs(),b=document.createElement("div");b.id="test-container",_.appendChild(b);let f=document.createElement("div");f.id="test-actions",f.classList.add("buttons"),f.innerHTML=`
    <a id="run-tests-btn" href="#" class="button hint--top" data-hint="Ctrl/Cmd + Alt + T">
      ${f0} Run
    </a>
    <a id="watch-tests-btn" href="#" class="button disabled hint--top" data-hint="Run tests when code changes">
      ${m0} ${h0} Watch
    </a>
    <a id="reset-tests-btn" href="#" class="button">${g0} Reset</a>
    ${n?"":'<a id="edit-tests-btn" href="#" class="button">'+_0+" Edit</a>"}
    `,b.appendChild(f),o=document.createElement("div"),o.id="test-results",o.classList.add("luna-console"),o.innerHTML=a,b.appendChild(o),r.addEventListener(document.querySelector("#reset-tests-btn"),"click",u=>{u.preventDefault(),c()})},c=()=>{o.querySelectorAll(".test-result").forEach(b=>{b.querySelectorAll(".test-error").forEach(f=>f.remove()),b.classList.contains("pass")&&b.classList.remove("pass"),b.classList.contains("fail")&&b.classList.remove("fail")});let _=o.querySelector(".test-summary");_&&(_.innerText="")};return{name:"tests",title:"Tests",load:async()=>{l()},onActivate:()=>{i()},onDeactivate:()=>{},showResults:({results:_,error:b})=>{if(o||l(),o.innerHTML="",b){o.innerHTML='<div class="no-tests"><span class="fail">Test error!</span></div>';return}if(_.length===0){o.innerHTML='<div class="no-tests">This project has no tests!</div>';return}_.forEach(x=>{let w=document.createElement("div");w.innerText=x.testPath.filter(g=>g!=="ROOT_DESCRIBE_BLOCK").join(" \u203A "),w.classList.add("test-result",x.status),x.errors.map(g=>g.split("at Object.<anonymous>")[0]?.trim()).map(g=>g.startsWith("AssertionError: ")?g.replace("AssertionError: ",""):g).forEach(g=>{let L=document.createElement("pre");L.classList.add("test-error"),L.innerText=g,w.appendChild(L)}),o.appendChild(w)});let f=_.filter(x=>x.status==="pass").length,u=_.filter(x=>x.status==="fail").length,m=_.length,h=_.reduce((x,w)=>x+w.duration,0)/1e3,v=document.createElement("div");v.classList.add("test-summary"),v.innerHTML=`
    Tests: ${u!==0?'<span class="fail">'+u+" failed</span>,":""}
           ${f!==0?'<span class="pass">'+f+" passed</span>,":""}
           ${m} total <br />
    Time: ${h}s
`,o.prepend(v)},resetTests:c,clearTests:()=>{o&&(o.innerHTML=a)}}};var v0=(e,t,s,r,n,i)=>{let o,a,l=0,c=[{name:"console",factory:d0},{name:"compiled",factory:Km},{name:"tests",factory:y0}],p=j=>e.tools.enabled==="all"||e.tools.enabled.includes(j.name),d=c.filter(p),b=((j,B,K,oe,Ke,at)=>d.map(ke=>ke.factory(j,B,K,oe,Ke,at)))(e,t,s,r,n,i),f=[...b],u=Mt(),m=30,h={closed:[100,0],open:[60,40],full:[0,100],none:[100,0],"":[100,0]},v=j=>{j?u.style.transition="height 0.5s":u.style.transition="none"},x=j=>{j?(o.collapse(1),u.style.minHeight="100%"):u.style.minHeight="unset"},w=j=>{l=j,document.querySelectorAll("#tools-pane-bar .tools-pane-title").forEach((B,K)=>{j===K?B.classList.add("active"):B.classList.remove("active")}),document.querySelectorAll("#tools-pane > div").forEach((B,K)=>{j===K?B.classList.add("active"):B.classList.remove("active")}),f.forEach((B,K)=>{j===K?B.onActivate():B.onDeactivate()})},g=()=>{let j=document.querySelector("#tools-pane-bar #tools-pane-buttons");o.getSizes()[0]>90?j.style.visibility="hidden":j.style.visibility==="hidden"&&(j.style.visibility="visible",f[l]?.onActivate())},L=(j,B=!1)=>{B?(o.collapse(0),a="full"):(o.setSizes(h.open),a="open"),g(),w(j)},S=()=>{o.collapse(1),a="closed",g(),f.forEach(j=>j.onDeactivate())},R=()=>{if(o)return o;o=pn(["#result","#tools-pane"],{sizes:h.closed,gutterSize:m,direction:"vertical",elementStyle:(ke,H,ue)=>({height:`calc(${H}% - ${ue}px)`}),gutterStyle:(ke,H)=>({height:`${H}px`}),onDragStart(){v(!1)},onDragEnd(){v(!0)},onDrag(){g()}});let j=document.querySelector("#output .gutter");j.id="tools-pane-bar";let B=document.createElement("div");B.id="tools-pane-titles",j.appendChild(B),f.forEach((ke,H)=>{let ue=document.createElement("div");ue.dataset.id=String(H),ue.classList.add("tools-pane-title",ke.name),ue.innerHTML=ke.title,B.appendChild(ue);let ve;r.addEventListener(ue,"click",$r=>{$r.detail===1&&(ve=setTimeout(()=>{o.getSizes()[0]>90?L(H):ue.classList.contains("active")?S():w(H)},200))},!1),r.addEventListener(ue,"dblclick",()=>{clearTimeout(ve),o.getSizes()[0]<10?S():L(H,!0)},!1),r.addEventListener(ue,"touchstart",()=>{o.getSizes()[0]>90?L(H):ue.classList.contains("active")?S():w(H)},{capture:!1,passive:!0})}),r.addEventListener(window,"resize",()=>{let ke=document.querySelector("#tools-pane");ke&&(o.getSizes()[0]<10?(u.style.height="0",ke.style.height=`calc(100% - ${m}px)`):o.getSizes()[0]>90&&(u.style.height=`calc(100% - ${m}px)`,ke.style.height="0"))},!1);let K=document.createElement("div");K.id="tools-pane-loading",K.style.display="none",j.appendChild(K);let oe=document.createElement("div");oe.id="tools-pane-buttons",j.appendChild(oe);let Ke=document.createElement("span");Ke.classList.add("hint--top-left"),Ke.dataset.hint="Close";let at=document.createElement("button");return at.classList.add("delete-button"),r.addEventListener(at,"click",()=>{S()},!1),r.addEventListener(at,"touchstart",()=>{S()},!1),Ke.appendChild(at),oe.appendChild(Ke),o},$=j=>{x(j==="none"),j==="closed"?S():j==="full"?L(l,!0):j==="open"&&L(l),a=j,g()},ot=async()=>{let j=a===void 0;l=Oe(e.tools.active),a=e.tools.status||"closed",j&&(o=R(),o.setSizes(h[a]),g(),a==="none"&&(dm().style.pointerEvents="none"),f.forEach(async B=>{await B.load()})),w(l)},Oe=j=>{let B=f.findIndex(K=>K?.name===j);return B>-1?B:0},ye={load:ot,open:()=>$("open"),close:()=>$("closed"),maximize:()=>$("full"),hide:()=>$("none"),getStatus:()=>a,getActiveTool:()=>f[l]?.name,setActiveTool:j=>w(Oe(j)),disableTool:j=>{let B=f.findIndex(oe=>oe?.name===j);if(B===-1)return;delete f[B],l===B&&w(f.findIndex(oe=>oe)),j in ye&&delete ye[j];let K=document.querySelector("#tools-pane-titles ."+j);K&&(K.classList.remove("active"),K.style.display="none"),f.filter(oe=>oe).length===0&&$("none")},enableTool:j=>{let B=b.findIndex(oe=>oe.name===j);if(B===-1||f.find(oe=>oe?.name===j))return;f.filter(oe=>oe).length===0&&($("closed"),w(B)),ye[j]=b[B],f[B]=b[B];let K=document.querySelector(".tools-pane-title."+j);K&&(K.style.display="flex")},...d.reduce((j,B,K)=>({...j,[B.name]:f[K]}),{})};return ye};var Z={projects:void 0,templates:void 0,assets:void 0,snippets:void 0,recover:void 0,userConfig:void 0,userData:void 0,appData:void 0,sync:void 0},I=tf(),Ht=xf(),Pe=Ef(),ge=ro(),VM=Kf(),Dc=[],Ae=tn(),_e,F,ri,is,Rr,D,as,te,As,_t,b0=[],os,Fc=!0,Os=!1,Hc,ni,ii=!1,x0=!1,Bc=!1,oi={isBroadcasting:!1,channel:"",channelUrl:"",channelToken:"",broadcastSource:!1},$c=null,zc=(e="markup")=>_t?.[e],Wc=()=>Object.values(_t||{}),Et=()=>D[T().activeEditor||"markup"],KM=async e=>ui(e.activeEditor),JM=()=>Promise.all([fp,Qu,rp,np].map(e=>ds(e,void 0,"#app-styles"))),E0=(e,t="",s=kt)=>new Promise((r,n)=>{if(!e){n("Result container not found");return}let i=vs();i||(i=document.createElement("iframe"),i.name="result",i.id="result-frame",i.setAttribute("allow","accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share"),i.setAttribute("allowtransparency","true"),i.setAttribute("allowpaymentrequest","true"),i.setAttribute("allowfullscreen","true"),i.setAttribute("sandbox","allow-same-origin allow-downloads allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-presentation allow-scripts")),["codeblock","editor"].includes(T().mode)&&(t="");let o=zc("script")||"javascript",a=rn(Le,T(),_e),l=`${T().markup.content}
      ${T().style.content}
      ${T().script.content}
      `,c=i.parentElement===e,p=c&&we().styleOnlyUpdate,d=c&&a[o]?.liveReload&&b0.includes(o)&&!l.includes("__livecodes_reload__");if(p){let f=new DOMParser().parseFromString(t,"text/html").querySelector("#__livecodes_styles__");if(f){let u=f.innerHTML;i.contentWindow?.postMessage({styles:u},s.getOrigin())}else i.contentWindow?.postMessage({result:t},s.getOrigin());r("loaded")}else if(d)i.contentWindow?.postMessage({result:t},s.getOrigin()),r("loaded");else{let _=!1;I.addEventListener(i,"load",function h(){if(I.removeEventListener(i,"load",h),!t||_){r("loaded");return}i.contentWindow?.postMessage({result:t},s.getOrigin()),_=!0,r("loaded")}),i.remove();let{markup:b,style:f,script:u}=T(),m=`?markup=${b.language}&style=${f.language}&script=${u.language}&isEmbed=${F}&isLoggedIn=${Boolean(As?.isLoggedIn())}`;i.src=s.getResultUrl()+m,e.appendChild(i)}b0=Wc()}),Gc=async(e,t)=>{let s=t.script.language;if(e.script&&["typescript","javascript"].includes(St(s))&&typeof e.script.addTypes=="function"){let r={...lt(s)?.types,...t.types,...t.customSettings.types};(await VM.load(T().script.content||"",r)).forEach(i=>e.script.addTypes?.(i))}},XM=(e,t)=>{document.querySelectorAll(`.dropdown-menu-${e} .language-item a`).forEach(r=>{r.dataset.lang===t?r.parentElement?.classList.add("active"):r.parentElement?.classList.remove("active")})},ai=(e,t)=>{let s=document.querySelector(`#${e}-selector span`),r=Y(t);!s||!r||(s.innerHTML=Le.find(n=>n.name===r)?.title||"",XM(e,r))},QM=()=>{let e=["markup","style","script"],t=`<span><img src="${_e}assets/images/copy.svg" alt="copy"></span>`;e.forEach(s=>{let r=document.createElement("div");r.innerHTML=t,r.classList.add("copy-button","tool-buttons"),r.title="Copy",document.getElementById(s)?.appendChild(r),I.addEventListener(r,"click",()=>{mi(D?.[s]?.getValue())&&(r.innerHTML=`<span><img src="${_e}assets/images/tick.svg" alt="copied"></span>`,r.classList.add("hint--left","visible"),r.dataset.hint="Copied!",r.title="",setTimeout(()=>{r.innerHTML=t,r.classList.remove("hint--left","visible"),r.dataset.hint="",r.title="Copy"},2e3))})})},ZM=async e=>{D&&(Object.values(D).forEach(l=>l.destroy()),tj());let t={baseUrl:_e,mode:e.mode,readonly:e.readonly,theme:e.theme,...Ct(e),isEmbed:F,mapLanguage:St,getLanguageExtension:fs,getFormatterConfig:()=>Ni(T()),getFontFamily:ms},s={...t,container:em(),editorId:"markup",language:He(e.markup.language,e)?e.markup.language:e.languages?.find(l=>ce(l)==="markup")||"html",value:He(e.markup.language,e)&&e.markup.content||""},r={...t,container:tm(),editorId:"style",language:He(e.style.language,e)?e.style.language:e.languages?.find(l=>ce(l)==="style")||"css",value:He(e.style.language,e)&&e.style.content||""},n={...t,container:sm(),editorId:"script",language:He(e.script.language,e)?e.script.language:e.languages?.find(l=>ce(l)==="script")||"javascript",value:He(e.script.language,e)&&e.script.content||""},i=await Lt(s),o=await Lt(r),a=await Lt(n);ai("markup",s.language),ai("style",r.language),ai("script",n.language),_t={markup:s.language,style:r.language,script:n.language},D={markup:i,style:o,script:a},Object.keys(D).forEach(async l=>{let c=_t?.[l]||"html";C0(c),D[l].registerFormatter(await Rr.getFormatFn(c)),sj(l,D)}),e.mode==="codeblock"&&QM()};var YM=async(e,t)=>{let s=Object.keys(e);for(let r of s){let n=Y(t[r].language);n&&await Kc(n,t[r].content,!0)}},S0=e=>{let s={full:"111",editor:"110",codeblock:"010",result:"001"}[e.mode]||"111",r=Qf(),n=Zf(),i=Yf(),o=rm(),a=Mt(),l=Wi(),c=Vi(),p=Ki(),d=on(),_=s[0]==="1",b=s[1]==="1",f=s[2]==="1";r.style.display="flex",i.style.display="flex",a.style.display="flex",o.style.display="block",l.style.display="block",c.style.visibility="visible",p.style.visibility="visible",_||(r.style.display="none",n.style.height="100%"),b||(o.style.flexBasis="100%",i.style.display="none",ge?.destroy(!0),ge=null),f||(i.style.flexBasis="100%",o.style.display="none",a.style.display="none",p.style.display="none",ge?.destroy(!0),ge=null),(e.mode==="editor"||e.mode==="codeblock")&&(c.style.visibility="hidden",p.style.visibility="hidden"),e.mode==="codeblock"&&(d.style.display="none"),e.mode==="result"&&(["full","open","closed"].includes(te?.getStatus()||"")||te?.hide()),e.mode==="full"&&!ge&&(ge=ro()),window.dispatchEvent(new Event($e.resizeEditor))},ui=(e="markup",t=!1)=>{let s=Xi();(()=>Array.from(s).map(a=>a.dataset.editor).includes(e))()||(e=s[0].dataset.editor||"markup"),s.forEach(a=>a.classList.remove("active")),document.getElementById(e+"-selector")?.classList.add("active"),pm().forEach(a=>a.style.display="none");let o=document.getElementById(e);o.style.display="block",!F&&!t&&D[e]?.focus(),t||Me({...T(),activeEditor:e}),Hr(),(x0||Ae.view!=="result")&&ge?.show("code"),ej(e)},ej=e=>{document.querySelectorAll("#editor-status > span[data-status]").forEach(s=>{s.dataset.status===e?(s.style.position="unset",s.style.width="unset",s.style.overflow="unset"):(s.style.position="absolute",s.style.width="0",s.style.overflow="hidden")})},tj=()=>{let e=am();e&&(e.textContent=""),document.querySelectorAll("#editor-status > span[data-status]").forEach(s=>{s.innerHTML=""})},L0=()=>{Hc&&Hc.dispose(),_t?.script&&["javascript","typescript"].includes(St(_t.script))&&D.script&&typeof D.script.addTypes=="function"&&(Hc=D.script.addTypes({content:T().script.content+`
{}`,filename:"script.js"}))},T0=e=>{if(T().readonly||e==="blockly"||e==="richtext")return on().classList.add("hidden"),!1;on().classList.remove("hidden");let t=Fs(e);return t?.formatter||t?.parser?Js().classList.remove("disabled"):Js().classList.add("disabled"),!0},Vc=({editor:e,code:t})=>{let s=r=>r.trim().startsWith("<?php")?r:`<?php
`+r;if(t)return s(t);e?.getLanguage()==="php"&&e.setValue(s(e.getValue()))},C0=async e=>{!ce(e)||!e||!He(e,T())||(T0(e),Object.keys(as).forEach(async s=>{await as[s]?.show(Object.values(_t||[]).includes(s),{baseUrl:_e,editors:D,config:T(),html:we().markup.compiled||T().markup.content||"",eventsManager:I})}))},Kc=async(e,t,s=!1)=>{let r=ce(e);if(!r||!e||!He(e,T()))return;Fs(e)?.largeDownload&&Ht.info(`Loading ${Op(e)}. This may take a while!`);let n=D[r];n.setLanguage(e,t??(T()[r].content||"")),_t&&(_t[r]=e),ai(r,e),ui(r,s),Vc({editor:D.script}),!F&&!s&&setTimeout(()=>n.focus()),await is.load([e],T()),Rr.getFormatFn(e).then(i=>n.registerFormatter(i)),s||(Me({...T(),activeEditor:r}),await it()),await Rs(),Zc(),L0(),Gc(D,T()),await C0(e)},sj=(e,t)=>{let s=t[e];s.addKeyBinding("run",s.keyCodes.ShiftEnter,async()=>{await it()})},Hr=()=>{let e=s=>{let r={markup:"html",style:"css",script:"javascript"},n=lt(T()[s].language)?.compiledCodeLanguage;return{language:n||r[s],label:n==="json"?"JSON":Y(n)||n||r[s]}},t={markup:e("markup"),style:e("style"),script:e("script")};if(te&&te.compiled){let s=we();Object.keys(s).forEach(r=>{if(r!==T().activeEditor)return;let n=s[r].modified||s[r].compiled||"";r==="script"&&T().script.language==="php"&&(n=Vc({code:n})||`<?php
`),te?.compiled?.update(t[r].language,n,t[r].label)})}},Jc=async({sourceEditor:e=void 0,forExport:t=!1,template:s=Oi,singleFile:r=!0,runTests:n=!1})=>{Ps();let i=T(),o=Xe(i),a=i.markup.content||"",l=i.style.content||"",c=i.script.content||"",p=i.tests?.content||"",d=i.markup.language,_=i.style.language,b=i.script.language,f=i.tests?.language||"typescript",u=i.processors.find(R=>Re.find($=>R===$.name&&$.needsHTML))&&(a!==we().markup.content||c!==we().script.content),m=i.tests?.language===we().tests?.language&&i.tests?.content===we().tests?.content&&we().tests?.compiled,h=await is.compile(a,d,i,{}),[v,x,w]=await Promise.all([is.compile(l,_,i,{html:h,forceCompile:u}),is.compile(c,b,i,{blockly:b==="blockly"?await as.blockly?.getContent({baseUrl:_e,editors:D,config:T(),html:h,eventsManager:I}):{}}),n?m?Promise.resolve(we().tests?.compiled||""):is.compile(p,f,i,{}):Promise.resolve(we().tests?.compiled||"")]),g={...o,markup:{...o.markup,compiled:h},style:{...o.style,compiled:v},script:{...o.script,compiled:i.customSettings.convertCommonjs===!1?x:Wf(x)},tests:{language:f,...o.tests,compiled:w}},L=await Xf({code:g,config:i,forExport:t,template:s,baseUrl:_e,singleFile:r,runTests:n}),S=e==="style";return Yi({...we(),...g,result:L,styleOnlyUpdate:S}),r&&(oi.isBroadcasting&&_j(),$c&&!$c.closed&&$c?.postMessage({result:L},location.origin)),L},pi=e=>{let t=mm();t&&(e===!0?t.style.display="unset":t.style.display="none")},rj=()=>{let e=vs();if(!e?.contentWindow)return;pi(!0),e.contentWindow.postMessage({flush:!0},"*");let t={markup:lt(T().markup.language)?.compiledCodeLanguage||"html",style:lt(T().style.language)?.compiledCodeLanguage||"css",script:lt(T().script.language)?.compiledCodeLanguage||"javascript"},s={html:"<!-- loading -->",css:"/* loading */",javascript:"// loading",wat:";; loading"};Qs("markup",t.markup,s[t.markup]||"html"),Qs("style",t.style,s[t.style]||"css"),Qs("script",t.script,s[t.script]||"javascript"),Yi({...we(),tests:{language:"javascript",content:"",compiled:""}}),Hr(),te?.tests?.clearTests()},nj=(e=!1)=>{let t=Ks();if(!t)return;let s=X.title;e&&t.textContent?.trim()===""&&(t.textContent=s);let r=t.textContent||s;r!==T().title&&(Me({...T(),title:r}),T().autosave&&Br(!os,!1),k0(),Rs(),Zc())},k0=()=>{let e=T().title,t=location.hostname.startsWith("dev.livecodes.io")?"(dev) ":location.hostname.startsWith("127.0.0.1")||location.hostname.startsWith("localhost")?"(local) ":"";parent.document.title=t+(e&&e!=="Untitled Project"?e+" - ":"")+"LiveCodes"},M0=()=>{let e=Ji();T().scripts.length>0||T().stylesheets.length>0?(e.classList.add("active"),e.style.display="unset"):(e.classList.remove("active"),F&&(e.style.display="none"))},it=async(e,t=!1)=>{pi(!0);let s=await Jc({sourceEditor:e,runTests:t});await E0(Mt(),s),te?.console?.clear(),Hr()},Ir=()=>it(void 0,!0),j0=(e,t=!1)=>{t&&!F?parent.history.pushState(null,"",e):parent.history.replaceState(null,"",e)},Xc=async(e=!0)=>{if(e)await Promise.all([D.markup.format(),D.style.format(),D.script.format()]);else{let t=Et();await t.format(),t.focus()}Ps()},Br=async(e=!1,t=!0)=>{t&&nj(!0),D&&T().formatOnsave&&await Xc(!0),os?await Z.projects?.updateItem(os,T()):os=await Z.projects?.addItem(T())||"",await Rs(),e&&Ht.success("Project locally saved to device!"),await Qc(!1)},ij=async()=>{os="",Is({...T(),title:T().title+" (fork)"}),await Br(),Ht.success("Forked as a new project")},Qc=async(e=!1,t=!0,s=!0,r=!1)=>{let n=t?Xe(T()):T(),i=e?"?x=id/"+await $f.shareProject({...n,result:r?we().result:void 0}):"?x=code/"+Zr(JSON.stringify(n)),a=(location.origin+location.pathname).split("/").slice(0,-1).join("/")+"/"+i;return s&&j0(a,!0),{title:(n.title!==X.title?n.title+" - ":"")+"LiveCodes",url:a}},Ps=()=>{["markup","style","script"].forEach(t=>{Me({...T(),[t]:{...T()[t],language:zc(t),content:D[t].getValue()}})})},Is=async(e,t,s=!0)=>{Os=!0;let r=Xe({...X,...Dt(e)});Me({...T(),...r}),await ci({config:T()}),ls(),s&&rj();let n=Ks();n.textContent=T().title,k0(),j0(t||location.origin+location.pathname,!0),await H0(!0),Os=!1},oj=(e,t=!0)=>{let s=$i({...T(),...e??$i(X)});Me({...T(),...s}),t&&Z.userConfig?.setValue({...Z.userConfig.getValue(),...e})},w0=(e=!0)=>{let t=Z.userConfig?.getValue();Me(Gs({...T(),...t})),e&&(eu(T()),I0(T().theme),A0(!0))},Zc=()=>{let e=new Event($e.change);document.dispatchEvent(e),parent.dispatchEvent(e)},Rs=async()=>{if(F)return;Ps();let e=os&&(await Z.projects?.getItem(os||""))?.config;Fc=Os||!!(e&&JSON.stringify(Xe(e))===JSON.stringify(Xe(T())));let t=Ks();Fc?(t.classList.remove("unsaved"),ls(!0)):(t.classList.add("unsaved"),ls())},aj=(e=!1)=>Fc||F?Promise.resolve(!0):new Promise(t=>{let s=document.createElement("div");s.innerHTML=Ii,Pe.show(s.firstChild,{size:"small"}),I.addEventListener(gm(),"click",async()=>{await Br(!0),e||Pe.close(),t(!0)}),I.addEventListener(_m(),"click",()=>{e||Pe.close(),t(!0)}),I.addEventListener(ym(),"click",()=>{Pe.close(),t(!1)})}),lj=e=>()=>aj(!0).then(t=>{t&&setTimeout(e)}),ls=(e=!1)=>{F||(Z.recover?.clear(),!(e||!T().recoverUnsaved)&&Z.recover?.setValue({config:Xe(T()),lastModified:Date.now()}))},cj=()=>{if(!T().recoverUnsaved||F)return Promise.resolve("recover disabled");let e=Z.recover?.getValue(),t=e?.config;if(!e||!t)return Promise.resolve("no unsaved project");let s=t.title;return new Promise(r=>{let n=document.createElement("div");n.innerHTML=Ri,Pe.show(n.firstChild,{size:"small",isAsync:!0}),xm().innerHTML=s,Em().innerHTML=new Date(e.lastModified).toLocaleString();let i=Sm(),o=a=>{oj({recoverUnsaved:a}),eu(T())};I.addEventListener(vm(),"click",async()=>{await Is(t),await Rs(),o(!i.checked),Pe.close(),r("recover")}),I.addEventListener(bm(),"click",async()=>{Z.projects&&(await Z.projects.addItem(t),Ht.success(`Project "${s}" saved to device.`),o(!i.checked)),Pe.close(),ls(!0),r("save and continue")}),I.addEventListener(wm(),"click",()=>{o(!i.checked),Pe.close(),ls(!0),r("cancel recover")})})},uj=async e=>{[D.markup,D.style].forEach((t,s)=>{t.monaco&&s>0||t.changeSettings(Ct(e))})},pj=async()=>ni||(ni=await Hi(T(),_e),ni),U0=async()=>{if(As)return;As=Af(F);let e=await As.getUser();e&&Wm(e)};var q0=async()=>{let e=await As?.getUser();if(!e||!Z.userData)return null;let t=e.username||e.uid;return(await Z.userData.getItem(t))?.data||null};var li=()=>Z.appData?.getValue()||null,Yc=e=>{Z.appData?.setValue({...Z.appData.getValue(),...e})};var A0=async(e=!1)=>{if(F)return;let t=(await q0())?.sync?.lastSync;(t||e)&&(await import(_e+"sync-ui.d38b3f5689f14973545dd2a54cda8f0d.js")).updateSyncStatus({lastSync:t})},dj=(e,t)=>{let s=Dc.find(r=>r.screen.toLowerCase()===e.toLowerCase());s?s.show=t:Dc.push({screen:e.toLowerCase(),show:t})},O0=async(e,t)=>{await Dc.find(r=>r.screen.toLowerCase()===e.toLowerCase())?.show(t),document.querySelector("#modal").firstElementChild?.click()},fj=()=>{let t=Object.fromEntries(new URLSearchParams(parent.location.search)).screen;t&&O0(t)},P0=()=>[...Object.values(D),te?.console?.getEditor?.(),te?.compiled?.getEditor?.()],I0=e=>{let t=["light","dark"],s=document.querySelector(":root");s?.classList.remove(...t),s?.classList.add(e),P0().forEach(r=>{r?.setTheme(e),as[r?.getLanguage()]?.setTheme(e)})},eu=e=>{if(Pm().forEach(d=>{let _=d.dataset.processor;_&&(d.checked=e.processors.includes(_))}),F)return;let s=Mm();s.checked=e.autoupdate;let r=jm(),n=Um();n.value=String(e.delay),r.textContent=String(e.delay/1e3);let i=qm();i.checked=e.autosave;let o=Am();q0().then(d=>{o.checked=d?.sync?.autosync||!1});let a=Om();a.checked=e.formatOnsave;let l=Im();l.checked=e.theme==="dark";let c=Rm();c.checked=e.recoverUnsaved;let p=Hm();p.checked=e.showSpacing,Bm().forEach(d=>{d.classList.remove("active"),e.cssPreset===d.dataset.preset&&d.classList.add("active"),!e.cssPreset&&d.dataset.preset==="none"&&d.classList.add("active")})},mj=e=>{Pe.show(e,{size:"small"})},hj=async e=>{let s=(await pj()).filter(r=>r.name===e)?.[0];s?lj(()=>{Is({...X,...s},"?template="+e)})().finally(()=>{Pe.close()}):Ht.error("Failed loading template")},gj=()=>{let e=T(),t=eo();return{...e,...t,markup:{...e.markup,...t.markup,position:D.markup.getPosition()},style:{...e.style,...t.style,position:D.style.getPosition()},script:{...e.script,...t.script,position:D.script.getPosition()},tools:{enabled:e.tools.enabled,active:te?.getActiveTool()??"",status:te?.getStatus()??""}}},tu=(e=1)=>{let t=vs(),s=hm();!t||!s||(t.classList.remove("zoom25"),t.classList.remove("zoom50"),e===.5&&t.classList.add("zoom50"),e===.25&&t.classList.add("zoom25"),s.textContent=String(e))},_j=async({serverUrl:e,channel:t,channelToken:s,broadcastSource:r}={})=>{if(F)return;let n=li()?.broadcast;if(e||(e=n?.serverUrl),!e)return;r==null&&(r=oi.broadcastSource),t==null&&(t=oi.channel),s==null&&(s=oi.channelToken);let i=n?.userToken,{result:o,...a}=gj();try{let l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({result:o,...r?{data:a}:{},...t?{channel:t}:{},...s?{channelToken:s}:{},...i?{userToken:i}:{}})});return l.ok?l.json():void 0}catch{return}};var yj=()=>{let e="0.6.0",t="",s="";return console.log(`Version: ${e} (${s}/releases/tag/v${e})`),console.log(`Git commit: ${t} (${s}/commit/${t})`),{version:e,commitSHA:t}},Nc=()=>{Object.values(D).forEach(e=>{setTimeout(()=>{e.layout&&e.layout()})})};var vj=()=>{Nc(),I.addEventListener(window,"resize",Nc,!1),I.addEventListener(window,$e.resizeEditor,Nc,!1)},bj=()=>{let e=Wi();if(!e)return;let t=document.createElement("div");t.id="size-label",e.appendChild(t);let s=di(()=>{setTimeout(()=>{t.classList.remove("visible"),setTimeout(()=>{t.style.display="none"},100)},1e3)},1e3);I.addEventListener(window,"message",r=>{let n=vs();if(!t||!n||r.source!==n.contentWindow||r.data.type!=="resize")return;let i=r.data.sizes;t.innerHTML=`${i.width} x ${i.height}`,t.style.display="block",t.classList.add("visible"),s()})},wj=()=>{Xi().forEach(e=>{I.addEventListener(e,"click",()=>{ui(e.dataset.editor),Yc({language:zc(e.dataset.editor)}),ls()},!1)})},xj=()=>{T().allowLangChange?Lm().forEach(e=>{I.addEventListener(e,"mousedown",async()=>{await Kc(e.dataset.lang),Yc({language:e.dataset.lang})},!1)}):Tm().forEach(e=>{e.style.display="none"})},Ej=()=>{let e=async(s,r)=>{Ps(),L0();let n=Boolean(ii&&T().tests?.content);(T().autoupdate||n)&&!r&&await it(s,n),T().markup.content!==we().markup.content&&await Jc({sourceEditor:s});for(let i of Object.keys(as))T()[s].language===i&&await as[i]?.show(!0,{baseUrl:_e,editors:D,config:T(),html:we().markup.compiled||T().markup.content||"",eventsManager:I});T().autosave&&await Br(),Zc(),Gc(D,T())},t=s=>di(async()=>{await e(s,Os)},()=>T().delay??X.delay);Object.keys(D).forEach(s=>{D[s].onContentChanged(t(s)),D[s].onContentChanged(Rs)})},Sj=()=>{let e=s=>navigator.platform.match("Mac")?s.metaKey:s.ctrlKey,t=async s=>{if(!s)return;let r=Et();if(e(s)&&s.key.toLowerCase()==="p"&&r.monaco){s.preventDefault(),r.monaco.trigger("anyString","editor.action.quickCommand");return}if(e(s)&&s.key.toLowerCase()==="d"){s.preventDefault();return}if(!F){if(e(s)&&s.shiftKey&&s.key.toLowerCase()==="s"){s.preventDefault(),await ij();return}if(e(s)&&s.key.toLowerCase()==="s"){s.preventDefault(),await Br(!0);return}if(e(s)&&s.altKey&&s.key.toLowerCase()==="t"){s.preventDefault(),ge?.show("output"),te?.setActiveTool("tests"),te?.getStatus()==="closed"&&te?.open(),await Ir();return}if(s.shiftKey&&s.key==="Enter"){s.preventDefault(),ge?.show("output"),await it();return}}};I.addEventListener(window,"keydown",t,!0)},Lj=()=>{if(F||T().mode==="result")return;let e=Gi();I.addEventListener(e,"click",async t=>{t.preventDefault(),parent.postMessage({args:"home"},location.origin)})},Tj=()=>{let e=async()=>{ge?.show("output"),await it()};I.addEventListener(Vi(),"click",e),I.addEventListener(Ki(),"click",e)},Cj=()=>{I.addEventListener(cm(),"click",()=>ge?.show("output",!0))},kj=()=>{T0(Et().getLanguage())&&(I.addEventListener(nm(),"click",()=>{mi(Et().getValue())?Ht.success("Code copied to clipboard"):Ht.error("Failed to copy code")}),I.addEventListener(im(),"click",()=>{let e=Et();e.undo(),e.focus()}),I.addEventListener(om(),"click",()=>{let e=Et();e.redo(),e.focus()}),I.addEventListener(Js(),"click",async()=>{await Xc(!1)}),I.addEventListener(lm(),"click",()=>{O0("editor-settings",{scrollToSelector:'label[data-name="editorMode"]'})}))},Mj=()=>{let e=Cm(),t=Re.filter(s=>Nt(s.name,T())).filter(s=>!s.hidden).map(s=>({name:s.name,title:s.title}));!e||t.length===0||t.forEach(s=>{let r=Vd(s);e.append(r),I.addEventListener(r,"mousedown",async n=>{n.preventDefault(),n.stopPropagation();let i=r.querySelector("input");if(!i)return;i.checked=!i.checked;let o=i.dataset.processor;!o||!t.find(a=>a.name===o)||(Me({...T(),processors:[...i.checked?[...T().processors,o]:T().processors.filter(a=>a!==o)]}),await it())},!1),I.addEventListener(r,"click",async n=>{n.preventDefault(),n.stopPropagation()})})};var jj=()=>{let e=()=>{let t=document.createElement("div");t.innerHTML=Pi;let s=t.firstChild;Pe.show(s);let r=$m();r.forEach(n=>{let i=T()[n.dataset.resource];n.value=i.length!==0?i.join(`
`)+`
`:""}),r[0]?.focus(),I.addEventListener(Nm(),"click",async()=>{r.forEach(n=>{let i=n.dataset.resource;Me({...T(),[i]:n.value?.split(`
`).map(o=>o.trim()).filter(o=>o!=="")||[]})}),M0(),await Rs(),Pe.close(),await it()})};I.addEventListener(km(),"click",e,!1),I.addEventListener(Ji(),"click",e,!1),dj("external",e)};var Uj=()=>{I.addEventListener(window,"message",e=>{if(e.origin!==kt.getOrigin()||e.data.type!=="testResults")return;te?.tests?.showResults(e.data.payload);let t=new CustomEvent($e.testResults,{detail:JSON.parse(JSON.stringify(e.data.payload))});document.dispatchEvent(t)}),I.addEventListener(Dm(),"click",e=>{e.preventDefault(),Ir()},!1),I.addEventListener(ln(),"click",e=>{e.preventDefault(),ii=!ii,ii?(ln()?.classList.remove("disabled"),Ir()):ln()?.classList.add("disabled")},!1)};var qj=()=>{I.addEventListener(window,"message",e=>{let t=vs();if(!t||e.source!==t.contentWindow)return;e.data.type==="loading"&&pi(e.data.payload);let s=e.data.payload?.language;if(e.data.type==="compiled"&&s&&Wc().includes(s)){let r=ce(s);if(!r)return;Qs(r,s,e.data.payload.content||""),Hr()}})};var Aj=()=>{let e=document.createElement("div");e.id="zoom-button",e.classList.add("tool-buttons","hint--top"),e.dataset.hint="Zoom",e.style.pointerEvents="all",e.innerHTML=`
  <span class="text">
    <span id="zoom-value">${String(Number(T().zoom))}</span>
    &times;
  </span>`;let t=()=>{let s=T(),r=s.zoom,n=r===1?.5:r===.5?.25:1;Me({...s,zoom:n}),tu(n)};I.addEventListener(e,"click",t),I.addEventListener(e,"touchstart",t),fm()?.appendChild(e)};var Oj=async()=>{if(!F)return;let e=um(),t=e.querySelector("img"),s=(await import(Ju)).default;if(!s.fullscreenEnabled){e.style.visibility="hidden";return}I.addEventListener(s,"fullscreenchange",async()=>{if(!s.fullscreenElement){t.src=t.src.replace("collapse.svg","expand.svg"),e.dataset.hint="Full Screen";return}t.src=t.src.replace("expand.svg","collapse.svg"),e.dataset.hint="Exit Full Screen"}),I.addEventListener(e,"click",async()=>{if(s.fullscreenElement){await s.exitFullscreen();return}await s.requestFullscreen(document.body)})};var R0=async()=>{te=v0(T(),_e,D,I,F,Ir),await te.load(),Aj(),Mt().classList.remove("full")},Pj=()=>{Lj(),vj(),bj(),wj(),xj(),Ej(),Sj(),Tj(),Cj(),kj(),Mj(),qj(),Uj(),F&&(jj(),Oj())};var Ij=async()=>{F||(Z.projects=await qi("__livecodes_data__",F),Z.templates=await qi("__livecodes_templates__",F),Z.assets=await yt("__livecodes_assets__",F),Z.snippets=await yt("__livecodes_snippets__",F),Z.recover=Xr("__livecodes_project_recover__",F),Z.userConfig=Xr("__livecodes_user_config__",F),Z.userData=await yt("__livecodes_user_data__",F),Z.appData=Xr("__livecodes_app_data__",F),Z.sync=await yt("__livecodes_sync_data__",F))},Rj=(e,t)=>{document.body.classList.add("embed"),e.mode==="result"&&document.body.classList.add("result"),(e.mode==="editor"||e.mode==="codeblock")&&document.body.classList.add("no-result");let s=Gi();s.classList.add("hint--bottom-left"),s.dataset.hint="Edit in LiveCodes \u{1F855}",s.title="",t.addEventListener(s,"click",async r=>{r.preventDefault(),window.open((await Qc(!1,!0,!1)).url,"_blank")})},Hj=()=>{Me({...T(),editor:"codejar",emmet:!1,tools:{enabled:[],active:"",status:"none"}}),Js().style.display="none"},Bj=({config:e,isEmbed:t,isLite:s})=>{e.mode==="full"&&(Ae.view==="editor"&&ge?.show("code",!0),Ae.view==="result"&&ge?.show("output",!0)),e.mode==="codeblock"&&Me({...e,readonly:!0}),(e.mode==="editor"||e.mode==="codeblock"||e.mode==="result")&&(ge?.destroy(),ge=null),s&&Hj(),(t||e.mode==="result")&&Rj(e,I)},ci=async e=>{let{config:t=X,configUrl:s,template:r,url:n}=e,i=["markup","style","script"],o=b=>i.filter(f=>b[f]?.contentUrl&&!b[f]?.content).length>0;if(!s&&!r&&!n&&!o(t))return!1;let a=document.createElement("div");a.classList.add("modal-message"),a.innerHTML="Loading Project...",Pe.show(a,{size:"small",isAsync:!0});let l={},c={},p={},d={};if(r&&(l=Dt(await Sf(r,t,_e))),n){let b=n;if(n.startsWith("http")||n.startsWith("data"))try{b=new URL(n).href}catch{b=decodeURIComponent(n)}let f;jf(b)&&!F&&(await U0(),f=await As?.getUser()),c=await(await import(_e+"import.4369a9c11235fbcec8ab0c37e41391ca.js")).importCode(b,tn(),T(),f)}if(o(t)){let b=await Promise.all(i.map(f=>{let u=t[f].contentUrl;return u&&!t[f].content?fetch(u).then(m=>m.text()).then(m=>({...t[f],content:m})):Promise.resolve(t[f])}));p={markup:b[0],style:b[1],script:b[2]}}let _=ou(s);return _&&(d=Dt(await fetch(_).then(b=>b.json()).catch(()=>({}))),o(d))?ci({config:{...t,...d}}):(await Is(Gs({...t,...l,...c,...p,...d}),parent.location.href,!1),Pe.close(),!0)},$j=async()=>{if(F||Ae["no-defaults"]!==!1||Ae.languages||Ae.template||Ae.config||Ae.active||Ae.activeEditor||Y(Ae.lang)||Y(Ae.language))return;for(let s of Object.keys(Ae))if(Y(s))return;let e=li()?.defaultTemplate;if(e){Ht.info("Loading default template");let r=(await(()=>{if(Z.templates)return Z.templates?.getItem(e)})())?.config;r&&await Is(r);return}let t=li()?.language;t&&(Os=!0,await Kc(t),Os=!1),ls(!0)},H0=async(e=!1)=>{e&&await YM(D,T()),Vc({editor:D.script}),pi(!0),tu(T().zoom),await KM(T()),eu(T()),te?.console?.clear(),F||setTimeout(()=>Et().focus()),M0(),Hr(),Gc(D,T()),is.load(Object.values(_t||{}),T()).then(()=>{setTimeout(()=>{te?.getActiveTool()==="tests"&&["open","full"].includes(te?.getStatus())?it(void 0,!0):it()})}),Rr.load(Wc()),F&&!T().tests?.content?.trim()&&te?.disableTool("tests")},B0=async(e,t)=>{let s=e?.config??{};_e=e?.baseUrl??"/livecodes/",ri=e?.isLite??!1,F=ri||(e?.isEmbed??!1),await Ij(),w0(!1),Me(Gs({...T(),...s})),Bj({config:T(),isEmbed:F,isLite:ri}),is=await Vf({config:T(),baseUrl:_e,eventsManager:I}),Rr=ff(T(),_e,ri),as=ef({baseUrl:_e,eventsManager:I}),Gd(T(),_e,I,mj,hj,ci),await ZM(T()),Pj(),await t?.(),w0(!0),JM(),await E0(Mt()),S0(T()),fj(),I0(T().theme),F||(U0().then(()=>A0()),cj()),ci({config:T(),configUrl:Ae.config,template:Ae.template,url:Ae.x||parent.location.hash.substring(1)}).then(async r=>{r||(await H0(),await $j()),F&&parent.dispatchEvent(new Event($e.ready)),x0=!0}),uj(T())},$0=()=>{let e=async(f=!1)=>(await Qc(f,!0,!1)).url,t=async(f=!1)=>{Ps();let u=f?Xe(T()):T();return JSON.parse(JSON.stringify(u))},s=async f=>{let u={...T(),...Gs(f)};return u.mode!==T().mode&&S0(u),Me(u),await Is(u),u},r=async()=>(Ps(),zm(we(),Xe(T()))||await Jc({}),JSON.parse(JSON.stringify(eo()))),n=async(f,{full:u=!1,line:m,column:h,zoom:v}={})=>{if(f==="result")ge?.show("output",u),te?.close(),v&&tu(v);else if(f==="console"||f==="compiled"||f==="tests")ge?.show("output"),te?.setActiveTool(f),u?te?.maximize():te?.open();else if(Object.keys(D).includes(f)){if(ui(f),ge?.show("code",u),typeof m=="number"&&m>0){let x=typeof h=="number"&&h>-1?h:0;Et().setPosition({lineNumber:m,column:x}),Et().focus()}}else throw new Error("Invalid panel id")},i=()=>new Promise(f=>{I.addEventListener(document,$e.testResults,u=>{f({results:u.detail?.results||[]})},{once:!0}),Ir()}),o=f=>{let u=async function(){f({code:await r(),config:await t()})};return I.addEventListener(document,$e.change,u),{remove:()=>{I.removeEventListener(document,$e.change,u)}}},a=async(f,...u)=>{if(f==="setBroadcastToken"){if(F)return{error:"Command unavailable for embeds"};let m=li()?.broadcast;if(!m)return{error:"Command unavailable"};let h=u[0];return typeof h!="string"?{error:"Invalid token!"}:(Yc({broadcast:{...m,userToken:h}}),{output:"Broadcast user token set successfully"})}return f==="showVersion"?{output:yj()}:{error:"Invalid command!"}},l=async()=>{P0().forEach(f=>f?.destroy()),I.removeEventListeners(),Object.values(Z).forEach(f=>f?.unsubscribeAll?.()),parent.dispatchEvent(new Event($e.destroy)),Rr?.destroy(),document.body.innerHTML="",document.head.innerHTML="",Bc=!0},c="Cannot call API methods after calling `destroy()`.",p=()=>Promise.reject(c),d=()=>{throw new Error(c)},_=f=>Bc?p():f(),b=f=>Bc?d():f();return{run:()=>_(()=>it()),format:f=>_(()=>Xc(f)),getShareUrl:f=>_(()=>e(f)),getConfig:f=>_(()=>t(f)),setConfig:f=>_(()=>s(f)),getCode:()=>_(()=>r()),show:(f,u)=>_(()=>n(f,u)),runTests:()=>_(()=>i()),onChange:f=>b(()=>o(f)),exec:(f,...u)=>_(()=>a(f,...u)),destroy:()=>_(()=>l())}};var XN=async(e,t)=>(await B0({config:e,baseUrl:t,isEmbed:!0},async()=>{await R0()}),$0());export{XN as app};
//# sourceMappingURL=embed.js.map
