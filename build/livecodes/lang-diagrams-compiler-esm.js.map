{
  "version": 3,
  "sources": ["../../src/livecodes/utils/utils.ts", "../../src/livecodes/vendors.ts", "../../src/livecodes/languages/diagrams/lang-diagrams-compiler-esm.ts"],
  "sourcesContent": ["import { Config, Language, Processor } from '../models';\n\nexport const debounce = (fn: (...x: any[]) => any, delay: number | (() => number)) => {\n  let timeout: any;\n\n  return (...args: unknown[]) => {\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(() => fn.apply(null, args), typeof delay === 'function' ? delay() : delay);\n  };\n};\n\nexport const decodeHTML = (html: string) => {\n  const txt = document.createElement('textarea');\n  txt.innerHTML = html;\n  return txt.value;\n};\n\nexport const encodeHTML = (html: string) =>\n  html\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/'/g, '&#39;')\n    .replace(/\"/g, '&#34;');\n\nexport const escapeScript = (code: string) => code.replace(/<\\/script>/g, '<\\\\/script>');\n\nexport const escapeCode = (code: string, slash = true) =>\n  code\n    .replace(/\\\\/g, slash ? '\\\\\\\\' : '\\\\')\n    .replace(/`/g, '\\\\`')\n    .replace(/<\\/script>/g, '<\\\\/script>');\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const pipe = (...fns: Function[]) =>\n  fns.reduce(\n    (f, g) =>\n      (...args: any) =>\n        g(f(...args)),\n  );\n\n// replace non-alphanumeric with underscore\nexport const safeName = (name: string, symbol = '_') => name.replace(/[\\W]+/g, symbol);\n\n// from https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n// added safari (on mac & ios): monaco editor is broken on safari\nexport const isMobile = () => {\n  let mobile = false;\n  const userAgent = navigator.userAgent.toLowerCase();\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n        a,\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4),\n      )\n    ) {\n      mobile = true;\n    }\n  })(userAgent || navigator.vendor || (window as any).opera);\n\n  const safari = userAgent.indexOf('safari') > -1 && userAgent.indexOf('chrome') === -1; // chrome says it is safari!\n\n  return mobile || safari;\n};\n\nexport const isRelativeUrl = (url?: string) =>\n  !url?.startsWith('http') && !url?.startsWith('data:');\n\nexport const getAbsoluteUrl = (url: string, baseUrl = document.baseURI) =>\n  isRelativeUrl(url) ? new URL(url, baseUrl).href : url;\n\nexport const cloneObject = <T>(x: Record<string, any>): T => JSON.parse(JSON.stringify(x));\n\nexport const objectMap = (\n  obj: Record<string, any>,\n  fn: (value: any, key: string, index: number) => any,\n) => Object.fromEntries(Object.entries(obj).map(([k, v], i) => [k, fn(v, k, i)]));\n\nexport const objectFilter = (\n  obj: Record<string, any>,\n  predicate: (value: any, key: string, index: number) => any,\n) => Object.fromEntries(Object.entries(obj).filter(([k, v], i) => predicate(v, k, i)));\n\nexport const copyToClipboard = (text: string) => {\n  if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n    const textarea = document.createElement('textarea');\n    textarea.textContent = text;\n    textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n    } catch (ex) {\n      // eslint-disable-next-line no-console\n      console.warn('Copy to clipboard failed.', ex);\n      return false;\n    } finally {\n      document.body.removeChild(textarea);\n    }\n  }\n  return false;\n};\n\nexport const stringToValidJson = (str: string) =>\n  str\n    .replace(/'[^'\"]*'(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g, function replaceSingleQuotes(matchedStr) {\n      return '\"' + matchedStr.substring(1, matchedStr.length - 1) + '\"';\n    })\n    .replace(\n      /(\\w+(?=([^\"\\\\]*(\\\\.|\"([^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^\"]*$))(\\s*:)(?!(\\w*)(?:\"))/gm,\n      function quoteNonQuoted(matchedStr) {\n        return '\"' + matchedStr.substring(0, matchedStr.length - 1).trimEnd() + '\":';\n      },\n    )\n    .replace(/,\\s*([\\]}])/g, '$1'); // remove trailing comma\n\nexport const stringify = (obj: any, pretty = false) => {\n  try {\n    return JSON.stringify(obj, undefined, pretty ? 2 : undefined);\n  } catch {\n    return '';\n  }\n};\n\nexport const getRandomString = () => String(Math.random()) + '-' + Date.now().toFixed();\n\nexport const downloadFile = (filename: string, extension: string, content: string) => {\n  const a = document.createElement('a');\n  a.style.display = 'none';\n  a.href = content;\n  a.download = safeName(filename) + '.' + extension;\n  a.click();\n  a.remove();\n};\n\nexport const loadScript = (url: string, name?: string) =>\n  new Promise((resolve, reject) => {\n    if (name && (window as any)[name]) {\n      return resolve((window as any)[name]);\n    }\n\n    const script = document.createElement('script');\n    script.src = url;\n    script.async = true;\n    const removeEventListeners = () => {\n      script.removeEventListener('load', onLoad);\n      script.removeEventListener('error', onError);\n    };\n    const onLoad = () => {\n      removeEventListeners();\n      if (!name) {\n        return resolve('loaded: ' + url);\n      }\n      const i = setInterval(() => {\n        if ((window as any)[name]) {\n          clearInterval(i);\n          return resolve((window as any)[name]);\n        }\n      }, 5);\n    };\n    const onError = () => {\n      removeEventListeners();\n      reject('failed to load: ' + url);\n    };\n    script.addEventListener('load', onLoad);\n    script.addEventListener('error', onError);\n    document.head.appendChild(script);\n  });\n\nexport const loadStylesheet = (url: string, id?: string, insertBefore?: string) => {\n  if (id && document.getElementById(id)) return;\n  const stylesheet = document.createElement('link');\n  stylesheet.rel = 'stylesheet';\n  stylesheet.href = url;\n  stylesheet.id = id || 'styles-' + getRandomString();\n  document.head.insertBefore(\n    stylesheet,\n    insertBefore ? document.querySelector(insertBefore) : null,\n  );\n};\n\nexport const typedArrayToBuffer = (array: Uint8Array): ArrayBuffer =>\n  array.buffer.slice(array.byteOffset, array.byteLength + array.byteOffset);\n\nexport const getDate = () => {\n  let date = new Date();\n  const offset = date.getTimezoneOffset();\n  date = new Date(date.getTime() - offset * 60 * 1000);\n  return date.toISOString().split('T')[0];\n};\n\nexport const handleFetchError = (res: Response) => (res.ok ? res : Promise.reject());\nexport const fetchWithHandler = (input: RequestInfo, init?: RequestInit) =>\n  fetch(input, init).then(handleFetchError);\n\nexport const blobToBase64 = (file: Blob): Promise<string> =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => (typeof reader.result === 'string' ? resolve(reader.result) : reject());\n    reader.onerror = (error) => reject(error);\n  });\n\nexport const Uint8ArrayToBase64 = (u8: Uint8Array) => {\n  const CHUNK_SZ = 0x8000;\n  const c = [];\n  for (let i = 0; i < u8.length; i += CHUNK_SZ) {\n    c.push(String.fromCharCode.apply(null, (u8 as any).subarray(i, i + CHUNK_SZ)));\n  }\n  return btoa(c.join(''));\n};\n\nexport const base64ToUint8Array = (str: string) =>\n  new Uint8Array(\n    atob(str)\n      .split('')\n      .map((c) => c.charCodeAt(0)),\n  );\n\nexport const typedArraysAreEqual = (a: Uint8Array, b: Uint8Array) => {\n  if (a === b) {\n    return true;\n  }\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n};\n\nexport const getWorkerDataURL = (url: string) => {\n  const content = `importScripts(\"${url}\");`;\n  return 'data:text/javascript;base64,' + btoa(content);\n};\n\nexport const removeComments = (src: string) =>\n  src.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, '$1');\n\nexport const removeStrings = (src: string) =>\n  src\n    .replace(/'[^\\n']*'/gm, \"''\")\n    .replace(/\"[^\\n\"]*\"/gm, '\"\"')\n    .replace(/`[^`]*`/gm, '``');\n\nexport const removeCommentsAndStrings = (src: string) => removeStrings(removeComments(src));\n\nexport const getLanguageCustomSettings = (language: Language | Processor, config: Config) => ({\n  ...(config.customSettings as any)[language],\n});\n\nexport const getValidUrl = (url?: string) => {\n  if (!url) return null;\n  let validUrl = null;\n  if (url.startsWith('http') || url.startsWith('data:')) {\n    try {\n      validUrl = new URL(url).href;\n    } catch {\n      try {\n        validUrl = new URL(decodeURIComponent(url)).href;\n      } catch {\n        //\n      }\n    }\n  }\n  return validUrl;\n};\n\nexport const runOrContinue =\n  <T>(fn: (x: T) => Promise<T>, catchFn?: (err: unknown) => void) =>\n  async (x: T): Promise<T> => {\n    try {\n      const result = await fn(x);\n      return result;\n    } catch (error) {\n      if (typeof catchFn === 'function') {\n        catchFn(error);\n      }\n      return x;\n    }\n  };\n\nexport const getFileExtension = (file: string) => file.split('.')[file.split('.').length - 1];\n\nexport const isInIframe = () => {\n  try {\n    return window.self !== window.top;\n  } catch {\n    return true;\n  }\n};\n\nexport const indentCode = (code: string, spaces: number, skipFirstLine = true) =>\n  (skipFirstLine ? '' : ' '.repeat(spaces)) + code.split('\\n').join('\\n' + ' '.repeat(spaces));\n", "export const vendorsBaseUrl =\n  'https://cdn.jsdelivr.net/npm/@live-codes/browser-compilers@0.5.13/dist/';\n\nexport const acornUrl = 'https://cdn.jsdelivr.net/npm/acorn@8.6.0/dist/acorn.min.js';\n\nexport const artTemplateUrl =\n  'https://cdn.jsdelivr.net/npm/art-template@4.13.2/lib/template-web.js';\n\nexport const asciidocUrl =\n  'https://cdn.jsdelivr.net/npm/@asciidoctor/core@2.2.5/dist/browser/asciidoctor.min.js';\n\nexport const assemblyscriptSdkUrl =\n  'https://cdn.jsdelivr.net/npm/assemblyscript@0.19.22/dist/sdk.js';\n\nexport const assemblyscriptLoaderUrl =\n  'https://cdn.jsdelivr.net/npm/@assemblyscript/loader@0.19.22/umd/index.js';\n\nexport const astringUrl = 'https://cdn.jsdelivr.net/npm/astring@1.7.5/dist/astring.min.js';\n\nexport const astroBaseUrl = 'https://cdn.jsdelivr.net/npm/@hatemhosny/astro-internal@0.0.4/';\n\nexport const astroWasmURL = 'https://cdn.jsdelivr.net/npm/@astrojs/compiler@0.9.2/astro.wasm';\n\nexport const autoCompleteUrl =\n  'https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.6/dist/autoComplete.min.js';\n\nexport const babelUrl = 'https://cdn.jsdelivr.net/npm/@babel/standalone@7.17.2/babel.min.js';\n\nexport const biwaschemeUrl =\n  'https://cdn.jsdelivr.net/npm/biwascheme@0.7.4/release/biwascheme-min.js';\n\nexport const blocklyCdnBaseUrl = 'https://cdn.jsdelivr.net/npm/blockly@7.20211209.2/';\n\nexport const brythonBaseUrl = 'https://cdn.jsdelivr.net/npm/brython@3.10.4/';\n\nexport const chaiUrl = 'https://cdn.jsdelivr.net/npm/chai@4.3.6/+esm';\n\nexport const chaiTypesUrl = 'https://cdn.jsdelivr.net/npm/@types/chai@4.2.22/index.d.ts';\n\nexport const cjs2esUrl = 'https://cdn.jsdelivr.net/npm/cjs2es@1.1.1/dist/cjs2es.browser.min.js';\n\nexport const clioBaseUrl =\n  'https://cdn.jsdelivr.net/npm/@live-codes/clio-browser-compiler@0.0.3/public/build/';\n\nexport const coffeeScriptUrl =\n  'https://cdn.jsdelivr.net/npm/coffeescript@2.6.1/lib/coffeescript-browser-compiler-legacy/coffeescript.js';\n\nexport const cppWasmBaseUrl = 'https://cdn.jsdelivr.net/npm/@chriskoch/cpp-wasm@1.0.2';\n\nexport const csstreeUrl = 'https://cdn.jsdelivr.net/npm/css-tree@1.1.3/dist/csstree.min.js';\n\nexport const cytoscapeSvgUrl =\n  'https://cdn.jsdelivr.net/npm/cytoscape-svg@0.4.0/cytoscape-svg.min.js';\n\nexport const cytoscapeUrl = 'https://cdn.jsdelivr.net/npm/cytoscape@3.22.0/dist/cytoscape.min.js';\n\nexport const dotUrl = 'https://cdn.jsdelivr.net/npm/dot@1.1.3/doT.min.js';\n\nexport const ejsUrl = 'https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js';\n\nexport const elkjsBaseUrl = 'https://cdn.jsdelivr.net/npm/elkjs@0.7.1/lib/';\n\nexport const emmetMonacoUrl =\n  'https://cdn.jsdelivr.net/npm/emmet-monaco-es@5.0.0/dist/emmet-monaco.min.js';\n\nexport const esModuleShimsUrl =\n  'https://cdn.jsdelivr.net/npm/es-module-shims@1.4.4/dist/es-module-shims.min.js';\n\nexport const flexSearchUrl =\n  'https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.min.js';\n\nexport const fontAnonymousProUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/anonymous-pro@4.5.9/index.min.css';\n\nexport const fontCascadiaCodeUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/cascadia-code@4.2.1/index.min.css';\n\nexport const fontCodeNewRomanUrl = 'https://fonts.cdnfonts.com/css/code-new-roman-2';\n\nexport const fontComicMonoUrl = 'https://cdn.jsdelivr.net/npm/comic-mono@0.0.1/index.min.css';\n\nexport const fontCourierPrimeUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/courier-prime@4.5.9/index.min.css';\n\nexport const fontDECTerminalModernUrl = 'https://fonts.cdnfonts.com/css/dec-terminal-modern';\n\nexport const fontDejaVuMonoUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/dejavu-mono@4.5.4/index.min.css';\n\nexport const fontFantasqueUrl =\n  'https://cdn.jsdelivr.net/npm/@typopro/web-fantasque-sans-mono@3.7.5/TypoPRO-FantasqueSansMono.css';\n\nexport const fontFiraCodeUrl = 'https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css';\n\nexport const fontFixedsysUrl = 'https://fonts.cdnfonts.com/css/fixedsys-62';\n\nexport const fontHackUrl = 'https://cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css';\n\nexport const fontHermitUrl = 'https://cdn.jsdelivr.net/npm/typeface-hermit@0.0.44/index.min.css';\n\nexport const fontIBMPlexMonoUrl =\n  'https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap';\n\nexport const fontInconsolataUrl =\n  'https://fonts.googleapis.com/css2?family=Inconsolata&display=swap';\n\nexport const fontIosevkaUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/iosevka@4.5.4/index.min.css';\n\nexport const fontJetbrainsMonoUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/jetbrains-mono@4.5.11/index.min.css';\n\nexport const fontMenloUrl = 'https://fonts.cdnfonts.com/css/menlo';\n\nexport const fontMonofurUrl = 'https://fonts.cdnfonts.com/css/monofur';\n\nexport const fontMonoidUrl =\n  'https://cdn.jsdelivr.net/npm/@typopro/web-monoid@3.7.5/TypoPRO-Monoid.css';\n\nexport const fontNotoUrl = 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap';\n\nexport const fontNovaMonoUrl = 'https://fonts.googleapis.com/css2?family=Nova+Mono&display=swap';\n\nexport const fontOpenDyslexicUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/opendyslexic@4.5.4/index.min.css';\n\nexport const fontProFontWindowsUrl = 'https://fonts.cdnfonts.com/css/profontwindows';\n\nexport const fontRobotoMonoUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/roboto-mono@4.5.8/index.min.css';\n\nexport const fontSFMonoUrl = 'https://fonts.cdnfonts.com/css/sf-mono';\n\nexport const fontSourceCodeProUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/source-code-pro@4.5.12/index.min.css';\n\nexport const fontSpaceMonoUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/space-mono@4.5.10/index.min.css';\n\nexport const fontSudoVarUrl = 'https://fonts.cdnfonts.com/css/sudo-var';\n\nexport const fontUbuntuMonoUrl =\n  'https://cdn.jsdelivr.net/npm/@fontsource/ubuntu-mono@4.5.11/index.min.css';\n\nexport const fontVictorMonoUrl = 'https://cdn.jsdelivr.net/npm/victormono@1.5.4/dist/index.min.css';\n\nexport const fscreenUrl = 'https://cdn.jsdelivr.net/npm/fscreen@1.2.0/dist/fscreen.esm.js';\n\nexport const githubMarkdownCss =\n  'https://cdn.jsdelivr.net/npm/github-markdown-css@5.1.0/github-markdown.min.css';\n\nexport const go2jsBaseUrl = 'https://cdn.jsdelivr.net/npm/@live-codes/go2js@0.3.0/build';\n\nexport const graphreCdnUrl = 'https://cdn.jsdelivr.net/npm/graphre@0.1.3/dist/graphre.js';\n\nexport const handlebarsBaseUrl = 'https://cdn.jsdelivr.net/npm/handlebars@4.7.7/dist/';\n\nexport const highlightjsUrl =\n  'https://cdn.skypack.dev/pin/highlight.js@v11.5.1-ByzFRPBe5lvvwKChRHdq/mode=imports,min/optimized/highlightjs.js';\n\nexport const hintCssUrl = 'https://cdn.jsdelivr.net/npm/hint.css@2.7.0/hint.min.css';\n\nexport const hpccJsCdnUrl = 'https://cdn.jsdelivr.net/npm/@hpcc-js/wasm@1.12.9/dist/index.min.js';\n\nexport const imbaBaseUrl = 'https://cdn.jsdelivr.net/npm/imba@2.0.0-alpha.201/dist/';\n\nexport const jestLiteUrl = 'https://cdn.jsdelivr.net/npm/jest-lite@1.0.0-alpha.4/dist/core.js';\n\nexport const jestTypesUrl = 'https://cdn.jsdelivr.net/npm/@types/jest@27.4.1/index.d.ts';\n\nexport const jsclUrl = 'https://cdn.jsdelivr.net/npm/jscl@0.8.2/jscl.min.js';\n\nexport const jsZipUrl =\n  'https://cdn.skypack.dev/-/jszip@v3.7.1-quihaZrSeNyrwABoIb7Z/dist=es2020,mode=imports,min/optimized/jszip.js';\n\nexport const juliaWasmBaseUrl = 'https://cdn.jsdelivr.net/npm/@chriskoch/julia-wasm@1.0.4';\n\nexport const liquidJsUrl =\n  'https://cdn.jsdelivr.net/npm/liquidjs@9.34.0/dist/liquid.browser.min.js';\n\nexport const localforageUrl =\n  'https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js';\n\nexport const luaUrl = 'https://cdn.jsdelivr.net/npm/fengari-web@0.1.4/dist/fengari-web.min.js';\n\nexport const lunaObjViewerStylesUrl =\n  'https://cdn.jsdelivr.net/npm/luna-object-viewer@0.2.0/luna-object-viewer.css';\n\nexport const lunaConsoleStylesUrl =\n  'https://cdn.jsdelivr.net/npm/luna-console@0.2.1/luna-console.css';\n\nexport const malinaUrl = 'https://cdn.jsdelivr.net/npm/malinajs@0.6.52/malina.js';\n\nexport const markedUrl = 'https://cdn.jsdelivr.net/npm/marked@4.0.12/marked.min.js';\n\nexport const mermaidCdnUrl = 'https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js';\n\nexport const monacoEmacsUrl = 'https://unpkg.com/monaco-emacs@0.3.0/dist/monaco-emacs.js';\n\nexport const monacoVimUrl = 'https://unpkg.com/monaco-vim@0.3.5/dist/monaco-vim.js';\n\nexport const mustacheUrl = 'https://cdn.jsdelivr.net/npm/mustache@4.2.0/mustache.min.js';\n\nexport const nomnomlCdnUrl = 'https://cdn.jsdelivr.net/npm/nomnoml@1.4.0/dist/nomnoml.min.js';\n\nexport const normalizeCssUrl = 'https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css';\n\nexport const nunjucksBaseUrl = 'https://cdn.jsdelivr.net/npm/nunjucks@3.2.3/browser/';\n\nexport const opalBaseUrl = 'https://cdn.opalrb.com/opal/1.4.1/';\n\nexport const parinferUrl =\n  'https://cdn.jsdelivr.net/npm/@chrisoakman/parinfer@3.13.1/parinfer.min.js';\n\nexport const pintoraUrl =\n  'https://cdn.jsdelivr.net/npm/@pintora/standalone@0.1.0/lib/pintora-standalone.umd.min.js';\n\nexport const plotlyCdnUrl = 'https://cdn.jsdelivr.net/npm/plotly.js@2.9.0/dist/plotly.min.js';\n\nexport const postcssImportUrlUrl =\n  'https://cdn.jsdelivr.net/npm/@live-codes/postcss-import-url@0.1.2/dist/postcss-import-url.js';\n\nexport const prettierBaseUrl = 'https://cdn.jsdelivr.net/npm/prettier@2.5.1/';\n\nexport const prettierPhpUrl =\n  'https://cdn.jsdelivr.net/npm/@prettier/plugin-php@0.18.0/standalone.js';\n\nexport const prismBaseUrl = 'https://cdn.jsdelivr.net/npm/prismjs@1.26.0/components/';\n\nexport const pyodideBaseUrl = 'https://cdn.jsdelivr.net/pyodide/v0.18.1/full/';\n\nexport const qrcodeUrl = 'https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js';\n\nexport const quillEditorCdnBaseUrl = 'https://cdn.jsdelivr.net/npm/quill@2.0.0-dev.4/dist';\n\nexport const quillHtmlEditUrl =\n  'https://cdn.jsdelivr.net/npm/quill-html-edit-button@2.2.7/dist/quill.htmlEditButton.min.js';\n\nexport const quillBlotFormaterUrl =\n  'https://cdn.jsdelivr.net/npm/quill-blot-formatter@1.0.5/dist/quill-blot-formatter.min.js';\n\nexport const quillBetterTableBaseUrl =\n  'https://cdn.jsdelivr.net/npm/quill-better-table@1.2.10/dist';\n\nexport const requireUrl = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js';\n\nexport const rescriptCompilerUrl = 'https://cdn.rescript-lang.org/v9.1.2/compiler.js';\n\nexport const rescriptReactUrl = 'https://cdn.rescript-lang.org/v9.1.2/%40rescript/react/cmij.js';\n\nexport const rescriptStdLibBaseUrl = 'https://cdn.jsdelivr.net/npm/@rescript/std@9.1.3/lib/es6/';\n\nexport const resetCssUrl = 'https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css';\n\nexport const riotBaseUrl = 'https://cdn.jsdelivr.net/npm/riot@6.1.2/';\n\nexport const snackbarUrl =\n  'https://cdn.jsdelivr.net/npm/@snackbar/core@1.7.0/dist/snackbar.min.css';\n\nexport const spacingJsUrl = 'https://cdn.jsdelivr.net/npm/spacingjs@1.0.7/dist/bundle.min.js';\n\nexport const sqlFormatterUrl =\n  'https://cdn.jsdelivr.net/npm/sql-formatter@4.0.2/dist/sql-formatter.min.js';\n\nexport const sqljsBaseUrl = 'https://cdn.jsdelivr.net/npm/sql.js@1.6.2/dist/';\n\nexport const stencilUrl =\n  'https://cdn.jsdelivr.net/npm/@stencil/core@2.13.0/compiler/stencil.min.js';\n\nexport const svgbobWasmCdnUrl =\n  'https://cdn.jsdelivr.net/npm/svgbob-wasm@0.4.1-a0/svgbob_wasm_bg.wasm';\n\nexport const tagifyBaseUrl = 'https://cdn.jsdelivr.net/npm/@yaireo/tagify@4.9.6/dist/';\n\nexport const tailwindcssUrl =\n  'https://cdn.jsdelivr.net/npm/@live-codes/tailwindcss-browser-plugin@0.3.2/dist/tailwindcss.umd.min.js';\n\nexport const tauPrologBaseUrl = 'https://cdn.jsdelivr.net/npm/tau-prolog@0.3.2/modules/';\n\nexport const twigUrl = 'https://cdn.jsdelivr.net/npm/twig@1.15.4/twig.min.js';\n\nexport const typescriptUrl = 'https://cdn.jsdelivr.net/npm/typescript@4.5.5/lib/typescript.min.js';\n\nexport const uniterUrl = 'https://cdn.jsdelivr.net/npm/uniter@2.17.0/dist/uniter.js';\n\nexport const vegaCdnUrl = 'https://cdn.jsdelivr.net/npm/vega@5.21.0/build/vega.min.js';\n\nexport const vegaLiteCdnUrl = 'https://cdn.jsdelivr.net/npm/vega-lite@5.2.0/build/vega-lite.min.js';\n\nexport const vueSfcLoaderCdnBaseUrl = 'https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/';\n\nexport const wabtjsUrl = 'https://cdn.jsdelivr.net/npm/wabt@1.0.26/index.js';\n\nexport const waveDromBaseUrl = 'https://cdn.jsdelivr.net/npm/wavedrom@2.9.0/';\n", "/* eslint-disable no-console */\nimport type { Config, CompilerFunction } from '../../models';\nimport {\n  blobToBase64,\n  getWorkerDataURL,\n  loadScript,\n  stringToValidJson,\n  getLanguageCustomSettings,\n  removeComments,\n  runOrContinue,\n} from '../../utils';\nimport {\n  cytoscapeSvgUrl,\n  cytoscapeUrl,\n  elkjsBaseUrl,\n  graphreCdnUrl,\n  hpccJsCdnUrl,\n  mermaidCdnUrl,\n  nomnomlCdnUrl,\n  pintoraUrl,\n  plotlyCdnUrl,\n  svgbobWasmCdnUrl,\n  vegaCdnUrl,\n  vegaLiteCdnUrl,\n  vendorsBaseUrl,\n  waveDromBaseUrl,\n} from '../../vendors';\n\nlet useShadowDom = false;\n\nconst displaySVG = (el: any, svg: string) => {\n  if (el.tagName.toLowerCase() === 'img') {\n    el.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));\n  } else {\n    el.innerHTML = svg;\n  }\n};\n\nconst toValidJson = (str: string) => stringToValidJson(removeComments(str));\n\nconst compile = async (\n  code: string,\n  type: string,\n  loadFn: () => Promise<void>,\n  renderFn: (src: string, script: HTMLScriptElement) => string | Promise<string>,\n  shadowDom = false,\n): Promise<string> => {\n  if (!code) return '';\n\n  const temp = document.createElement('div');\n  temp.innerHTML = code;\n\n  const scripts = temp.querySelectorAll<HTMLScriptElement>(\n    `script[type=\"application/diagram-${type}\"]`,\n  );\n  if (scripts.length === 0) {\n    temp.remove();\n    return code;\n  }\n  await loadFn();\n  for (const script of scripts) {\n    if (!script.src && !script.innerHTML.trim()) continue;\n\n    const output = script.dataset.output;\n    if (!output) continue;\n    const content = script.src\n      ? await fetch(script.src).then((res) => res.text())\n      : script.innerHTML;\n\n    let svg = await renderFn(content, script);\n    const elements = temp.querySelectorAll(`[data-src=\"${output}\"]`);\n    for (const el of elements) {\n      if (el.tagName.toLowerCase() !== 'img' && shadowDom) {\n        // scope global styles added in SVG\n        useShadowDom = true;\n        svg = `<svg-container> ${svg} </svg-container>`;\n      }\n      displaySVG(el, svg);\n    }\n    script.remove();\n  }\n  const result = temp.innerHTML;\n  temp.remove();\n  return result;\n};\n\nconst compileGnuplot = async (code: string) => {\n  const temp = document.createElement('div');\n  temp.innerHTML = code;\n  document.body.appendChild(temp);\n\n  const scripts = temp.querySelectorAll<HTMLScriptElement>(\n    'script[type=\"application/diagram-gnuplot\"]',\n  );\n  if (scripts.length === 0) {\n    temp.remove();\n    return code;\n  }\n\n  type InputFiles = Array<{ fileName: string; content: string }>;\n\n  const gnuplotCdnBaseUrl = vendorsBaseUrl + 'gnuplot';\n  const Gnuplot: any = await loadScript(gnuplotCdnBaseUrl + '/gnuplot_api.js', 'Gnuplot');\n  const workerUrl = getWorkerDataURL(gnuplotCdnBaseUrl + '/gnuplot.js');\n  const gnuplot = ((window as any).gnuplot = (window as any).gnuplot || new Gnuplot(workerUrl));\n  const runCode = (code: string, files: InputFiles) =>\n    new Promise(async (resolve) => {\n      await Promise.all(\n        files.map(\n          (file) =>\n            new Promise((resolvePut) => {\n              gnuplot.putFile(file.fileName, file.content, resolvePut);\n            }),\n        ),\n      );\n      gnuplot.run(code, resolve);\n    });\n\n  const getImgUrl = (fileName: string) =>\n    new Promise<string>((resolve) => {\n      gnuplot.getFile(fileName, function (e: { content?: ArrayBuffer }) {\n        if (!e?.content) {\n          // gnuplot.onError(`Output file \"${fileName}\" is not found!`);\n          resolve('');\n          return;\n        }\n        const ab = new Uint8Array(e.content);\n        const blob = new Blob([ab], { type: 'image/svg+xml' });\n        blobToBase64(blob).then(resolve);\n      });\n    });\n\n  await new Promise((resolveDel) => gnuplot.removeFiles(null, resolveDel));\n\n  const inputFiles: InputFiles = [];\n  const fileScripts = temp.querySelectorAll<HTMLScriptElement>(\n    'script[type=\"application/diagram-gnuplot-file\"]',\n  );\n  for (const fileScript of fileScripts) {\n    if (!fileScript.dataset.file && !fileScript.src) continue;\n    const content = fileScript.src\n      ? await fetch(fileScript.src).then((res) => res.text())\n      : fileScript.innerHTML;\n    const fileName =\n      fileScript.dataset.file ||\n      fileScript.src?.split('/')[fileScript.src?.split('/').length - 1] ||\n      'data.txt';\n    inputFiles.push({ fileName, content });\n    fileScript.remove();\n  }\n\n  for (const script of scripts) {\n    if (!script.src && !script.innerHTML.trim()) continue;\n\n    const content = script.src\n      ? await fetch(script.src).then((res) => res.text())\n      : script.innerHTML;\n\n    await runCode(content, inputFiles);\n    script.remove();\n  }\n\n  const elements = temp.querySelectorAll<HTMLImageElement>(`[data-src]`);\n  for (const el of elements) {\n    const imgUrl = await getImgUrl(el.dataset.src || '');\n    if (!imgUrl) continue;\n    if (el.tagName.toLowerCase() === 'img') {\n      el.src = imgUrl;\n    } else {\n      el.innerHTML = atob(imgUrl.replace('data:image/svg+xml;base64,', ''));\n    }\n  }\n  const result = temp.innerHTML;\n  temp.remove();\n  return result;\n};\n\nconst compileMermaid = async (code: string) => {\n  let mermaid: any;\n  const load = async () => {\n    mermaid = await loadScript(mermaidCdnUrl, 'mermaid');\n    mermaid.mermaidAPI.initialize({\n      startOnLoad: false,\n    });\n  };\n  let count = 0;\n  const counter = () => count++;\n  const render = (src: string) => {\n    const placeholder = document.createElement('div');\n    placeholder.id = 'livecodes-mermaid-chart-' + counter();\n    document.body.appendChild(placeholder);\n    const svg = mermaid.mermaidAPI.render(placeholder.id, src.trim());\n    placeholder.remove();\n    return svg;\n  };\n  return compile(code, 'mermaid', load, render);\n};\n\nconst compileGraphviz = async (code: string) => {\n  let hpccWasm: any;\n  const load = async () => {\n    hpccWasm = await loadScript(hpccJsCdnUrl, '@hpcc-js/wasm');\n  };\n  const render = (src: string, script: HTMLScriptElement) => {\n    const layout = script.dataset.layout || 'dot';\n    return hpccWasm.graphviz.layout(src, 'svg', layout);\n  };\n  return compile(code, 'graphviz', load, render);\n};\n\nconst compileVega = async (code: string) => {\n  const temp = document.createElement('div');\n  temp.innerHTML = code;\n\n  const vegaLiteScripts = temp.querySelectorAll<HTMLScriptElement>(\n    'script[type=\"application/diagram-vega-lite\"]',\n  );\n\n  let vega: any;\n  if (vegaLiteScripts.length > 0) {\n    vega = await loadScript(vegaCdnUrl, 'vega');\n    const vegaLite: any = await loadScript(vegaLiteCdnUrl, 'vegaLite');\n\n    for (const vegaLiteScript of vegaLiteScripts) {\n      if (!vegaLiteScript.src && !vegaLiteScript.innerHTML.trim()) continue;\n\n      const output = vegaLiteScript.dataset.output;\n      if (!output) continue;\n\n      const vegaLiteOptions = {};\n      try {\n        const content = vegaLiteScript.src\n          ? await fetch(vegaLiteScript.src).then((res) => res.json())\n          : JSON.parse(toValidJson(vegaLiteScript.innerHTML));\n        vegaLiteScript.innerHTML = JSON.stringify(vegaLite.compile(content, vegaLiteOptions).spec);\n        vegaLiteScript.type = 'application/diagram-vega';\n        vegaLiteScript.removeAttribute('src');\n      } catch {\n        vegaLiteScript.remove();\n        throw new Error('failed to parse vegaLite specs.');\n      }\n    }\n  }\n\n  const load = async () => {\n    vega = vega || (await loadScript(vegaCdnUrl, 'vega'));\n  };\n  const render = async (src: any, options: Record<string, any> = {}) => {\n    const diagramContainer = document.createElement('div');\n    try {\n      const specs = JSON.parse(toValidJson(src));\n      const view = new vega.View(vega.parse(specs), {\n        ...options,\n        renderer: 'svg',\n        container: diagramContainer,\n      });\n      await view.runAsync();\n      return diagramContainer.querySelector('svg')?.outerHTML || '';\n    } catch {\n      throw new Error('failed to parse vega specs.');\n    } finally {\n      diagramContainer.remove();\n    }\n  };\n\n  const result = await compile(temp.innerHTML, 'vega', load, render);\n  temp.remove();\n  return result;\n};\n\nconst compilePlotly = async (code: string) => {\n  let Plotly: any;\n  const load = async () => {\n    Plotly = await loadScript(plotlyCdnUrl, 'Plotly');\n  };\n  const render = (src: string) => {\n    const diagramContainer = document.createElement('div');\n    try {\n      const specs = JSON.parse(toValidJson(src));\n      Plotly.newPlot(diagramContainer, specs.data, specs.layout, { displayModeBar: false });\n      return diagramContainer.querySelector('svg')?.outerHTML || '';\n    } catch {\n      throw new Error('failed to parse plotly specs.');\n    } finally {\n      diagramContainer.remove();\n    }\n  };\n  return compile(code, 'plotly', load, render);\n};\n\nconst compileSvgBob = async (code: string) => {\n  let svgbob: any;\n  const load = async () => {\n    const { svgbobWasm } = await import(vendorsBaseUrl + 'svgbob-wasm/svgbob-wasm.js');\n    svgbob = await svgbobWasm(svgbobWasmCdnUrl);\n  };\n  const render = (src: string) => svgbob.convert_string(src);\n  return compile(code, 'svgbob', load, render, true);\n};\n\nconst compileWaveDrom = async (code: string) => {\n  let WaveDrom: any;\n  const load = async () => {\n    await loadScript(waveDromBaseUrl + 'skins/default.js', 'WaveSkin');\n    WaveDrom = await loadScript(waveDromBaseUrl + 'wavedrom.min.js', 'WaveDrom');\n  };\n  const render = (src: string) => {\n    const diagramContainer = document.createElement('div');\n    try {\n      const obj = JSON.parse(toValidJson(src));\n      diagramContainer.id = 'diagram-id';\n      document.body.appendChild(diagramContainer);\n      WaveDrom.RenderWaveForm(diagramContainer.id, obj, '');\n      const svg = diagramContainer.innerHTML || '';\n      return svg;\n    } catch {\n      throw new Error('failed to parse WaveDrom specs.');\n    } finally {\n      diagramContainer.remove();\n    }\n  };\n  return compile(code, 'wavedrom', load, render);\n};\n\nconst compileNomnoml = async (code: string) => {\n  let nomnoml: any;\n  const load = async () => {\n    await loadScript(graphreCdnUrl, 'graphre');\n    nomnoml = await loadScript(nomnomlCdnUrl, 'nomnoml');\n  };\n  const render = (src: string) => nomnoml.renderSvg(src);\n  return compile(code, 'nomnoml', load, render);\n};\n\nconst compileElk = async (code: string) => {\n  let elk: any;\n  let renderer: any;\n  const load = async () => {\n    const elkjsUrl = elkjsBaseUrl + 'elk-api.js';\n    const elkjsWorkerUrl = elkjsBaseUrl + 'elk-worker.min.js';\n    const elksvgUrl = vendorsBaseUrl + 'elkjs-svg/elkjs-svg.js';\n    const ELK: any = await loadScript(elkjsUrl, 'ELK');\n    const elksvg: any = await loadScript(elksvgUrl, 'elksvg');\n    elk = new ELK({ workerUrl: getWorkerDataURL(elkjsWorkerUrl) });\n    renderer = new elksvg.Renderer();\n  };\n  const render = (src: string) => {\n    try {\n      const specs = JSON.parse(toValidJson(src));\n      return elk.layout(specs).then((data: string) => renderer.toSvg(data));\n    } catch {\n      throw new Error('failed to parse ELK JSON.');\n    }\n  };\n  return compile(code, 'elk', load, render, true);\n};\n\nconst compileCytoscape = async (code: string) => {\n  let cytoscape: any;\n  let cytoscapeSvg: any;\n  const load = async () => {\n    [cytoscape, cytoscapeSvg] = await Promise.all([\n      loadScript(cytoscapeUrl, 'cytoscape'),\n      loadScript(cytoscapeSvgUrl, 'cytoscapeSvg'),\n    ]);\n    cytoscape.use(cytoscapeSvg);\n  };\n  const render = (src: string) => {\n    const cyEl = document.createElement('div');\n    cyEl.style.display = 'block';\n    cyEl.style.visibility = 'none';\n    cyEl.style.height = '300px';\n    cyEl.style.width = '300px';\n    document.body.appendChild(cyEl);\n    try {\n      const options = {\n        ...JSON.parse(toValidJson(removeComments(src))),\n        container: cyEl,\n      };\n      return cytoscape(options).svg({ scale: 1, full: true });\n    } catch {\n      throw new Error('failed to parse Cytoscape options.');\n    } finally {\n      cyEl.remove();\n    }\n  };\n  return compile(code, 'cytoscape', load, render);\n};\n\nconst compilePintora = async (code: string, config: Config) => {\n  let pintora: any;\n  const load = async () => {\n    pintora = await loadScript(pintoraUrl, 'pintora');\n  };\n  const render = (src: string) => {\n    const container = document.createElement('div');\n    pintora.default.renderTo(src, {\n      container,\n      config: {\n        ...getLanguageCustomSettings('pintora', config),\n      },\n    });\n    // allow svg to be rendered as image\n    const svg = container.firstElementChild;\n    svg?.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    svg?.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n    return container.innerHTML;\n  };\n  return compile(code, 'pintora', load, render);\n};\n\nconst getShadowDomScript = () =>\n  useShadowDom\n    ? `\n<script>\n  class SVGContainer extends HTMLElement {\n    constructor() {\n      super();\n      const shadowRoot = this.attachShadow({mode: 'closed'});\n      shadowRoot.append(...this.childNodes);\n    }\n  }\n  customElements.define('svg-container', SVGContainer);\n</script>\n`\n    : '';\n\nconst run = (fn: (str: string) => Promise<string>) => runOrContinue(fn, console.error);\n\nexport const diagramsCompiler: CompilerFunction = async (code: string, { config }) => {\n  const result = await Promise.resolve(code)\n    .then(run(compileGnuplot))\n    .then(run(compileMermaid))\n    .then(run(compileGraphviz))\n    .then(run(compileVega))\n    .then(run(compilePlotly))\n    .then(run(compileSvgBob))\n    .then(run(compileWaveDrom))\n    .then(run(compileNomnoml))\n    .then(run(compileElk))\n    .then(run(compileCytoscape))\n    .then(run((src) => compilePintora(src, config)))\n    .catch((err) => {\n      // eslint-disable-next-line no-console\n      console.error(err);\n      return code;\n    });\n  return result + getShadowDomScript();\n};\n"],
  "mappings": "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",
  "names": ["stringToValidJson", "str", "matchedStr", "loadScript", "url", "name", "resolve", "reject", "script", "removeEventListeners", "onLoad", "onError", "i", "blobToBase64", "file", "resolve", "reject", "reader", "error", "getWorkerDataURL", "url", "content", "removeComments", "src", "getLanguageCustomSettings", "language", "config", "runOrContinue", "fn", "catchFn", "x", "error", "vendorsBaseUrl", "cytoscapeSvgUrl", "cytoscapeUrl", "elkjsBaseUrl", "graphreCdnUrl", "hpccJsCdnUrl", "mermaidCdnUrl", "nomnomlCdnUrl", "pintoraUrl", "plotlyCdnUrl", "svgbobWasmCdnUrl", "vegaCdnUrl", "vegaLiteCdnUrl", "waveDromBaseUrl", "useShadowDom", "displaySVG", "el", "svg", "toValidJson", "str", "stringToValidJson", "removeComments", "compile", "code", "type", "loadFn", "renderFn", "shadowDom", "temp", "scripts", "script", "output", "content", "res", "elements", "result", "compileGnuplot", "gnuplotCdnBaseUrl", "vendorsBaseUrl", "Gnuplot", "loadScript", "workerUrl", "getWorkerDataURL", "gnuplot", "runCode", "files", "resolve", "file", "resolvePut", "getImgUrl", "fileName", "e", "ab", "blob", "blobToBase64", "resolveDel", "inputFiles", "fileScripts", "fileScript", "imgUrl", "compileMermaid", "mermaid", "load", "mermaidCdnUrl", "count", "counter", "src", "placeholder", "compileGraphviz", "hpccWasm", "hpccJsCdnUrl", "layout", "compileVega", "vegaLiteScripts", "vega", "vegaCdnUrl", "vegaLite", "vegaLiteCdnUrl", "vegaLiteScript", "vegaLiteOptions", "render", "options", "diagramContainer", "specs", "compilePlotly", "Plotly", "plotlyCdnUrl", "compileSvgBob", "svgbob", "svgbobWasm", "svgbobWasmCdnUrl", "compileWaveDrom", "WaveDrom", "waveDromBaseUrl", "obj", "compileNomnoml", "nomnoml", "graphreCdnUrl", "nomnomlCdnUrl", "compileElk", "elk", "renderer", "elkjsUrl", "elkjsBaseUrl", "elkjsWorkerUrl", "elksvgUrl", "ELK", "elksvg", "data", "compileCytoscape", "cytoscape", "cytoscapeSvg", "cytoscapeUrl", "cytoscapeSvgUrl", "cyEl", "compilePintora", "config", "pintora", "pintoraUrl", "container", "getLanguageCustomSettings", "getShadowDomScript", "run", "fn", "runOrContinue", "diagramsCompiler", "err"]
}
