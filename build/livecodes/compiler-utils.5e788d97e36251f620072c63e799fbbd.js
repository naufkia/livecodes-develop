"use strict";(()=>{var i=t=>{function e(o){return typeof HTMLElement=="object"?o instanceof HTMLElement:o&&typeof o=="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName=="string"}function s(o){return typeof Node=="object"?o instanceof Node:o&&typeof o=="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"}function a(o){return Object.prototype.toString.call(o)==="[object HTMLDocument]"}function p(o){return Object.prototype.toString.call(o)==="[object Window]"}let r=Object.prototype.toString.call(t);if(t===void 0)return"undefined";if(t===null)return"null";if(p(t))return"window";if(a(t))return"document";if(e(t))return"element";if(s(t))return"node";if(t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return"buffer";if(typeof window=="object"&&t===window)return"window";if(typeof global=="object"&&t===global)return"global";if(typeof t=="number"&&isNaN(t)||typeof t=="object"&&r==="[object Number]"&&isNaN(t))return"nan";if(typeof t=="object"&&r.substr(-6)==="Event]")return"event";if(r.substr(0,12)==="[object HTML")return"element";if(r.substr(0,12)==="[object Node")return"node";let n=r.match(/\[object\s*([^\]]+)\]/);return n?n[1].toLowerCase():"object"};function c(t){return t.map(e=>{switch(i(e)){case"window":case"function":case"date":case"symbol":return{type:i(e),content:e.toString()};case"document":return{type:i(e),content:e.documentElement.outerHTML};case"element":return{type:i(e),content:e.outerHTML};case"node":return{type:i(e),content:e.textContent};case"array":return{type:i(e),content:e.map(s=>c([s])[0].content)};case"object":return{type:i(e),content:Object.keys(e).reduce((s,a)=>({...s,[a]:c([e[a]])[0].content}),{})};case"error":return{type:i(e),content:e.constructor.name+": "+e.message}}return{type:"other",content:e}})}var d=()=>{window.console=new Proxy(console,{get(t,e){return function(...s){if(!(e in t)){let a=`Uncaught TypeError: console.${String(e)} is not a function`;t.error(a),parent.postMessage({type:"console",method:"error",args:c([a])},"*");return}t[e](...s),parent.postMessage({type:"console",method:e,args:c(s)},"*")}}}),window.addEventListener("error",t=>{parent.postMessage({type:"console",method:"error",args:c([t.message])},"*")})};d();window.initCompiler=async t=>{let e=t.baseUrl,s=e+"compile.worker.e2317544ebd95f939bf4f47c083d3079.js",a=new URL(e).origin,p=`importScripts("${s}");`,r=new Worker("data:text/javascript;base64,"+btoa(p));await new Promise(n=>{let o=document.createElement("script");o.src=e+"compile.page.b438f97174c6a5b148ee11d5c4ea3c53.js",o.onload=()=>n(),document.head.appendChild(o)}),r.addEventListener("message",async function(n){if(n.data.type==="compileInCompiler"){r.postMessage(n.data);return}n.data.payload&&window.compilers&&window.compilers[n.data.payload.language]&&(n.data.payload.compiled=await window.compilers[n.data.payload.language](n.data.payload.compiled,{config:n.data.payload.config,language:n.data.payload.language,baseUrl:e,options:n.data.payload.options,worker:r})),n.data.trigger==="compileInCompiler"?r.postMessage({...n.data,from:"compiler"}):parent.postMessage({...n.data,from:"compiler"},a)}),window.addEventListener("message",async function(n){r.postMessage(n.data)}),r.postMessage(t)};})();
//# sourceMappingURL=compiler-utils.js.map
