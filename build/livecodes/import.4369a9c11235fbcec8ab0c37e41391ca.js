var Xr=Object.create;var xe=Object.defineProperty;var Yr=Object.getOwnPropertyDescriptor;var eo=Object.getOwnPropertyNames;var to=Object.getPrototypeOf,ro=Object.prototype.hasOwnProperty;var oo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var so=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of eo(t))!ro.call(e,c)&&c!==r&&xe(e,c,{get:()=>t[c],enumerable:!(n=Yr(t,c))||n.enumerable});return e};var no=(e,t,r)=>(r=e!=null?Xr(to(e)):{},so(t||!e||!e.__esModule?xe(r,"default",{value:e,enumerable:!0}):r,e));var ve=oo((os,Q)=>{var Le=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function c(i,a){if(!n[i]){n[i]={};for(var o=0;o<i.length;o++)n[i][i.charAt(o)]=o}return n[i][a]}var m={compressToBase64:function(i){if(i==null)return"";var a=m._compress(i,6,function(o){return t.charAt(o)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(i){return i==null?"":i==""?null:m._decompress(i.length,32,function(a){return c(t,i.charAt(a))})},compressToUTF16:function(i){return i==null?"":m._compress(i,15,function(a){return e(a+32)})+" "},decompressFromUTF16:function(i){return i==null?"":i==""?null:m._decompress(i.length,16384,function(a){return i.charCodeAt(a)-32})},compressToUint8Array:function(i){for(var a=m.compress(i),o=new Uint8Array(a.length*2),s=0,l=a.length;s<l;s++){var f=a.charCodeAt(s);o[s*2]=f>>>8,o[s*2+1]=f%256}return o},decompressFromUint8Array:function(i){if(i==null)return m.decompress(i);for(var a=new Array(i.length/2),o=0,s=a.length;o<s;o++)a[o]=i[o*2]*256+i[o*2+1];var l=[];return a.forEach(function(f){l.push(e(f))}),m.decompress(l.join(""))},compressToEncodedURIComponent:function(i){return i==null?"":m._compress(i,6,function(a){return r.charAt(a)})},decompressFromEncodedURIComponent:function(i){return i==null?"":i==""?null:(i=i.replace(/ /g,"+"),m._decompress(i.length,32,function(a){return c(r,i.charAt(a))}))},compress:function(i){return m._compress(i,16,function(a){return e(a)})},_compress:function(i,a,o){if(i==null)return"";var s,l,f={},S={},L="",v="",y="",x=2,E=3,b=2,j=[],d=0,g=0,k;for(k=0;k<i.length;k+=1)if(L=i.charAt(k),Object.prototype.hasOwnProperty.call(f,L)||(f[L]=E++,S[L]=!0),v=y+L,Object.prototype.hasOwnProperty.call(f,v))y=v;else{if(Object.prototype.hasOwnProperty.call(S,y)){if(y.charCodeAt(0)<256){for(s=0;s<b;s++)d=d<<1,g==a-1?(g=0,j.push(o(d)),d=0):g++;for(l=y.charCodeAt(0),s=0;s<8;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1}else{for(l=1,s=0;s<b;s++)d=d<<1|l,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=0;for(l=y.charCodeAt(0),s=0;s<16;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1}x--,x==0&&(x=Math.pow(2,b),b++),delete S[y]}else for(l=f[y],s=0;s<b;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1;x--,x==0&&(x=Math.pow(2,b),b++),f[v]=E++,y=String(L)}if(y!==""){if(Object.prototype.hasOwnProperty.call(S,y)){if(y.charCodeAt(0)<256){for(s=0;s<b;s++)d=d<<1,g==a-1?(g=0,j.push(o(d)),d=0):g++;for(l=y.charCodeAt(0),s=0;s<8;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1}else{for(l=1,s=0;s<b;s++)d=d<<1|l,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=0;for(l=y.charCodeAt(0),s=0;s<16;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1}x--,x==0&&(x=Math.pow(2,b),b++),delete S[y]}else for(l=f[y],s=0;s<b;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1;x--,x==0&&(x=Math.pow(2,b),b++)}for(l=2,s=0;s<b;s++)d=d<<1|l&1,g==a-1?(g=0,j.push(o(d)),d=0):g++,l=l>>1;for(;;)if(d=d<<1,g==a-1){j.push(o(d));break}else g++;return j.join("")},decompress:function(i){return i==null?"":i==""?null:m._decompress(i.length,32768,function(a){return i.charCodeAt(a)})},_decompress:function(i,a,o){var s=[],l,f=4,S=4,L=3,v="",y=[],x,E,b,j,d,g,k,u={val:o(0),position:a,index:1};for(x=0;x<3;x+=1)s[x]=x;for(b=0,d=Math.pow(2,2),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;switch(l=b){case 0:for(b=0,d=Math.pow(2,8),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;k=e(b);break;case 1:for(b=0,d=Math.pow(2,16),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;k=e(b);break;case 2:return""}for(s[3]=k,E=k,y.push(k);;){if(u.index>i)return"";for(b=0,d=Math.pow(2,L),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;switch(k=b){case 0:for(b=0,d=Math.pow(2,8),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;s[S++]=e(b),k=S-1,f--;break;case 1:for(b=0,d=Math.pow(2,16),g=1;g!=d;)j=u.val&u.position,u.position>>=1,u.position==0&&(u.position=a,u.val=o(u.index++)),b|=(j>0?1:0)*g,g<<=1;s[S++]=e(b),k=S-1,f--;break;case 2:return y.join("")}if(f==0&&(f=Math.pow(2,L),L++),s[k])v=s[k];else if(k===S)v=E+E.charAt(0);else return null;y.push(v),s[S++]=E+v.charAt(0),f--,E=v,f==0&&(f=Math.pow(2,L),L++)}}};return m}();typeof define=="function"&&define.amd?define(function(){return Le}):typeof Q<"u"&&Q!=null&&(Q.exports=Le)});var se={title:"Untitled Project",description:"",tags:[],autoupdate:!0,autosave:!1,delay:1500,formatOnsave:!1,mode:"full",theme:"dark",recoverUnsaved:!0,showSpacing:!1,readonly:!1,allowLangChange:!0,activeEditor:void 0,languages:void 0,markup:{language:"html",content:""},style:{language:"css",content:""},script:{language:"javascript",content:""},stylesheets:[],scripts:[],cssPreset:"",imports:{},types:{},tests:{language:"typescript",content:""},tools:{enabled:"all",active:"",status:""},zoom:1,processors:[],customSettings:{},editor:void 0,fontFamily:void 0,fontSize:void 0,useTabs:!1,tabSize:2,lineNumbers:!0,wordWrap:!1,closeBrackets:!0,semicolons:!0,singleQuote:!1,trailingComma:!0,emmet:!0,editorMode:void 0,version:"0.6.0"};var ne=`<div id="import-container" class="modal-container">
  <div class="modal-title">Import</div>
  <ul id="import-tabs" class="modal-tabs">
    <li data-target="import-code" class="active">Import Code</li>
    <li data-target="import-json">Import Project JSON</li>
    <li data-target="bulk-import-json">Bulk Import</li>
  </ul>
  <div id="import-screens" class="modal-screen-container">
    <div id="import-code" class="tab-content active">
      <div class="modal-screen">
        <form id="url-import-form">
          <label for="code-url">URL</label>
          <input type="text" id="code-url" placeholder="https://" />
          <button id="url-import-btn" class="wide-button" type="submit">Import from URL</button>
        </form>
        <form id="local-code-import-form">
          <label for="local-code-input">Local file</label>
          <label for="local-code-input" class="file-input-label">Import local files</label>
          <input type="file" id="local-code-input" class="file-input" multiple />
        </form>
        <div class="description">
          Supported Sources:
          <ul>
            <li>GitHub gist</li>
            <li>GitHub file</li>
            <li>Directory in a GitHub repo</li>
            <li>Gitlab snippet</li>
            <li>Gitlab file</li>
            <li>Directory in a Gitlab repo</li>
            <li>JS Bin</li>
            <li>Raw code</li>
            <li>Code in web page DOM</li>
            <li>Code in zip file</li>
          </ul>
          Please visit the
          <a href="/docs/features/import" target="_blank" rel="noopener">documentations</a>
          for details.
        </div>
      </div>
    </div>
    <div id="import-json" class="tab-content">
      <div class="modal-screen">
        <div class="description">
          Import a single project JSON to editor. A project can be exported from
          settings&nbsp;menu&nbsp;>> Export&nbsp;>> Export&nbsp;Project&nbsp;(JSON).
        </div>
        <form id="json-url-import-form">
          <label for="json-url">URL</label>
          <input type="text" id="json-url" placeholder="https://" />
          <button id="json-url-import-btn" class="wide-button" type="submit">
            Import project from URL
          </button>
        </form>
        <form id="file-url-import-form">
          <label for="file-input">Local file</label>
          <label for="file-input" class="file-input-label">Import project from local file</label>
          <input type="file" id="file-input" class="file-input" accept="application/json" />
        </form>
      </div>
    </div>
    <div id="bulk-import-json" class="tab-content">
      <div class="modal-screen">
        <div class="description">
          Bulk import multiple projects to your saved projects. Projects can be exported from the
          <a href="#" id="link-to-saved-projects">Saved Projects</a> screen.
        </div>
        <form id="bulk-json-url-import-form">
          <label for="bulk-json-url">URL</label>
          <input type="text" id="bulk-json-url" placeholder="https://" />
          <button id="bulk-json-url-import-btn" class="wide-button" type="submit">
            Bulk import from URL
          </button>
        </form>
        <form id="bulk-file-url-import-form">
          <label for="bulk-file-input">Local file</label>
          <label for="bulk-file-input" class="file-input-label">Bulk import from local file</label>
          <input type="file" id="bulk-file-input" class="file-input" accept="application/json" />
        </form>
      </div>
    </div>
  </div>
</div>
`;var be=e=>{let t=document.createElement("textarea");return t.innerHTML=e,t.value};var V=(e,t=!0)=>e.replace(/\\/g,t?"\\\\":"\\").replace(/`/g,"\\`").replace(/<\/script>/g,"<\\/script>"),Se=(...e)=>e.reduce((t,r)=>(...n)=>r(t(...n)));var ao=e=>e.ok?e:Promise.reject(),R=(e,t)=>fetch(e,t).then(ao);var w=(e,t)=>({...t.customSettings[e]});var W=no(ve());var ie=(e,t=!0)=>{let r=(0,W.decompressFromEncodedURIComponent)(e);if(r){if(!t)return r;try{if(JSON.parse(r))return r}catch{}}return(0,W.decompressFromBase64)(e)};var we=e=>e.startsWith("code/"),je=e=>{let t=e.slice(5),r;try{r=JSON.parse(ie(t)||"{}")}catch{r={}}return r};var h="https://cdn.jsdelivr.net/npm/@live-codes/browser-compilers@0.5.13/dist/";var Ee="https://cdn.jsdelivr.net/npm/art-template@4.13.2/lib/template-web.js",Te="https://cdn.jsdelivr.net/npm/@asciidoctor/core@2.2.5/dist/browser/asciidoctor.min.js";var Ue="https://cdn.jsdelivr.net/npm/@assemblyscript/loader@0.19.22/umd/index.js";var ke="https://cdn.jsdelivr.net/npm/@hatemhosny/astro-internal@0.0.4/";var Ce="https://cdn.jsdelivr.net/npm/@babel/standalone@7.17.2/babel.min.js",Me="https://cdn.jsdelivr.net/npm/biwascheme@0.7.4/release/biwascheme-min.js";var ae="https://cdn.jsdelivr.net/npm/brython@3.10.4/";var ce="https://cdn.jsdelivr.net/npm/@live-codes/clio-browser-compiler@0.0.3/public/build/",He="https://cdn.jsdelivr.net/npm/coffeescript@2.6.1/lib/coffeescript-browser-compiler-legacy/coffeescript.js";var Pe="https://cdn.jsdelivr.net/npm/dot@1.1.3/doT.min.js",Ie="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js";var qe="https://cdn.jsdelivr.net/npm/github-markdown-css@5.1.0/github-markdown.min.css",G="https://cdn.jsdelivr.net/npm/@live-codes/go2js@0.3.0/build";var le="https://cdn.jsdelivr.net/npm/handlebars@4.7.7/dist/",Ae="https://cdn.skypack.dev/pin/highlight.js@v11.5.1-ByzFRPBe5lvvwKChRHdq/mode=imports,min/optimized/highlightjs.js";var pe="https://cdn.jsdelivr.net/npm/imba@2.0.0-alpha.201/dist/";var Be="https://cdn.jsdelivr.net/npm/jscl@0.8.2/jscl.min.js",Fe="https://cdn.skypack.dev/-/jszip@v3.7.1-quihaZrSeNyrwABoIb7Z/dist=es2020,mode=imports,min/optimized/jszip.js";var Re="https://cdn.jsdelivr.net/npm/liquidjs@9.34.0/dist/liquid.browser.min.js";var $e="https://cdn.jsdelivr.net/npm/fengari-web@0.1.4/dist/fengari-web.min.js";var Oe="https://cdn.jsdelivr.net/npm/marked@4.0.12/marked.min.js";var _e="https://cdn.jsdelivr.net/npm/mustache@4.2.0/mustache.min.js";var De="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css",me="https://cdn.jsdelivr.net/npm/nunjucks@3.2.3/browser/",J="https://cdn.opalrb.com/opal/1.4.1/",Ne="https://cdn.jsdelivr.net/npm/@chrisoakman/parinfer@3.13.1/parinfer.min.js";var $="https://cdn.jsdelivr.net/npm/prettier@2.5.1/",We="https://cdn.jsdelivr.net/npm/@prettier/plugin-php@0.18.0/standalone.js";var Ge="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";var Je="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css",ue="https://cdn.jsdelivr.net/npm/riot@6.1.2/";var ze="https://cdn.jsdelivr.net/npm/sql-formatter@4.0.2/dist/sql-formatter.min.js",Ke="https://cdn.jsdelivr.net/npm/sql.js@1.6.2/dist/",Ze="https://cdn.jsdelivr.net/npm/@stencil/core@2.13.0/compiler/stencil.min.js";var A="https://cdn.jsdelivr.net/npm/tau-prolog@0.3.2/modules/",Ve="https://cdn.jsdelivr.net/npm/twig@1.15.4/twig.min.js",Qe="https://cdn.jsdelivr.net/npm/typescript@4.5.5/lib/typescript.min.js",Xe="https://cdn.jsdelivr.net/npm/uniter@2.17.0/dist/uniter.js";var X="https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.8.4/dist/",Ye="https://cdn.jsdelivr.net/npm/wabt@1.0.26/index.js";var co={name:"lightningcss",title:"Lightning CSS",isPostcssPlugin:!1,compiler:{url:h+"lightningcss/lightningcss.js",factory:(e,t)=>(self.importScripts(t+"processor-lightningcss-compiler.a16968e2d490306bdcff76989e1868cc.js"),self.createLightningcssCompiler())},editor:"style"};var lo={name:"postcss",title:"Processors:",isPostcssPlugin:!1,compiler:{url:h+"postcss/postcss.js",factory:(e,t)=>(self.importScripts(t+"processor-postcss-compiler.a3d6fb1a92bde99fe75aa117517a82b4.js"),self.createPostcssCompiler())},editor:"style",hidden:!0};var po={name:"autoprefixer",title:"Autoprefixer",isPostcssPlugin:!0,compiler:{url:h+"autoprefixer/autoprefixer.js",factory:e=>self.autoprefixer.autoprefixer({...w("autoprefixer",e)})},editor:"style"},mo={name:"cssnano",title:"cssnano",isPostcssPlugin:!0,compiler:{url:h+"cssnano/cssnano.js",factory:()=>{let e=self.cssnano.cssnanoPresetDefault().plugins,t=[];for(let r of e){let[n,c]=r;(typeof c>"u"||typeof c=="object"&&!c.exclude||typeof c=="boolean"&&c===!0)&&t.push(n(c))}return t}},editor:"style"};var uo={name:"postcssPresetEnv",title:"Preset Env",isPostcssPlugin:!0,compiler:{url:h+"postcss-preset-env/postcss-preset-env.js",factory:e=>self.postcssPresetEnv.postcssPresetEnv({autoprefixer:!1,...w("postcssPresetEnv",e)})},editor:"style"},go={name:"purgecss",title:"PurgeCSS",isPostcssPlugin:!0,needsHTML:!0,compiler:{url:h+"purgecss/purgecss.js",factory:(e,t,r)=>self.purgecss.purgecss({...w("purgecss",e),content:[{raw:`<template>${r.html}
<script>${e.script.content}<\/script></template>`,extension:"html"}]})},editor:"style"};var fo={name:"tokencss",title:"Token CSS",isPostcssPlugin:!0,compiler:{url:h+"tokencss/tokencss.js",factory:e=>{let t=w("tokencss",e);Object.keys(t).length===0&&(t.$schema="https://tokencss.com/schema@0.0.1",t.extends="@tokencss/core/preset");let r=(c,m)=>{let i=JSON.parse(JSON.stringify(c));return Object.keys(m).forEach(a=>{i[a]=typeof m[a]!="object"||Array.isArray(m[a])?m[a]:{...i[a],...m[a]}}),i},n=t.extends?.includes("@tokencss/core/preset")?r(self.tokencss.preset,t):t;return self.tokencss.tokencss({config:n})}},editor:"style"};var ho={name:"unocss",title:"UnoCSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:h+"unocss/unocss.js",factory:(e,t)=>(self.importScripts(t+"processor-unocss-compiler.a194f2252ca2cf42e47b4c5e1426170e.js"),self.createUnocssCompiler())},editor:"style"};var yo={name:"windicss",title:"Windi CSS",isPostcssPlugin:!1,needsHTML:!0,compiler:{url:h+"windicss/windicss.js",factory:(e,t)=>(self.importScripts(t+"processor-windicss-compiler.4fc0b96428f4dfe950213c471d46c5f0.js"),self.createWindicssCompiler())},editor:"style"};var T=(e="")=>{if(!e)return;let t=e?.toLowerCase();return F.find(r=>r.name===t||r.title.toLowerCase()===t||r.extensions.map(n=>n.toLowerCase()).includes(t))?.name};var I=(e="")=>F.find(t=>t.name===T(e))?.editor;var et=async(e,t)=>{window.HighlightJS=window.HighlightJS||(await import(Ae)).default;let r=window.HighlightJS.highlightAuto(e,t);return{language:r.language,secondBest:r.secondBest.language}};var tt={name:"asciidoc",title:"AsciiDoc",compiler:{url:Te,factory:()=>{let e=window.Asciidoctor();return async(t,{config:r})=>e.convert(t,{...w("asciidoc",r)})}},extensions:["adoc","asciidoc","asc"],editor:"markup",preset:"asciidoctor.css"};var Xs=$+"standalone.min.js",p={babel:$+"parser-babel.js",glimmer:$+"parser-glimmer.js",html:$+"parser-html.js",markdown:$+"parser-markdown.js",postcss:$+"parser-postcss.js",php:We,pug:h+"prettier/parser-pug.js"};var rt={name:"babel",title:"Babel",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:{url:Ce,factory:()=>async(e,{config:t})=>window.Babel.transform(e,{filename:"script.tsx",presets:[["env",{modules:!1}],"typescript","react"],...w("babel",t)}).code},extensions:["es","babel"],editor:"script",editorLanguage:"javascript"};var ot={name:"css",title:"CSS",info:!1,parser:{name:"css",pluginUrls:[p.postcss]},compiler:{factory:()=>async e=>e},extensions:["css"],editor:"style"};var st={name:"haml",title:"Haml",compiler:{url:h+"clientside-haml-js/haml.js",factory:(e,t)=>(self.importScripts(t+"lang-haml-compiler.211cfce6320ab3f9b29904b481cfed88.js"),self.createHamlCompiler())},extensions:["haml"],editor:"markup"};var nt={name:"html",title:"HTML",info:!1,parser:{name:"html",pluginUrls:[p.html]},compiler:{factory:()=>async e=>e},extensions:["html","htm"],editor:"markup"};var it={name:"javascript",title:"JS",longTitle:"JavaScript",info:!1,parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:{factory:()=>async e=>e},extensions:["js"],editor:"script"};var at={name:"jsx",title:"JSX",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:"typescript",extensions:["jsx"],editor:"script",editorLanguage:"javascript"};var ct={name:"tsx",title:"TSX",parser:{name:"babel-ts",pluginUrls:[p.babel,p.html]},compiler:"typescript",extensions:["tsx"],editor:"script",editorLanguage:"typescript"};var lt={name:"less",title:"Less",parser:{name:"less",pluginUrls:[p.postcss]},compiler:{url:h+"less/less.js",factory:()=>async(e,{config:t})=>(await window.less.render(e,{...w("less",t)})).css},extensions:["less"],editor:"style"};var pt={name:"markdown",title:"Markdown",parser:{name:"markdown",pluginUrls:[p.markdown,p.html]},compiler:{url:Oe,factory:()=>async(e,{config:t})=>window.marked.parse(e,{...w("markdown",t)})},extensions:["md","markdown","mdown","mkdn"],editor:"markup",preset:"github-markdown-css"};var mt=async(e,t,r,n={},c=self)=>new Promise(m=>{if(!e||!t||!r)return m(e||"");let i=async function(a){let o=a.data.payload;a.data.trigger==="compileInCompiler"&&o?.content===e&&o?.language===t&&(c.removeEventListener("message",i),m(o.compiled))};c.addEventListener("message",i),c.postMessage({type:"compileInCompiler",payload:{content:e,language:t,config:r,options:n}})});var bo=async(e,{config:t,worker:r})=>new Promise(async n=>{if(!e)return n("");let[c,{default:m}]=await Promise.all([import(h+"mdx/mdx.js"),import(h+"remark-gfm/remark-gfm.js")]),i=(await c.compile(e,{remarkPlugins:[m],...w("mdx",t)})).value,o=(f=>f.replace(/, {[^}]*} = _components/g,"").replace(/const {[^:]*} = props.components[^;]*;/g,""))(i),s=`import React from "react";
import ReactDOM from "react-dom";
${V(o,!1)}
ReactDOM.render(<MDXContent />, document.body);
`,l=await mt(s,"jsx",t,{},r);n(`<script type="module">${l}<\/script>`)}),ut={name:"mdx",title:"MDX",parser:{name:"markdown",pluginUrls:[p.markdown,p.html]},compiler:{factory:()=>async e=>e,runOutsideWorker:bo,compiledCodeLanguage:"javascript",imports:{"react/jsx-runtime":"https://esm.sh/react/jsx-runtime"}},extensions:["mdx"],editor:"markup",editorLanguage:"markdown"};var dt={name:"pug",title:"Pug",parser:{name:"pug",pluginUrls:[p.pug]},compiler:{url:h+"pug/pug.min.js",factory:(e,t)=>(self.importScripts(t+"lang-pug-compiler.268e7c99ec5b5feb4dad65a364f81341.js"),self.createPugCompiler())},extensions:["pug","jade"],editor:"markup"};var gt={name:"scss",title:"SCSS",parser:{name:"scss",pluginUrls:[p.postcss]},compiler:{url:h+"sass/sass.js",factory:(e,t)=>(self.importScripts(t+"lang-scss-compiler.c765688ec910b18dfb548ba8579e57e5.js"),self.createScssCompiler())},extensions:["scss"],editor:"style"};var ft={name:"sass",title:"Sass",compiler:"scss",extensions:["sass"],editor:"style"};var ht={name:"svelte",title:"Svelte",parser:{name:"html",pluginUrls:[p.html,p.babel]},compiler:{url:h+"svelte/svelte-compiler.min.js",factory:(e,t)=>(self.importScripts(t+"lang-svelte-compiler.80a1704c10aa090e5c4ba391e1efca20.js"),self.createSvelteCompiler())},extensions:["svelte"],editor:"script",editorLanguage:"html"};var yt={name:"stylus",title:"Stylus",compiler:{url:h+"stylus/stylus.min.js",factory:()=>async e=>window.stylus.render(e)},extensions:["styl"],editor:"style"};var z={target:"es2015",jsx:"react",allowUmdGlobalAccess:!0,esModuleInterop:!0},xt={name:"typescript",title:"TS",longTitle:"TypeScript",parser:{name:"babel-ts",pluginUrls:[p.babel,p.html]},compiler:{url:Qe,factory:()=>async(e,{config:t,language:r})=>window.ts.transpile(e,{...z,...w("typescript",t),...w(r,t)})},extensions:["ts","typescript"],editor:"script"};var So=X+"vue3-sfc-loader.min.js",bt="https://cdn.jsdelivr.net/npm/vue@3",St={name:"vue",title:"Vue 3",longTitle:"Vue 3 SFC",parser:{name:"html",pluginUrls:[p.html]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-vue-compiler.283401784b0a29c4678021716dc861c1.js"),self.createVueCompiler()),scripts:[bt,So],imports:{vue:bt+"/dist/vue.runtime.esm-browser.prod.js"}},extensions:["vue","vue3"],editor:"script",editorLanguage:"html"};var Lo=X+"vue2-sfc-loader.js",Lt="https://cdn.jsdelivr.net/npm/vue@2",vt={name:"vue2",title:"Vue 2",longTitle:"Vue 2 SFC",parser:{name:"html",pluginUrls:[p.html]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-vue-compiler.283401784b0a29c4678021716dc861c1.js"),self.createVue2Compiler()),scripts:[Lt,Lo],imports:{vue:Lt+"/dist/vue.runtime.esm-browser.prod.js"}},extensions:["vue2"],editor:"script",editorLanguage:"html"};var wt={name:"stencil",title:"Stencil",parser:{name:"babel-ts",pluginUrls:[p.babel,p.html]},compiler:{url:Ze,factory:()=>async(e,{config:t})=>(await window.stencil.transpile(e,{sourceMap:!1,target:"es2019",...w("stencil",t)})).code,types:{"@stencil/core":{url:h+"types/stencil-core.d.ts",declareAsModule:!1}}},extensions:["stencil.tsx"],editor:"script",editorLanguage:"typescript"};var jt={name:"coffeescript",title:"Coffee",longTitle:"CoffeeScript",compiler:{url:He,factory:()=>async(e,{config:t})=>window.CoffeeScript.compile(e,{bare:!0,...w("coffeescript",t)})},extensions:["coffee"],editor:"script"};var Et={name:"livescript",title:"LiveScript",compiler:{url:h+"livescript/livescript-min.js",factory:()=>async(e,{config:t})=>window.require("livescript").compile(e,{bare:!0,...w("livescript",t)}),scripts:[h+"livescript/prelude-browser-min.js"]},extensions:["ls"],editor:"script"};var Tt={name:"assemblyscript",title:"AS",longTitle:"AssemblyScript",parser:{name:"babel-ts",pluginUrls:[p.babel]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-assemblyscript-compiler.7a65e47fe4512f160d5ad45d051b0168.js"),self.createAssemblyscriptCompiler()),scripts:({baseUrl:e})=>[Ue,e+"lang-assemblyscript-script.193f545355c0ab8f8ed327d937818d36.js"],scriptType:"application/wasm-uint8",compiledCodeLanguage:"wat",types:{assemblyscript:{url:h+"types/assemblyscript.d.ts",declareAsModule:!1,autoload:!0}}},extensions:["as","ts"],editor:"script",editorLanguage:"typescript"};var vo=ae+"brython.min.js",wo=ae+"brython_stdlib.js",Ut={name:"python",title:"Python",compiler:{factory:()=>async e=>e,scripts:({compiled:e,config:t})=>{let{autoloadStdlib:r,...n}=w("python",t),c=/^(?:from[ ]+(\S+)[ ]+)?import[ ]+(\S+)(?:[ ]+as[ ]+\S+)?[ ]*$/gm,m=r!==!1&&e.match(c)?[wo]:[],i=`window.addEventListener("load", () => {brython(${JSON.stringify(n)})})`,a="data:text/plain;base64,"+btoa(i),o=`window.addEventListener("load", () => {
        const content = __BRYTHON__.python_to_js(\`${V(e)}\`);
        parent.postMessage({type: "compiled", payload: {language: "python", content}}, "*");
      });`,s="data:text/plain;base64,"+btoa(o);return[vo,...m,a,s]},scriptType:"text/python"},extensions:["py"],editor:"script"};var jo=(e,t={})=>Array.from(new Set([...e.matchAll(new RegExp(/^\s*self\.\$require\("(\S+)"\);/gm))].map(r=>r[1]).map(r=>r.split("/")[0]).filter(r=>t.hasOwnProperty(r)||r!=="opal").map(r=>t[r]||`${J+r}.min.js`))),kt={name:"ruby",title:"Ruby",compiler:{url:J+"opal.min.js",factory:()=>(importScripts(J+"opal-parser.min.js"),self.Opal.config.unsupported_features_severity="ignore",self.Opal.load("opal-parser"),async(e,{config:t})=>{let{autoloadStdlib:r,requireMap:n,...c}=w("ruby",t);return self.Opal.compile(e,c)}),scripts:({compiled:e,config:t})=>{let{autoloadStdlib:r,requireMap:n}=w("ruby",t),c=jo(e,n),m=r!==!1?c:[];return[J+"opal.min.js",...m]}},extensions:["rb"],editor:"script"};var Ct={name:"php",title:"PHP",parser:{name:"php",pluginUrls:[p.php]},compiler:{factory:()=>async e=>(e=e.trim(),e.startsWith("<?php")&&(e=e.replace("<?php","/* <?php */"),e.endsWith("?>")&&(e=e.replace("?>","/* ?> */"))),e),scripts:[Xe],deferScripts:!0,scriptType:"text/x-uniter-php",compiledCodeLanguage:"php"},extensions:["php"],editor:"script"};var Mt={name:"perl",title:"Perl",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[h+"perlito/perlito5.min.js",e+"lang-perl-script.1f606d886aeb724510a595d45cbaf555.js"],scriptType:"text/perl"},extensions:["pl","pm"],editor:"script"};var Eo=h+"lua-fmt/lua-fmt.js",Ht={name:"lua",title:"Lua",formatter:{factory:()=>(self.importScripts(Eo),async(e,t)=>({formatted:self.luaFmt.formatText(e),cursorOffset:t}))},compiler:{factory:()=>async e=>e,scripts:[$e],scriptType:"application/lua",compiledCodeLanguage:"lua"},extensions:["lua"],editor:"script"};var de=()=>{let e=Ne;return self.importScripts(e),async t=>({formatted:window.parinfer.parenMode(t).text,cursorOffset:0})},Pt={name:"commonlisp",title:"Lisp",longTitle:"Common Lisp",formatter:{factory:de},compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[Be,e+"lang-commonlisp-script.0c86dfce5f8509928ccf51ff666c7b4b.js"],scriptType:"text/commonlisp",compiledCodeLanguage:"commonlisp",inlineScript:`

    `},extensions:["lisp","common-lisp"],editor:"script",editorLanguage:"scheme"};var It={name:"scheme",title:"Scheme",formatter:{factory:de},compiler:{factory:()=>async e=>e,scripts:[Me],scriptType:"text/biwascheme",compiledCodeLanguage:"scheme"},extensions:["scm"],editor:"script"};var qt={name:"solid",title:"Solid",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:{dependencies:["babel"],url:h+"babel-preset-solid/babel-preset-solid.js",factory:(e,t)=>(self.importScripts(t+"lang-solid-compiler.d94bb9811b03f637f8a55f20c131f21f.js"),self.createSolidCompiler()),types:{"solid-js":{url:h+"types/solid-js.d.ts",declareAsModule:!1}}},extensions:["solid.jsx"],editor:"script",editorLanguage:"javascript"};var At={name:"solid.tsx",title:"Solid (TS)",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:"solid",extensions:["solid.tsx"],editor:"script",editorLanguage:"typescript"};var Bt={name:"pyodide",title:"Pyodide",longTitle:"Python (Pyodide)",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-python-pyodide-script.12c7bd5206632003e3031fba49ea13a7.js"],liveReload:!0,scriptType:"text/python",compiledCodeLanguage:"python"},extensions:["py3"],editor:"script",editorLanguage:"python",largeDownload:!0};var Ft={name:"liquid",title:"Liquid",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Re,factory:(e,t)=>(self.importScripts(t+"lang-liquid-compiler.385aaf468ec3e32b3e3347fad0e9eaff.js"),self.createLiquidCompiler())},extensions:["liquid","liquidjs"],editor:"markup",editorLanguage:"html"};var Rt={name:"ejs",title:"EJS",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Ie,factory:(e,t)=>(self.importScripts(t+"lang-ejs-compiler.e7fe0830aa69a35259b11bef9ed1e73e.js"),self.createEjsCompiler())},extensions:["ejs"],editor:"markup",editorLanguage:"html"};var To=le+"handlebars.min.js",ec=le+"handlebars.runtime.min.js",$t={name:"handlebars",title:"Handlebars",parser:{name:"glimmer",pluginUrls:[p.glimmer]},compiler:{url:To,factory:(e,t)=>(self.importScripts(t+"lang-handlebars-compiler.c9531e926f086be0b31cd35bea117628.js"),self.createHandlebarsCompiler())},extensions:["hbs","handlebars"],editor:"markup",editorLanguage:"html"};var Ot={name:"dot",title:"doT",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Pe,factory:(e,t)=>(self.importScripts(t+"lang-dot-compiler.94002b0703f1ced78c28a6f427bf0e29.js"),self.createDotCompiler())},extensions:["dot"],editor:"markup",editorLanguage:"html"};var Uo=me+"nunjucks.min.js",mc=me+"nunjucks-slim.min.js",_t={name:"nunjucks",title:"Nunjucks",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Uo,factory:(e,t)=>(self.importScripts(t+"lang-nunjucks-compiler.5149959cea55783109ad14e832859337.js"),self.createNunjucksCompiler())},extensions:["njk"],editor:"markup",editorLanguage:"html"};var Dt={name:"go",title:"Go",formatter:{factory:()=>{let e=G+"/index.js";return importScripts(e),async t=>({formatted:await window.go2js.format(t,G),cursorOffset:0})}},compiler:{url:G+"/index.js",factory:()=>async e=>{if(!e)return"";try{return await window.go2js.compile(e,G)}catch(t){return console.error(t),""}}},extensions:["go","golang"],editor:"script"};var ko=async(e,{baseUrl:t,language:r})=>{let{rescriptCompiler:n}=await import(t+"lang-rescript-compiler-esm.7a2adc4368f0026b3379b346820f1853.js");return n(e,{baseUrl:t,language:r})},ge=(e,t)=>(importScripts(e+"lang-rescript-formatter.af3215d3b04feb7226bf04f3c9453388.js"),self.createRescriptFormatter(e,t)),Nt={name:"rescript",title:"ReScript",formatter:{factory:ge},compiler:{factory:()=>async e=>e,runOutsideWorker:ko,scriptType:"module"},extensions:["res","resi"],editor:"script",editorLanguage:"javascript"};var Wt={name:"reason",title:"Reason",formatter:{factory:ge},compiler:"rescript",extensions:["re","rei"],editor:"script",editorLanguage:"javascript"};var Gt={name:"ocaml",title:"OCaml",compiler:"rescript",extensions:["ml","mli"],editor:"script",editorLanguage:"javascript"};var Co=h+"wast-refmt/wast-refmt.js",Mo="application/wasm-uint8",Jt={name:"wat",title:"WAT",longTitle:"WebAssembly Text",formatter:{factory:()=>(importScripts(Co),async e=>{let t=e;try{t=self.wastRefmt.format(e)}catch(r){console.warn("failed parsing WAT",r)}return{formatted:t,cursorOffset:0}})},compiler:{url:Ye,factory:(e,t)=>(self.importScripts(t+"lang-wat-compiler.4fddb11ffae864668523a5b37d2a5712.js"),self.createWatCompiler()),scripts:({baseUrl:e})=>[e+"lang-wat-script.e0ed8bc039ea672c1eaabbe994b672ef.js"],scriptType:Mo,compiledCodeLanguage:"Binary"},extensions:["wat","wast","webassembly","wasm"],editor:"script"};var Ho=ue+"riot+compiler.min.js",Po=ue+"riot.min.js",zt={name:"riot",title:"Riot.js",parser:{name:"html",pluginUrls:[p.html,p.babel]},compiler:{url:Ho,factory:(e,t)=>(self.importScripts(t+"lang-riot-compiler.3a07307fa35830345b09d74b22af7a6d.js"),self.createRiotCompiler()),scripts:[Po],scriptType:"module"},extensions:["riot","riotjs"],editor:"script",editorLanguage:"html"};var Io="application/json",Kt={name:"sql",title:"SQL",formatter:{factory:()=>(importScripts(ze),async e=>({formatted:await self.sqlFormatter.format(e,{linesBetweenQueries:2}),cursorOffset:0}))},compiler:{url:Ke+"sql-wasm.min.js",factory:(e,t)=>(self.importScripts(t+"lang-sql-compiler.7a6736b65b9bfe968279cd988facfcaf.js"),self.createSqlCompiler()),scripts:({baseUrl:e})=>[e+"lang-sql-script.567145561f54bf72aaf9444dc3ccd838.js"],scriptType:Io,compiledCodeLanguage:"json"},extensions:["sql","sqlite","sqlite3"],editor:"script"};var K=h+"react-native-web/react-native-web.js",Zt={name:"react-native",title:"RN",longTitle:"React Native",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:{dependencies:["typescript"],factory:()=>async(e,{config:t,language:r})=>window.ts.transpile(e,{...z,...w("typescript",t),...w(r,t)}),imports:{react:K,"react-native":K}},extensions:["react-native.jsx"],editor:"script",editorLanguage:"javascript"};var Vt={name:"react-native-tsx",title:"RN (TSX)",longTitle:"React Native (TSX)",parser:{name:"babel",pluginUrls:[p.babel,p.html]},compiler:{dependencies:["typescript"],factory:()=>async(e,{config:t,language:r})=>window.ts.transpile(e,{...z,...w("typescript",t),...w(r,t)}),imports:{react:K,"react-native":K}},extensions:["react-native.tsx"],editor:"script",editorLanguage:"typescript"};var Qt={name:"blockly",title:"Blockly",compiler:{factory:()=>async(e,{options:t})=>t?.blockly?.js||""},extensions:["blockly.xml","xml"],editor:"script",editorLanguage:"xml"};var Xt={name:"twig",title:"Twig",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Ve,factory:(e,t)=>(self.importScripts(t+"lang-twig-compiler.c4dcc5ecde65e18f52f4714c74e5152f.js"),self.createTwigCompiler())},extensions:["twig"],editor:"markup",editorLanguage:"html"};var qo=ke+"compiler.min.js",Yt={name:"astro",title:"Astro",parser:{name:"html",pluginUrls:[p.html,p.babel]},compiler:{url:qo,factory:(e,t)=>(self.importScripts(t+"lang-astro-compiler.efbee0ca048d750ed787834550930af1.js"),self.createAstroCompiler())},extensions:["astro"],editor:"markup"};var er={name:"malina",title:"Malina.js",parser:{name:"html",pluginUrls:[p.html,p.babel]},compiler:{factory:(e,t)=>(self.importScripts(t+"lang-malina-compiler.394dd7793a519c634eedca0796c1d8e1.js"),self.createMalinaCompiler())},extensions:["xht"],editor:"script",editorLanguage:"html"};var Ao=h+"jscpp/JSCPP.es5.min.js",tr={name:"cpp",title:"C++",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[Ao,e+"lang-cpp-script.6362a5043199fe5dcbc88fdce0e72cea.js"],scriptType:"text/cpp",compiledCodeLanguage:"cpp"},extensions:["cpp","c","C","cp","cxx","c++","cppm","ixx","ii","hpp","h"],editor:"script"};var rr={name:"julia",title:"Julia",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-julia-script.3ae0195ce71029e103fcc0e2905190ea.js"],liveReload:!0,scriptType:"text/julia",compiledCodeLanguage:"julia"},extensions:["jl"],editor:"script",largeDownload:!0};var or={name:"clang",title:"Clang",longTitle:"C/C++ (Clang)",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[e+"lang-cpp-clang-script.ba3e5873337a6d7009f3e3e4fa4ef681.js"],scriptType:"text/cpp",compiledCodeLanguage:"cpp",liveReload:!0},extensions:["clang.cpp","clang","cpp","c","C","cp","cxx","c++","cppm","ixx","ii","hpp","h"],editor:"script",editorLanguage:"cpp",largeDownload:!0};var sr={name:"tcl",title:"Tcl",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[Ge,e+"lang-tcl-script.086640745f754791db8a40d8dd8ce18e.js"],scriptType:"text/tcl",compiledCodeLanguage:"tcl"},extensions:["tcl"],editor:"script"};var nr={name:"prolog",title:"Prolog",compiler:{factory:()=>async e=>e,scripts:({baseUrl:e})=>[A+"core.js",A+"charsio.js",A+"dom.js",A+"format.js",A+"js.js",A+"lists.js",A+"os.js",A+"promises.js",A+"random.js",A+"statistics.js",e+"lang-prolog-script.2780539e5f2bc8edb4aedd5cf57143e7.js"],scriptType:"text/prolog",compiledCodeLanguage:"prolog"},extensions:["prolog.pl","prolog"],editor:"script"};var ir={name:"clio",title:"Clio",compiler:{url:ce+"compile.js",factory:(e,t)=>(self.importScripts(t+"lang-clio-compiler.7cc47ec9be8439cc2865fddbc20da58c.js"),self.createClioCompiler()),scripts:[ce+"exec.js"]},extensions:["clio"],editor:"script",editorLanguage:"coffeescript"};var ar={name:"richtext",title:"Rich Text",longTitle:"Rich Text Editor",compiler:{factory:()=>async(e,{config:t})=>t.markup.content||"",styles:["quill.8e9d74c74d2c8aaa5d849678c215cf7e.css"]},extensions:["rte","rte.html","rich"],editor:"markup",editorLanguage:"html"};var Bo=async(e,{baseUrl:t,config:r})=>{let{diagramsCompiler:n}=await import(t+"lang-diagrams-compiler-esm.d1a1cfaf316ec3b7cbe1b41feb1ff353.js");return n(e,{config:r})},cr={name:"diagrams",title:"Diagrams",parser:{name:"html",pluginUrls:[p.html]},compiler:{factory:()=>async e=>e||"",runOutsideWorker:Bo},extensions:["diagrams","diagram","graph","plt"],editor:"markup",editorLanguage:"html"};var lr={name:"imba",title:"Imba",compiler:{url:pe+"compiler.js",factory:(e,t)=>(self.importScripts(t+"lang-imba-compiler.9f5458f74b381aed3017dcc9ea1d8998.js"),self.createImbaCompiler()),imports:{imba:pe+"imba.mjs"}},extensions:["imba"],editor:"script"};var pr={name:"mustache",title:"Mustache",parser:{name:"glimmer",pluginUrls:[p.glimmer]},compiler:{url:_e,factory:(e,t)=>(self.importScripts(t+"lang-mustache-compiler.0a30a4a5874d6b24636f04625617fe55.js"),self.createMustacheCompiler())},extensions:["mustache"],editor:"markup",editorLanguage:"html"};var mr={name:"art-template",title:"art",longTitle:"art-template",parser:{name:"html",pluginUrls:[p.html]},compiler:{url:Ee,factory:(e,t)=>(self.importScripts(t+"lang-art-template-compiler.f791a36ad9d8acf970b79953b79fdbd8.js"),self.createArtTemplateCompiler())},extensions:["art","art-template"],editor:"markup",editorLanguage:"html"};var F=[nt,pt,ut,Yt,dt,tt,st,pr,$t,Rt,_t,Ft,Ot,Xt,mr,cr,ar,ot,gt,ft,lt,yt,it,rt,xt,at,ct,Zt,Vt,St,vt,ht,wt,qt,At,zt,er,jt,Et,ir,lr,Nt,Wt,Gt,Ut,Bt,kt,Dt,Ct,tr,or,Mt,Ht,rr,It,Pt,sr,Tt,Jt,Kt,nr,Qt];var xm=[{id:"normalize.css",name:"Normalize.css",url:De},{id:"reset-css",name:"CSS reset",url:Je},{id:"github-markdown-css",name:"github-markdown-css",url:qe},{id:"asciidoctor.css",name:"Asciidoctor CSS",url:h+"asciidoctor.css/asciidoctor.css"}];var q=e=>{try{return e.startsWith("https://")?new URL(e):new URL("https://"+e)}catch{return}},B=(e,t)=>{if(e.length===0)return{};if(Object.keys(t).some(T))return Object.keys(t).reduce((o,s)=>{let l=T(s);if(!l)return o;let f=e.find(L=>L?.filename===t[s]);if(!f)return o;let S=I(l);return!S||o[S]?o:{...o,[S]:{language:l,content:f.content}}},{});let n=e.map(o=>{let s=o.filename.split(".")[o.filename.split(".").length-1],l=o.language||T(s)||"html",f=o.editorId||I(l)||"markup";return{...o,language:l,editorId:f}}).sort((o,s)=>{if(o.editorId===s.editorId&&(o.editorId==="markup"&&o.filename.toLowerCase().startsWith("index.")||o.editorId==="style"&&o.filename.toLowerCase().startsWith("style.")||o.editorId==="script"&&o.filename.toLowerCase().startsWith("script.")))return-1;if(o.editorId===s.editorId&&(s.editorId==="markup"&&s.filename.toLowerCase().startsWith("index.")||s.editorId==="style"&&s.filename.toLowerCase().startsWith("style.")||s.editorId==="script"&&s.filename.toLowerCase().startsWith("script.")))return 1;if(o.editorId===s.editorId&&o.editorId==="markup"){if(o.filename.toLowerCase().startsWith("readme"))return 1;if(s.filename.toLowerCase().startsWith("readme"))return-1}return o.language===s.language?o.filename.localeCompare(s.filename):F.findIndex(l=>l.name===o.language)-F.findIndex(l=>l.name===s.language)}).reduce((o,s)=>s.filename.toLowerCase().match(new RegExp(".(test|spec)\\.[jt]sx?"))?o.tests?.content?o:{...o,tests:{language:s.language,content:s.content}}:!s.editorId||o[s.editorId]?o:{...o,[s.editorId]:{language:s.language,content:s.content}},{}),c=[],m=e.find(o=>o.filename==="styles");if(m?.content)try{let o=[];new DOMParser().parseFromString(m.content,"text/html").querySelectorAll('link[rel="stylesheet"]').forEach(f=>{o.push(f.href)}),o.length===0&&m.content.trim().split(`
`).forEach(f=>{o.push(f)}),o.forEach(f=>{try{c.push(new URL(f).href)}catch{}})}catch{}let i=[],a=e.find(o=>o.filename==="scripts");if(a?.content)try{let o=[];new DOMParser().parseFromString(a.content,"text/html").querySelectorAll("script").forEach(f=>{o.push(f.src)}),o.length===0&&a.content.trim().split(`
`).forEach(f=>{o.push(f)}),o.forEach(f=>{try{i.push(new URL(f).href)}catch{}})}catch{}return{...n,stylesheets:c,scripts:i}},C={github:/^(?:(?:http|https):\/\/)?github.com\/(?:.*)/g,githubGist:/^(?:(?:http|https):\/\/)?gist.github.com(?:\/\S*)?\/(\w+)/g,gitlab:/^(?:(?:http|https):\/\/)?gitlab.com\/(?:.*)/g,codepen:/^(?:(?:http|https):\/\/)?codepen.io\/(\w+)\/pen\/(\w+)/g,jsbin:/^(?:(?:(?:http|https):\/\/)?(?:\w+.)?)?jsbin.com\/((\w)+(\/\d)?)(?:.*)/g};var ur=(e,t=new RegExp(C.codepen))=>t.test(e),Y={markup:["html","markdown","haml"],style:["css","scss","sass","less","stylus"],script:["javascript","typescript","coffeescript","livescript"]},Fo=async(e,t)=>{let[r,n,c]=new RegExp(C.codepen).exec(e)||[];if(!n||!c)return{};let m=`https://codepen.io/${n}/pen/${c}`,i=Y[t][1],a=Y[t][0];a==="javascript"&&(a="js");let[o,s]=await Promise.all([`${m}.${i}`,`${m}.${a}`].map(S=>fetch(S).then(L=>L.text()))),l=await et(o,Y[t]);return{language:o.trim()!==s.trim()&&l.language===Y[t][0]?l.secondBest:l.language,code:o}},dr=async e=>{try{let t=["markup","style","script"],[r,n,c]=await Promise.all(t.map(m=>Fo(e,m)));return{markup:{language:T(r.language)||"html",content:r.code||""},style:{language:T(n.language)||"css",content:n.code||""},script:{language:T(c.language)||"javascript",content:c.code||""}}}catch(t){return console.error("Cannot fetch: "+e),console.error(t),{}}};var hr=e=>e.startsWith("dom/"),gr=e=>Object.keys(e).reduce((t,r)=>{let n=T(r);if(!n)return t;let c=I(n);return!c||t[c]?t:{...t,[c]:{language:n,selector:e[r]}}},{}),fr=(e,t)=>{try{let r=e.querySelector(t);return r?be(r.innerHTML.trim()+`
`||""):void 0}catch{return}},ee=async(e,t,r)=>{e.startsWith("dom/")&&(e=e.slice(4));let c=new DOMParser().parseFromString(e,"text/html"),m=r.activeEditor,i=F.map(y=>y.name).reduce((y,x)=>({...y,[x]:`.livecodes [data-lang="${x}"]`}),{}),a=Object.keys(t).filter(y=>y.endsWith("-selector")).reduce((y,x)=>({...y,[x.replace("-selector","")]:t[x]}),{}),o=["markup","style","script"].reduce((y,x)=>r[x].language&&r[x].selector?{...y,[x]:{language:r[x].language,selector:r[x].selector}}:y,{}),s=gr(i),l=gr(a),f={...s,...o,...l},S=Object.keys(f).reduce((y,x)=>{let E=fr(c,f[x].selector);return E===void 0?y:{...y,[x]:{language:f[x].language,content:E}}},{activeEditor:m});if(Object.keys(S).length===4)return S;let v={...Object.keys(i).reduce((y,x)=>{let E=I(x);if(!E||S[E])return y;let b=fr(c,i[x]);return b===void 0?y:{...y,[E]:{language:x,content:b}}},{activeEditor:m}),...S};return Object.keys(v).filter(y=>y!=="activeEditor").length===0?{}:v};var _=(e,t)=>({Accept:`application/vnd.github.v3${t?"."+t:""}+json`,"Content-Type":"application/json",Authorization:"token "+e.token});var fe=(e,t=new RegExp(C.github))=>{if(t.test(e))try{let n=Ro(e).pathname.split("/");return n[3]==="tree"||n.length===3}catch{return}},Ro=e=>e.startsWith("https://")?new URL(e):new URL("https://"+e),yr=async(e,t,r)=>{try{let c=(e.startsWith("https://")?new URL(e):new URL("https://"+e)).pathname.split("/"),m=c.length===3,i=c[1],a=c[2],o,s="";m?o=await fetch(`https://api.github.com/repos/${i}/${a}`,{...r?{headers:_(r)}:{}}).then(v=>v.json()).then(v=>v.default_branch):(o=c[4],s=c.slice(5,c.length).join("/"));let l=`https://api.github.com/repos/${i}/${a}/git/trees/${o}?recursive=true`,S=(await fetch(l,{...r?{headers:_(r)}:{}}).then(v=>v.json()).then(v=>v.tree)).filter(v=>m?v.type==="blob":v.type==="blob"&&v.path.startsWith(s)&&v.path.split("/").length===s.split("/").length+1),L=await Promise.all(Object.values(S).map(async v=>{let y=v.path.split("/")[v.path.split("/").length-1],x=atob(await fetch(v.url,{...r?{headers:_(r)}:{}}).then(E=>E.json()).then(E=>E.content));return{filename:y,content:x}}));return B(L,t)}catch(n){return console.error("Cannot fetch directory: "+e),console.error(n),{}}};var xr=(e,t=new RegExp(C.github))=>{if(t.test(e))try{return br(e).pathname.split("/")[3]==="blob"}catch{return}};var br=e=>e.startsWith("https://")?new URL(e):new URL("https://"+e),$o=e=>{let t=e.pathname.split("/"),r=t[1],n=t[2],c=t[4],m=t.slice(5,t.length).join("/"),i=m.split(".")[m.split(".").length-1]||"md",a=e.hash.split("-"),o=e.hash!==""?Number(a[0].replace("#L","")):-1,s=e.hash!==""&&a.length>1?Number(a[1].replace("L","")):o;return{apiUrl:`https://api.github.com/repos/${r}/${n}/contents/${m}?ref=${c}`,extension:i,startLine:o,endLine:s}},Oo=async(e,t)=>{let{apiUrl:r,extension:n,startLine:c,endLine:m}=e;try{let i=await fetch(r,{...t?{headers:_(t)}:{}}).then(l=>l.json()).then(l=>atob(l.content)),a=c>0?i.split(`
`).slice(c-1,m).join(`
`):i,o=T(n)||"html",s=I(o)||"markup";return{[s]:{language:o,content:a},activeEditor:s}}catch{return console.error("Cannot fetch: "+r),{}}},Sr=(e,t)=>{let r=br(e),n=$o(r);return Oo(n,t)};var Lr=(e,t=new RegExp(C.githubGist))=>t.test(e),vr=async(e,t)=>{try{let r=q(e);if(!r)return{};let n=r.pathname.split("/"),c=n[n.length-1],m="",i=await fetch(`https://api.github.com/gists/${c}`).then(o=>o.json()).then(o=>(m=o.description,o.files)).then(o=>Object.values(o).map(s=>{let l=s.language,f=s.filename.split(".")[s.filename.split(".").length-1],S=T(f)||T(l);return{...s,language:S}})),a=Object.values(i).map(o=>({filename:o.filename,language:o.language,content:o.content}));return{...B(a,t),title:m}}catch(r){return console.error("Cannot fetch gist: "+e),console.error(r),{}}};var wr=(e,t=new RegExp(C.gitlab))=>{if(t.test(e))try{let r=q(e);return r?r.pathname.split("/")[4]==="blob":void 0}catch{return}},_o=async e=>{let t=e.pathname.split("/"),r=t[1],n=t[2],c=t[5],m=t.slice(6,t.length).join("/"),i=m.split(".")[m.split(".").length-1]||"md",a=e.hash.split("-"),o=e.hash!==""?Number(a[0].replace("#L","")):-1,s=e.hash!==""&&a.length>1?Number(a[1].replace("L","")):o,l=await fetch(`${e.origin}/api/v4/projects/${r}%2F${n}`).then(S=>S.json()).then(S=>S.id);return{rawURL:`${e.origin}/api/v4/projects/${l}/repository/files/${encodeURIComponent(m)}/raw?ref=${c}`,extension:i,startLine:o,endLine:s}},Do=async e=>{let{rawURL:t,extension:r,startLine:n,endLine:c}=await e;try{let m=await fetch(t).then(s=>s.text()),i=n>0?m.split(`
`).slice(n-1,c).join(`
`):m,a=T(r)||"html",o=I(a)||"markup";return{[o]:{language:a,content:i},activeEditor:o}}catch(m){return console.error("Cannot fetch: "+t),console.error(m),{}}},jr=Se(q,_o,Do);var Er=(e,t=new RegExp(C.gitlab))=>{if(t.test(e))try{let r=q(e);if(!r)return;let n=r.pathname.split("/");return n[4]==="tree"||n.length===3}catch{return}},Tr=async(e,t)=>{try{let r=q(e);if(!r)return{};let n=r.pathname.split("/"),c=n[1],m=n[2],i=await fetch(`${r.origin}/api/v4/projects/${c}%2F${m}`).then(L=>L.json()),a=n[5]||i.default_branch,o=i.id,s=n.slice(6,n.length).join("/"),l=`${r.origin}/api/v4/projects/${o}/repository/tree?per_page=100&ref=${a}&path=${s}`,f=await fetch(l).then(L=>L.json()).then(L=>L.filter(v=>v.type==="blob")),S=await Promise.all(Object.values(f).map(async L=>{let v=L.path.split("/")[L.path.split("/").length-1],y=`${r.origin}/api/v4/projects/${o}/repository/files/${encodeURIComponent(L.path)}/raw?ref=${a}`,x=await fetch(y).then(E=>E.text());return{filename:v,content:x}}));return B(S,t)}catch(r){return console.error("Cannot fetch directory: "+e),console.error(r),{}}};var Ur=(e,t=new RegExp(C.gitlab))=>{if(!t.test(e))return;let r=q(e);if(!r)return;let n=r.pathname.split("/");return n[n.length-2]==="snippets"},kr=async(e,t)=>{try{let r=q(e);if(!r)return{};let n=r.pathname.split("/"),c=n[n.length-1],m="",i=await fetch(`${r.origin}/api/v4/snippets/${c}`).then(o=>o.json()).then(o=>(m=o.title,o.files)),a=await Promise.all(Object.values(i).map(async o=>{let s=o.path,f=q(o.raw_url)?.pathname.split("/")[5]||"main",S=await fetch(`${r.origin}/api/v4/snippets/${c}/files/${f}/${encodeURIComponent(s)}/raw`).then(L=>L.text());return{filename:s,content:S}}));return{...B(a,t),title:m}}catch(r){return console.error("Cannot fetch snippet: "+r),{}}};var O=(e=location.origin)=>Boolean(e&&(e.endsWith("livecodes.io")||e.endsWith("livecodes.pages.dev")||e.endsWith("localpen.io")||e.endsWith("localpen.pages.dev")||e.startsWith("http://127.0.0.1")||e.startsWith("http://localhost"))),Cr=e=>new RegExp(/^(?:(?:http|https):\/\/(?:\w+.)?)(githubusercontent.com|jsbin.com|)\/(?:.*)/g).test(e);var Go="https://api.livecodes.io/cors?url=",Jo="https://api.allorigins.win/raw?url=",te={fetch:async(e,t)=>{let r=(O()?Go:Jo)+encodeURIComponent(e);return Cr(e)?R(r,t):R(e,t).catch(()=>R(r,t))}};var Mr="https://dpaste.com/",zo="https://dpaste.com/api/v2/",Hr="https://api2.livecodes.io/share",Pr={getProject:async e=>{try{let t=await fetch(Mr+e+".txt");return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{try{let t=await fetch(zo,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"LiveCodes / https://livecodes.io/"},body:`content=${encodeURIComponent(JSON.stringify(e))}&title=${encodeURIComponent(e.title||"")}&syntax=json&expiry_days=365`});return t.ok?(await t.text()).replace(Mr,""):""}catch{return""}}},Ko={getProject:async e=>{if(e.length<11)return Pr.getProject(e);if(!O())return{};try{let t=await fetch(Hr+"?id="+e);return t.ok?JSON.parse(await t.text()):{}}catch{return{}}},shareProject:async e=>{if(!O())return"";try{let t=await fetch(Hr,{method:"POST",mode:"cors",body:JSON.stringify(e)});return t.ok?t.text():""}catch{return""}}},Ir=O()?Ko:Pr;var qr=(e,t=new RegExp(C.jsbin))=>t.test(e),Ar=async e=>{let t=new RegExp(C.jsbin).exec(e)?.[1];if(!t)return{};let r=`https://jsbin.com/api/${t}`;try{let n=await te.fetch(r).then(c=>c.json());return{markup:{language:T(n.settings?.processors?.html)||"html",content:n.html||""},style:{language:T(n.settings?.processors?.css)||"css",content:n.css||""},script:{language:T(n.settings?.processors?.javascript)||"javascript",content:n.javascript||""}}}catch(n){return console.error("Cannot fetch: "+r),console.error(n),{}}};var Br=e=>e.startsWith("id/"),Fr=e=>{let t=e.slice(3);return Ir.getProject(t)};var re=async e=>new Promise(async(t,r)=>{window.JSZip||(window.JSZip=(await import(Fe)).default),window.JSZip.loadAsync(e).then(async n=>{let c=n.file(/livecodes\.json/);if(c.length>0){c[0].async("string").then(s=>{t(JSON.parse(s))}).catch(r);return}let m=n.file(/((^src\/)|(\/src\/))/),i=n.file(/.*/),a=i.filter(s=>!s.name.includes("/")),o=m.length>0?m:a.length>0?a:i;if(o.length>0){let s=await Promise.all(o.map(async l=>({filename:l.name,content:await l.async("string")})));t(B(s,{}));return}t({})}).catch(r)});var Zo=(e,t)=>{let r=T(t)||"html",n=I(r)||"markup";return{[n]:{language:r,content:e},activeEditor:n}},Rr=async(e,t,r)=>{let n;try{n=await te.fetch(e)}catch{return console.error("Error fetching "+e),{}}if(e.endsWith(".zip")||["application/zip","application/octet-stream"].includes(n.headers.get("Content-Type")||"")||e.startsWith("data:application/zip")||e.startsWith("data:application/octet-stream")){let i=await n.blob();return re(i)}let c=await n.text();if(t.raw)return Zo(c,t.raw);let m=await ee(c,t,r);if(Object.keys(m).length>0)return m;{let i=e.slice(e.lastIndexOf(".")+1),a=T(i)||"html",o=I(a)||"markup";return{[o]:{language:a,content:c||""},activeEditor:o}}};var $r=async(e,t,r,n)=>we(e)?je(e):Br(e)?Fr(e):hr(e)?ee(e,t,r):Lr(e)?vr(e,t):fe(e)?yr(e,t,n):xr(e)?Sr(e,n):Ur(e)?kr(e,t):Er(e)?Tr(e,t):wr(e)?jr(e):ur(e)?dr(e):qr(e)?Ar(e):e?Rr(e,t,r):Promise.resolve({});var Or=e=>e.querySelector("#url-import-form"),_r=e=>e.querySelector("#url-import-btn"),he=e=>e.querySelector("#code-url"),Dr=e=>e.querySelector("#local-code-input"),Nr=e=>e.querySelector("#json-url-import-form"),Wr=e=>e.querySelector("#json-url-import-btn"),Gr=e=>e.querySelector("#json-url"),Jr=e=>e.querySelector("#bulk-json-url-import-form"),zr=e=>e.querySelector("#bulk-json-url-import-btn"),Kr=e=>e.querySelector("#bulk-json-url"),Zr=e=>e.querySelector("#link-to-saved-projects"),Vr=e=>e.querySelector("#file-input"),Qr=e=>e.querySelector("#bulk-file-input");var Vo=e=>{let t=document.createElement("div");t.innerHTML=ne;let r=t.firstChild,n=r.querySelectorAll("#import-tabs li");return n.forEach(c=>{e.addEventListener(c,"click",()=>{n.forEach(i=>i.classList.remove("active")),c.classList.add("active"),document.querySelectorAll("#import-screens > div").forEach(i=>{i.classList.remove("active")});let m=r.querySelector("#"+c.dataset.target);m?.classList.add("active"),m?.querySelector("input")?.focus()})}),r},Jd=({modal:e,notifications:t,eventsManager:r,getUser:n,loadConfig:c,populateConfig:m,projectStorage:i,showScreen:a})=>{let o=Vo(r),s=Or(o),l=_r(o);r.addEventListener(s,"submit",async u=>{u.preventDefault();let M=l.innerHTML;l.innerHTML="Loading...",l.disabled=!0;let U=he(o),H=U.value,P=await $r(H,{},se,await n?.());P&&Object.keys(P).length>0?(await c({...se,...P},location.origin+location.pathname+"?x="+encodeURIComponent(H)),e.close()):(l.innerHTML=M,l.disabled=!1,t.error("failed to load URL"),U.focus())});let f=u=>new Promise((M,U)=>{let H=Array.from(u.files),P=[];for(let D of H){if(D.size>2097152){U("Error: Exceeded size 2MB");return}let N=new FileReader;r.addEventListener(N,"load",async oe=>{let ye=oe.target?.result||"";P.push({filename:D.name,content:ye}),P.length===H.length&&M(m(P,{}))}),r.addEventListener(N,"error",()=>{U("Error: Failed to read file")}),N.readAsText(D)}}),S=u=>re(u.files[0]),L=Dr(o);r.addEventListener(L,"change",()=>{if(L.files?.length===0)return;(L.files?.length===1&&L.files[0].name.endsWith(".zip")?S:f)(L).then(c).then(e.close).catch(M=>{t.error(M)})});let v=Nr(o),y=Wr(o);r.addEventListener(v,"submit",async u=>{u.preventDefault();let M=y.innerHTML;y.innerHTML="Loading...",y.disabled=!0;let U=Gr(o),H=U.value;R(H).then(P=>P.json()).then(P=>c(P,location.origin+location.pathname+"?config="+H)).then(()=>e.close()).catch(()=>{y.innerHTML=M,y.disabled=!1,t.error("Error: failed to load URL"),U.focus()})});let x=Jr(o),E=zr(o);r.addEventListener(x,"submit",async u=>{u.preventDefault();let M=E.innerHTML;E.innerHTML="Loading...",E.disabled=!0;let U=Kr(o),H=U.value;R(H).then(P=>P.json()).then(j).catch(()=>{E.innerHTML=M,E.disabled=!1,t.error("Error: failed to load URL"),U.focus()})});let b=u=>new Promise((M,U)=>{if(u.files?.length===0)return;let H=u.files[0];if(["application/json","text/plain"].indexOf(H.type)===-1){U("Error: Incorrect file type");return}let D=2*1024*1024;if(H.size>D){U("Error: Exceeded size 2MB");return}let Z=new FileReader;r.addEventListener(Z,"load",async N=>{let oe=N.target?.result||"";try{M(JSON.parse(oe))}catch{U("Invalid configuration file")}}),r.addEventListener(Z,"error",()=>{U("Error: Failed to read file")}),Z.readAsText(H)}),j=async u=>{let M=U=>U.config||U.pen;if(Array.isArray(u)&&u.every(M)&&i){await i.bulkInsert(u.map(M)),t.success("Import Successful!"),a("open");return}return Promise.reject("Error: Invalid file")},d=Vr(o);r.addEventListener(d,"change",()=>{b(d).then(c).then(e.close).catch(u=>{t.error(u)})});let g=Qr(o);r.addEventListener(g,"change",()=>{b(g).then(j).catch(u=>{t.error(u)})});let k=Zr(o);r.addEventListener(k,"click",u=>{u.preventDefault(),a("open")}),e.show(o,{isAsync:!0}),he(o).focus()};export{Jd as createImportUI,$r as importCode};
//# sourceMappingURL=import.js.map
