<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LiveCodes</title>
    <style>
      body {
        overflow: hidden;
      }
    </style>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
    <link rel="stylesheet" href="{{baseUrl}}{{hash:app.css}}" id="app-styles" />
    <script type="importmap">
      {
        "imports": {
          "@codemirror/autocomplete": "{{codemirrorCoreUrl}}",
          "@codemirror/commands": "{{codemirrorCoreUrl}}",
          "@codemirror/language": "{{codemirrorCoreUrl}}",
          "@codemirror/lint": "{{codemirrorCoreUrl}}",
          "@codemirror/search": "{{codemirrorCoreUrl}}",
          "@codemirror/state": "{{codemirrorCoreUrl}}",
          "@codemirror/theme-one-dark": "{{codemirrorCoreUrl}}",
          "@codemirror/view": "{{codemirrorCoreUrl}}",
          "@codemirror/lang-html": "{{codemirrorCoreUrl}}",
          "@codemirror/lang-css": "{{codemirrorCoreUrl}}",
          "@codemirror/lang-javascript": "{{codemirrorCoreUrl}}",
          "@lezer/common": "{{codemirrorCoreUrl}}",
          "@lezer/highlight": "{{codemirrorCoreUrl}}",
          "@lezer/lr": "{{codemirrorCoreUrl}}"
        }
      }
    </script>
  </head>
  <body>
    <div id="container">
      <div id="toolbar">
        <div id="logo">
          <a href="/" title="LiveCodes: Code playground that runs in the browser!"
            ><img
              alt="LiveCodes Logo"
              src="{{baseUrl}}assets/images/livecodes-logo.svg"
              width="50"
              loading="lazy"
          /></a>
        </div>
        <div id="select-editor"></div>
        <div id="project-title" contenteditable="true" tabindex="8">Untitled Project</div>
        <div id="buttons">
          <a
            href="javascript:void(0)"
            id="run-button"
            class="button hint--bottom"
            data-hint="Run (Shift + Enter)"
            tabindex="9"
          >
            <img
              width="20"
              height="20"
              alt="Run"
              src="{{baseUrl}}assets/images/play.svg"
              loading="lazy"
            />
          </a>
          <a
            href="javascript:void(0)"
            id="result-button"
            class="button hint--bottom"
            data-hint="Toggle Result"
            tabindex="10"
          >
            <img
              width="28"
              height="28"
              alt="Result"
              src="{{baseUrl}}assets/images/document.svg"
              loading="lazy"
            />
          </a>
          <a
            href="javascript:void(0)"
            id="fullscreen-button"
            class="button hint--bottom"
            data-hint="Full Screen"
            tabindex="11"
          >
            <img
              width="28"
              height="28"
              alt="Fullscreen"
              src="{{baseUrl}}assets/images/expand.svg"
              loading="lazy"
            />
          </a>
          <a
            href="javascript:void(0)"
            id="settings-button"
            class="button"
            aria-label="Menu"
            tabindex="12"
          >
            <img
              width="30"
              height="30"
              alt="Menu"
              src="{{baseUrl}}assets/images/menu.svg"
              loading="lazy"
            />
          </a>
          <div id="settings-menu-container" class="menu-scroller"></div>
        </div>
      </div>
      <div id="editor-container">
        <div id="editors">
          <div id="markup" class="editor"></div>
          <div id="style" class="editor"></div>
          <div id="script" class="editor"></div>

          <div id="editor-tools" class="tool-buttons">
            <span
              id="copy-btn"
              class="hint--top-right"
              data-hint="Copy (Ctrl/Cmd + A, Ctrl/Cmd + C)"
            >
              <img src="{{baseUrl}}assets/images/copy.svg" alt="copy" />
            </span>
            <span id="undo-btn" class="hint--top-right" data-hint="Undo (Ctrl/Cmd + Z)">
              <img src="{{baseUrl}}assets/images/undo.svg" alt="undo" />
            </span>
            <span id="redo-btn" class="hint--top-right" data-hint="Redo (Ctrl/Cmd + Shift + Z)">
              <img src="{{baseUrl}}assets/images/redo.svg" alt="redo" />
            </span>
            <span id="format-btn" class="hint--top-right" data-hint="Format (Alt + Shift + F)">
              <img src="{{baseUrl}}assets/images/format.svg" alt="format" />
            </span>
            <span id="editor-status">
              <span id="editor-mode" class="hint--top-right" data-hint="Editor Mode"></span>
              <span data-status="markup"></span>
              <span data-status="style"></span>
              <span data-status="script"></span>
            </span>
            <span id="external-resources-btn" class="hint--top-left" data-hint="External CSS/JS">
              <img src="{{baseUrl}}assets/images/script-sheet.svg" alt="External CSS/JS" />
              <span id="external-resources-mark" class="mark"></span>
            </span>
          </div>
          <button id="code-run-button" class="hint--top-left" data-hint="Run (Shift + Enter)">
            <img
              width="20"
              height="20"
              alt="Run"
              src="{{baseUrl}}assets/images/play.svg"
              loading="lazy"
            />
          </button>
        </div>
        <div id="output">
          <div id="result" class="full"></div>
          <div id="tools-pane"></div>
        </div>
      </div>
    </div>
    <div id="overlay" style="display: none"></div>
    <div id="modal-container" style="display: none">
      <div id="modal"></div>
    </div>
    <script src="https://polyfill.io/v3/polyfill.min.js" crossorigin="anonymous"></script>
    <script type="module">
      import { app } from './livecodes/{{script}}';
      window.app = app;
    </script>
  </body>
</html>
